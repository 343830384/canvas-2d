
(function(){

    var npcActCfg ;
    (function(){
        npcActCfg={
            npc0:{
                0:{
                    0:[0,1,2,3,4,3,2,1,0,5,6,7,8,7,6,5], 
                    1:[50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50],
                },
                1:{
                        0:[0,1,0,2],             
                        1:[450,450,450,450],  
                },
                2:{
                    0:[0,1,2,3,4,5,6,7,6,5,6,7,6,5,4,3,2,1],
                    1:[100,100,100,100,100,100,100,100,120,120,120,120,80,80,80,80,80,80],
                },
                3:{
                    0:[0,1,2,3,4,5,6,7,8,9,10,1],
                    1:[50,50,50,50,50,50,50,50,50,50,300,10] 
                },
                4:{
                    0:[0,1,2,3,2,1],
                    1:[80,80,80,400,80,80]
                },
                5:{
                    0:[0,1,2,3,4,5,4],
                    1:[100,100,100,100,100,100,80]
                }
            },
            npc1:{ 
                
                0:{
                    0:[0,1,2,3,4,3,2,1,0,5,6,7,8,7,6,5], 
                    1:[50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50],
                },
                1:{
                        0:[0,1,0,2],             
                        1:[450,450,450,450],  
                },
                2:{
                    0:[0,1,2,3,4,5,6,7,8,9,8,7,6,10,11,12,11,5,4,3,2,1],
                    1:[100,100,100,100,100,100,100,80,80,80,80,80,80,80,80,80,80,100,100,100,100,100],
                },
                3:{
                    0:[0,1,2,3,4,5,6,7,8,9,10,1],
                    1:[50,50,50,50,50,50,50,50,50,50,300,10] 
                },
                4:{
                    0:[0,1,2,3,2,1],
                    1:[80,80,80,400,80,80]
                },
                5:{
                    0:[0,1,2,3,4,5,4],
                    1:[100,100,100,100,100,100,80]
                }
            },
    };
        
    })();
    
    var shadeCfg ;
    (function(){
    
        shadeCfg={
            
              7000:[8101,0,26,8,  -13,-6], 
              7020:[8101,0,36,12, -18,-8], 
              7021:[8101,0,24,10, -12,-6], 
              7022:[8101,0,24,10, -12,-6], 
              7023:[8101,0,24,10, -12,-6], 
              7024:[8101,0,25,10, -12,-7], 
              7025:[8101,0,25,10, -12,-7], 
              7026:[8101,0,25,10, -12,-7], 
              7027:[8101,0,25,10, -12,-7], 
              7028:[8101,0,25,10, -12,-7], 
              7029:[8101,0,25,10, -12,-7], 
              7030:[8101,0,25,10, -12,-7], 
              7031:[8101,0,25,10, -12,-7], 
              7032:[8101,0,25,10, -12,-7], 
              7033:[8101,0,23,10, -11,-7], 
              7034:[8101,0,23,10, -11,-7], 
              7035:[8101,0,23,10, -11,-7], 
              7036:[8101,0,23,10, -11,-7], 
              7037:[8101,0,23,10, -12,-7], 
              7038:[8101,0,23,10, -12,-7], 
              7039:[8101,0,25,10, -13,-8], 
              
       
              7220:[8101,0,30,12, -15,-8],    
       
            
              6200:[8101,0,24,6,  -12,-6],    
              6201:[8101,0,20,6,  -10,-12],   
              
            
              6060:[8101,0,30,10,  -15,-7],
             
       
            
                5220:[8102,0,34,20,   0,-15,0.5],
                5221:[8102,1,42,20,   0,-12,0.5],
                5222:[8104,0,43,10,   -1,-5,0.5],
                5223:[8104,0,43,10,   -1,-3,0.5],
                5224:[8104,0,43,10,   -1,-5,0.5],
                5225:[8104,0,43,10,   -1,-5,0.5],
                5226:[8104,0,48,10,   -1,-5,0.5],
                5227:[8104,0,45,10,   -1,-5,0.5],
                5228:[8104,0,45,10,   -1,-5,0.5],
       
            
                5200:[8103,0,52,20, -6,-11,1],   
                5201:[8103,0,52,20, -6,-11,1],   
                5202:[8103,0,52,20, -6,-11,1],   
                5203:[8103,0,52,20, -6,-11,1],
                5204:[8103,1,58,20, -9,-12,1],   
                5205:[8103,1,58,20, -9,-12,1],   
                5206:[8103,1,56,20, -8,-12,1],   
       
            
                5001:[8104,2,270,60, -115,-54,3], 
                5002:[8104,2,218,60, -98,-48,1], 
                5003:[8104,2,218,60, -74,-48,1],   
                5004:[8104,2,176,48, -66,-39,1], 
                5006:[8104,1,154,60, -55,-44,1], 
                5007:[8104,3,384,80, -195,-55,3], 
                5008:[8104,0,266,80, -113,-55,3], 
                5009:[8104,2,366,80, -162,-50,3], 
                5010:[8104,2,372,90, -130,-60,3], 
                5011:[8104,1,240,80, -80,-60,3],  
                5012:[8104,3,434,130, -160,-83,3],
                5013:[8104,1,150,40, -28,-34,1],
                5014:[8104,1,98,30, -28,-23,1],
                5015:[8104,0,114,30, -36,-26,1],
                5016:[8104,0,160,50, -39,-42,1],
                5017:[8104,2,260,80, -110,-46,1],
                5018:[8104,0,296,100, -110,-60,1],
                5019:[8104,2,136,48, -40,-28,1],
                5020:[8104,2,136,48, -58,-29,1],
                5021:[8104,2,260,68, -100,-38,1],
                5022:[8104,0,290,88, -118,-48,1],
                5023:[8104,2,100,48, -32,-28,1],
                5024:[8104,3,76,30, -26,-16,1],
                
                5100:[8109,2,38,22, 1,-21,0],
                5101:[8109,2,58,22, -9,-15,0],
                5102:[8109,2,58,22, -11,-15,0],
                5103:[8109,2,40,20, 0,-16,0],
                5104:[8109,2,40,20, -1,-16,0], 
                5105:[8109,2,40,22, 0,-16,0],
                5106:[8109,2,40,22, 0,-16,0],
                
            
               
               1201:[8105,0,12,10, 14,-6,0], 
       
              
               1202:[8105,1,22,12, 9,-6,0],  
               1203:[8105,1,26,14, 8,-10,1],  
               1204:[8105,2,31,16, 6,-11,1],  
               1205:[8105,4,40,16, 2,-12,1],  
               
               1206:[8105,1,22,12, 10,-8,1],
               1207:[8105,6,26,12, 7,-8,1],
               1208:[8105,6,36,12, 2,-8,1],
               1209:[8105,6,40,12, 0,-8,2],
               
               1212:[,
                 [8103,0,13,10, 13,-5],
                 [8103,0,22,16, 8,-8],
                 [8103,0,28,14, 6,-6],
                 [8103,0,36,24, 0,-12]
               ],
               
               1213:[,
                 [8103,0,16,12, 12,-5],
                 [8103,0,20,12, 10,-4],
                 [8103,0,26,14, 7,-6],
                 [8103,0,28,14, 6,-6]
               ],
               
               1214:[,
                 [8103,0,16,12, 12,-5],
                 [8103,0,20,14, 10,-7],
                 [8103,0,26,16, 7,-8],
                 [8103,0,32,18, 4,-5]
               ],
               
               1215:[,
                 [8103,0,16,12, 12,-5],
                 [8103,0,18,14, 11,-7],
                 [8103,0,20,16, 11,-8]
               ],
               
               1216:[,
                 [8103,0,16,12, 12,-5],
                 [8103,0,22,20, 10,-9],
                 [8103,0,28,20, 7,-8],
                 [8103,0,28,20, 7,-8]
               ],
               
               1217:[,
                 [8103,0,16,12, 12,-5],
                 [8103,0,22,16, 10,-7],
                 [8103,0,28,18, 8,-8],
                 [8103,0,40,24, 0,-12]
               ],
               
               1218:[,
                 [8103,0,16,12, 12,-6],
                 [8103,0,26,14, 8,-6],
                 [8103,0,28,14, 8,-6],
                 [8103,0,36,16, 4,-8]
               ],
               
               1219:[,
                 [8103,0,16,12, 12,-6],
                 [8103,0,20,14, 11,-7],
                 [8103,0,27,16, 8,-8],
               ],
       
             
                
                 2100:[
                     [8101,1,25,12,  8,-8],
                     [8101,1,24,14,  8,-8],
                     ,
                     [8101,1,28,14,  5,-10] ,
                     [8101,1,28,14,  5,-10] ,
                 ],
                 2101:[
                     [8109,0,37,16,  4,-10],
                     [8109,0,37,16,  2,-10],
                     [8101,2,40,10,  0,-6],
                 ],
                 2102:[
                       [8101,3,36,6, 2,0], 
                       
                 ],
                 2200:[
                     ,,,
                     
                     [8101,5,40,4,0,-2], 
                     [8101,5,40,4,0,-2],
                     [8101,5,40,4,0,-2],
                     [8101,5,40,4,0,-2],
                    
                     [8101,5,6,40,16,-30],
                     [8101,5,6,40,16,-30],
                     [8101,5,6,40,16,-30],
                     [8101,5,6,40,16,-30],
                     [8101,5,6,40,16,-30],
                     [8101,5,6,40,16,-30],
                     [8101,5,6,40,16,-30],
                     [8101,5,6,40,16,-30],
                   
                 ],
                
                3010:[ 
                     [8101,3,66,24, 7,-17],
                ], 
                
            
                
                3814:[
                     [8101,2,260,120, -10,-110], 
       
                ],
                
                1500:[
                    [8110,0,40,14,    1,-10], 
                    [8110,1,14,40,    13,-35], 
                ],
                1501:[
                    [8101,3,52,30,    -11,-20], 
                    [8101,2,38,84,    1,-64],    
                ],
                2103:[,
                     [8101,3,18,18, 11,-11],    
                ],
                
                3450:[
                    [8101,3,240,10, 0,-7],
                ],
                3870:[ 
                     [8110,2,150,166, 6,-165],  
                     [8110,2,200,204, 2,-190],  
                ],  
                
                200:[
                      [8101,5,40,80, 0,-50],
                      [8101,5,40,80, 0,-50],
                      [8101,5,40,80, 0,-50],
                      [8101,5,40,80, 0,-50],
                ], 
                
                4762:[
                   [8101,2,44,12,-1,-16],  
                   [8101,2,40,10,0,-16],   
                   [8101,4,26,14,4,-17],   
                   [8101,4,26,14,10,-17], 
               ],
               4765:[
                    ,,,,,,,,,,,, 
                    [8101,2,58,20, 11,-21],
                    [8101,2,28,20, 6,-19],
                    [8101,1,28,12, 6,-10],
                    [8101,1,28,12, 6,-10],
                    [8101,1,28,12, 6,-10],
               ],
               5400:[
                   ,
                   ,
                   ,
                   ,
                   ,
                   [8101,0,48,16,-5,-14],
                   ,
                   ,
                   ,
                   ,
                   ,
                   ,
                   ,
                   [8101,0,28,16,5,-13],
                   ,
                   ,
                   ,
                   ,
                   ,
                   ,
                   ,
                   ,
                   ,
                   ,
                   ,
                   ,[8101,0,38,16,2,-13]
               ],
               5401:[
                 [8101,0,49,24,2,-23],
                 [8101,0,49,24,2,-23],
               ]
       };
       
        
    })();
    
    var magicCfg, gUserAct;
    (function(){
     magicCfg={  
            
            0:{ 
                     t:5,       
                     c:3,      
                                
                     w:[3,3],  
                     m:0,      
                     k:0,     
                              
                     
                     e:0,     
                     cd:3000, 
                     id:7300,  
                     l:0,  
                     fps:[
                        [0,22,22],
                        [1,22,22],
                        [2,22,22],
                        [3,22,39],
                        [4,58,13,-1], 
                        [5,58,25,0],            
                        [6,58,10,1],
                        [7,111,42,-1],
                        [8,111,32,0],   
                        [9,111,29,1],   
                        [10,125,41,-1],
                        [11,125,37,0],   
                        [12,125,34,1],    
                     ],
                     act:[ 
                   
                   
                   
                         [100,[[0,9,-100]]] , 
                          [100,[ [1,9,-100] ]] , [100,[[2,9,-100]]], 
                         [50,[[3,9,-80] ]], [50,[[3,9,-50] ]], [50,[[3,9,-10] ]], 
                         [100,[[4,-9,0],[5,-9,0],[6,-9,-15] ]],
                         [100,[[7,-35,0],[8,-35,0],[9,-35,0]],1],
                         [300,[[10,-42,0],[11,-42,0],[12,-42,0]],1],  
                         
                          
                     ]   
            },
      };
      
     
      
     gUserAct={ 
                     
                     
                wq:{
                    0:{ 
                        
                       0:[0,2], 
                    },
                    1:{ 
                      80:[0,2]
                    },
                    2:{ 
                      120:[0,2], 
                    },
                    3:{ 
                      40:[20,4,0],
                       
                    },
               },
               cfg:{ 
                  
                     
                    0:{ 
                            t:0,  
                            
                            k:2,  
                            
                            
                            
                    },
                    
                    1:{
                        t:1,c:5,k:1,m:0,
    
                        
                        
                    }
               },
               jn:{ 
                  
                       
                        0:[
                            [7601,100,[[0,46,60,  -58,-76] ],1,1],
                        ],
                        20:[
                            [7300,100,[[0,22,22,-40,-60,]  ],0],  
                            [7300,100,[[1,22,22,-40,-60,]  ],0],
                            [7300,100,[[2,22,22,-40,-60,]  ],0],
                            [7300,60,[[0,22,22,-65,-60,]  ],0],
                            [7300,60,[[1,26,26,-95,-62,]  ],0,0.7],
                            [7300,60,[[2,30,30,-120,-64,]  ],0],
                        ] 
      
               },
                
      };
      
    })();
    
    var allActCfg;
    (function(){
        allActCfg={
            6060:{ 
                  id:6060,
                  noH:44,
                  type:5,    
                  imgL:8,  
                  mCfg:[40,20,800], 
                  zyYd:1,
                  zbsx:[[5,5],5,5,5,5,600],
                  zySj:{
                        0:1, 
                        1:[ [-1,4,[0]] ,[1,0,500 ],[-1,4,[0]],[2,1,1 ],[3,1,2] ], 
                    
                       3:{ 
                         0:[[102,0.6,0]], 
                         3:[0,0,[200,1,0,80]],
                       }
                  },
                  sCfg:{
                     0:[40,40,1,1,0,2, 0,0,0,0,  22,0], 
                  },
                  fps:[ 
                        [[0,1],[200,200]],             
                        [[2,3],[300,300]],             
                        [[2,4,5,4],[300,300,300,300]], 
                        [[6,7],[250,250]],             
                  ],
                  basic:{
                      0:{a:0,b:0}, 
                      1:{a:1,b:0},
                      2:{a:2,b:0},
                      3:{a:3,b:0},
                   },
             },
            7000:{
                 id:7000,
                 type:4,   
                 noH:85,   
                 mCfg:[40,20,840],  
                 xzQh:1, 
                 xzD:[0,8],
                 zyYd:1,   
                 zySj:{
                      0:0, 
                      1:[ [1,0,6000] , [2,1,1] ],   
                      3:{ 
                       0:[[[100,1,100]]] 
                        
                      },
                 },    
                 
                 
                 
                 sCfg:{
                     0:[200,130,1,1,0,3 ,  100,0,0,0, 100,0],
                 },
                 basic:{
                    0:{a:0,b:0},1:{a:1,b:0},2:{a:2,b:0},3:{a:3,b:0},4:{a:4,b:0},5:{a:5,b:0}   
                 },
                 fps:[],
               
                 
            }, 
            
            7220:{
                 id:7220,
                 type:3, 
                 noH:90,
                 zbsx:[[10,10,0],5,5,5,5,600], 
                 zyYd:1,
                 zySj:{ 
                    0:1,
                    1:[[-1,4,[0]],[1,0,1200 ] ],  
                    3:{ 
                       0:[[101,0.8,100]] 
                        
                      }, 
                 },
                 xzQh:1, 
                 xzD:[0,2],
                 mCfg:[40,20,1200], 
                 imgL:5, 
                 sCfg:{
                       0:[30,80,1,1,0,0,  15,0,0,0, 15,0]
                    },   
                 fps:[
                    [[0,1,2,1],[400,200,400,200]],   
                                
                    [[3,4],[1000,1000]],      
                 ],
                 basic:{
                    0:{a:0,b:0}, 
                    1:{a:1,b:0},     
                 },
                 
                 
                 
                 
            },
            7020:{
              id:7020,
              type:3, 
              noH:90,
              zbsx:[[10,10,0],5,5,5,5,600], 
              zyYd:1,
              zySj:{ 
                 0:0,
                 1:[[1,1,0.6] ],  
                 3:{ 
                    0:[[101,0.8,100]] 
                   }, 
              },
              xzQh:1, 
              xzD:[0,2],
              mCfg:[40,20,1600], 
              imgL:5, 
              sCfg:{
                    0:[46,68,1,1,0,0,  15,0,0,0, 26,0]
                 },   
              fps:[
                 [[0,1,2,1],[400,400,400,400]],   
                             
                 [[3,4],[1000,1000]],      
              ],
              basic:{
                 0:{a:0,b:0}, 
                 1:{a:1,b:0},     
              },
            },
           7021:{
              id:7021,
              type:3, 
              noH:90,
              zbsx:[[10,10,0],5,5,5,5,600], 
              zyYd:1,
              zySj:{ 
                 0:0,
                 1:[ [1,0,6000 ] ],
                 3:{ 
                    0:[[101,0.8,100]] 
                 }, 
              },
              xzQh:1, 
              xzD:[0,2],
              mCfg:[40,20,1000], 
              imgL:5, 
              sCfg:{
                    0:[21,77,1,1,0,0,  0,0,0,0, 12,0]
                 },   
              fps:[
                 [[0,1,2,1],[300,200,300,200]],   
                             
                 [[3,4],[1000,1000]],      
              ],
              basic:{
                 0:{a:0,b:0}, 
                 1:{a:1,b:0},     
              },
           },
           7022:{
              id:7022,
              type:3, 
              noH:90,
              zbsx:[[10,10,0],5,5,5,5,600], 
              zyYd:1,
              zySj:{ 
                 0:1,
                 1:[ [1,0,6000 ] ],
                 3:{ 
                    0:[[101,0.8,100]] 
                 }, 
              },
              xzQh:1, 
              xzD:[0,2],
              mCfg:[40,20,1000], 
              imgL:5, 
              sCfg:{
                    0:[22,78,1,1,0,0,  0,0,0,0, 12,0]
                 },   
              fps:[
                 [[0,1,2,1],[300,200,300,200]],   
                             
                 [[3,4],[1000,1000]],      
              ],
              basic:{
                 0:{a:0,b:0}, 
                 1:{a:1,b:0},     
              },
           },
           7023:{
              id:7023,
              type:3, 
              noH:90,
              zbsx:[[10,10,0],5,5,5,5,600], 
              zyYd:1,
              zySj:{ 
                 0:1,
                 1:[ [1,0,6000 ] ],
                 3:{ 
                    0:[[101,0.8,100]] 
                 }, 
              },
              xzQh:1, 
              xzD:[0,2],
              mCfg:[40,20,1000], 
              imgL:5, 
              sCfg:{
                    0:[20,77,1,1,0,0,  0,0,0,0, 11,0]
                 },   
              fps:[
                 [[0,1,2,1],[300,200,300,200]],   
                             
                 [[3,4],[1000,1000]],      
              ],
              basic:{
                 0:{a:0,b:0}, 
                 1:{a:1,b:0},     
              },
           },
           7024:{
              id:7024,
              type:3, 
              noH:90,
              zbsx:[[10,10,0],5,5,5,5,600], 
              zyYd:1,
              zySj:{ 
                 0:0,
                 1:[[1,0,6000],[2,1,2]], 
                 3:{ 
                    0:[[101,0.8,100]] 
                 }, 
              },
              xzQh:1, 
              xzD:[0,2],
              mCfg:[40,20,1000], 
              imgL:7, 
              sCfg:{
                    0:[24,78,1,1,0,0,  0,0,0,0, 11,0]
                 },   
              fps:[
                 [[0,1,2,1],[300,200,300,200]],   
                 [[3,4],[1000,1000]],      
                 [[5,6],[700,700]],
              ],
              basic:{
                 0:{a:0,b:0}, 
                 1:{a:1,b:0},
                 2:{a:2,b:0},       
              },
           },
           7025:{
              id:7025,
              type:3, 
              noH:90,
              zbsx:[[10,10,0],5,5,5,5,600], 
              zyYd:1,
              zySj:{ 
                 0:0,
                 1:[[1,0,6000],[2,1,2]], 
                 3:{ 
                    0:[[101,0.8,100]] 
                 }, 
              },
              xzQh:1, 
              xzD:[0,2],
              mCfg:[40,20,1000], 
              imgL:7, 
              sCfg:{
                    0:[23,78,1,1,0,0,  0,0,0,0, 11,0]
                 },   
              fps:[
                 [[0,1,2,1],[300,200,300,200]],   
                 [[3,4],[1000,1000]],      
                 [[5,6],[700,700]],
              ],
              basic:{
                 0:{a:0,b:0}, 
                 1:{a:1,b:0},
                 2:{a:2,b:0},       
              },
           },
           7026:{
              id:7026,
              type:3, 
              noH:90,
              zbsx:[[10,10,0],5,5,5,5,600], 
              zyYd:1,
              zySj:{ 
                 0:0,
                 1:[[1,0,6000],[2,1,2]], 
                 3:{ 
                    0:[[101,0.8,100]] 
                 }, 
              },
              xzQh:1, 
              xzD:[0,2],
              mCfg:[40,20,1000], 
              imgL:7, 
              sCfg:{
                    0:[25,78,1,1,0,0,  0,0,0,0, 12,0]
                 },   
              fps:[
                 [[0,1,2,1],[300,200,300,200]],   
                 [[3,4],[1000,1000]],      
                 [[5,6],[700,700]],
              ],
              basic:{
                 0:{a:0,b:0}, 
                 1:{a:1,b:0},
                 2:{a:2,b:0},       
              },
           },
           7027:{
              id:7027,
              type:3, 
              noH:90,
              zbsx:[[10,10,0],5,5,5,5,600], 
              zyYd:1,
              zySj:{ 
                 0:0,
                 1:[[1,0,6000],[2,1,2]], 
                 3:{ 
                    0:[[101,0.8,100]] 
                 }, 
              },
              xzQh:1, 
              xzD:[0,2],
              mCfg:[40,20,1000], 
              imgL:7, 
              sCfg:{
                    0:[23,78,1,1,0,0,  0,0,0,0, 13,0]
                 },   
              fps:[
                 [[0,1,2,1],[300,200,300,200]],   
                 [[3,4],[1000,1000]],      
                 [[5,6],[700,700]],   
              ],
              basic:{
                 0:{a:0,b:0}, 
                 1:{a:1,b:0},
                 2:{a:2,b:0},       
              },
           },
           7028:{
              id:7028,
              type:3, 
              noH:90,
              zbsx:[[10,10,0],5,5,5,5,600], 
              zyYd:1,
              zySj:{ 
                 0:0,
                 1:[[1,0,6000],[2,1,2]], 
                 3:{ 
                    0:[[101,0.8,100]] 
                 }, 
              },
              xzQh:1, 
              xzD:[0,2],
              mCfg:[40,20,1000], 
              imgL:7, 
              sCfg:{
                    0:[24,78,1,1,0,0,  0,0,0,0, 13,0]
                 },   
              fps:[
                 [[0,1,2,1],[300,200,300,200]],   
                 [[3,4],[1000,1000]],      
                 [[5,6],[700,700]],
              ],
              basic:{
                 0:{a:0,b:0}, 
                 1:{a:1,b:0},
                 2:{a:2,b:0},       
              },
           },
           7029:{
              id:7029,
              type:3, 
              noH:90,
              zbsx:[[10,10,0],5,5,5,5,600], 
              zyYd:1,
              zySj:{ 
                 0:0,
                 1:[[1,0,6000],[2,1,2]], 
                 3:{ 
                    0:[[101,0.8,100]] 
                 }, 
              },
              xzQh:1, 
              xzD:[0,2],
              mCfg:[40,20,1000], 
              imgL:7, 
              sCfg:{
                    0:[24,78,1,1,0,0,  0,0,0,0, 13,0]
                 },   
              fps:[
                 [[0,1,2,1],[300,200,300,200]],   
                 [[3,4],[1000,1000]],      
                 [[5,6],[700,700]],
              ],
              basic:{
                 0:{a:0,b:0}, 
                 1:{a:1,b:0},
                 2:{a:2,b:0},       
              },
           },
           7030:{
              id:7030,
              type:3, 
              noH:90,
              zbsx:[[10,10,0],5,5,5,5,600], 
              zyYd:1,
              zySj:{ 
                 0:0,
                 1:[[1,0,6000],[2,1,2]], 
                 3:{ 
                    0:[[101,0.8,100]] 
                 }, 
              },
              xzQh:1, 
              xzD:[0,2],
              mCfg:[40,20,1000], 
              imgL:7, 
              sCfg:{
                    0:[29,78,1,1,0,0,  0,0,0,0, 15,0]
                 },   
              fps:[
                 [[0,1,2,1],[300,200,300,200]],   
                 [[3,4],[1000,1000]],      
                 [[5,6],[700,700]],
              ],
              basic:{
                 0:{a:0,b:0}, 
                 1:{a:1,b:0},
                 2:{a:2,b:0},       
              },
           },
           7031:{
              id:7031,
              type:3, 
              noH:90,
              zbsx:[[10,10,0],5,5,5,5,600], 
              zyYd:1,
              zySj:{ 
                 0:0,
                 1:[[1,0,6000],[2,1,2]], 
                 3:{ 
                    0:[[101,0.8,100]] 
                 }, 
              },
              xzQh:1, 
              xzD:[0,2],
              mCfg:[40,20,1000], 
              imgL:7, 
              sCfg:{
                    0:[28,78,1,1,0,0,  0,0,0,0, 14,0]
                 },   
              fps:[
                 [[0,1,2,1],[300,200,300,200]],   
                 [[3,4],[1000,1000]],      
                 [[5,6],[700,700]],
              ],
              basic:{
                 0:{a:0,b:0}, 
                 1:{a:1,b:0},
                 2:{a:2,b:0},       
              },
           },
           7032:{
              id:7032,
              type:3, 
              noH:90,
              zbsx:[[10,10,0],5,5,5,5,600], 
              zyYd:1,
              zySj:{ 
                 0:0,
                 1:[[1,1,1] ], 
                 
                 
                 
                 3:{ 
                    0:[[101,0.8,100]] 
                 }, 
              },
              xzQh:1, 
              xzD:[0,2],
              mCfg:[40,20,800], 
              imgL:5, 
              sCfg:{
                    0:[33,77,1,1,0,0,  0,0,0,0, 11,0]
                 },   
              fps:[
                 [[0,1,2,1],[200,200,200,200]],  
                 [[3,4],[1000,1000]],           
              ],
              basic:{
                 0:{a:0,b:0}, 
                 1:{a:1,b:0},  
              },
           },
           7033:{
              id:7033,
              type:3, 
              noH:90,
              zbsx:[[10,10,0],5,5,5,5,600], 
              zyYd:1,
              zySj:{ 
                 0:0,
                 1:[[1,0,6000]], 
                 3:{ 
                    0:[[101,0.8,100]] 
                 }, 
              },
              xzQh:1, 
              xzD:[0,2],
              mCfg:[40,20,800], 
              imgL:5, 
              sCfg:{
                    0:[25,72,1,1,0,0,  0,0,0,0, 12,0]
                 },   
              fps:[
                 [[0,1,2,1],[200,200,200,200]],  
                 [[3,4],[1600,1600]],           
              ],
              basic:{
                 0:{a:0,b:0}, 
                 1:{a:1,b:0},  
              },
           },
           7034:{
              id:7034,
              type:3, 
              noH:90,
              zbsx:[[10,10,0],5,5,5,5,600], 
              zyYd:1,
              zySj:{ 
                 0:0,
                 1:[[1,0,6000]], 
                 3:{ 
                    0:[[101,0.8,100]] 
                 }, 
              },
              xzQh:1, 
              xzD:[0,2],
              mCfg:[40,20,800], 
              imgL:5, 
              sCfg:{
                    0:[22,74,1,1,0,0,  0,0,0,0, 12,0]
                 },   
              fps:[
                 [[0,1,2,1],[200,200,200,200]],  
                 [[3,4],[1600,1600]],           
                
              ],
              basic:{
                 0:{a:0,b:0}, 
                 1:{a:1,b:0},  
              },
           },
           7035:{
              id:7035,
              type:3, 
              noH:90,
              zbsx:[[10,10,0],5,5,5,5,600], 
              zyYd:1,
              zySj:{ 
                 0:0, 
                 1:[[1,0,8000],[2,1,1] ],  
                 3:{ 
                    0:[[101,0.8,100]] 
                 }, 
              },
              xzQh:1, 
              xzD:[0,2],
              mCfg:[40,20,800], 
              imgL:7, 
              sCfg:{
                    0:[24,76,1,1,0,0,  0,0,0,0, 11,0]
                 },   
              fps:[
                 [[0,1,2,1],[200,200,200,200]],  
                 [[3,4],[1600,1600]],           
                 [[5,1,6],[1000,1000,1000]],    
              ],
              basic:{
                 0:{a:0,b:0}, 
                 1:{a:1,b:0},
                 2:{a:2,b:0},   
              },
           },
           7036:{
              id:7036,
              type:3, 
              noH:90,
              zbsx:[[10,10,0],5,5,5,5,600], 
              zyYd:1,
              zySj:{ 
                 0:0,
                 1:[[1,0,6000]],
                 3:{ 
                    0:[[101,0.8,100]] 
                 }, 
              },
              xzQh:1, 
              xzD:[0,2],
              mCfg:[40,20,1200], 
              imgL:5, 
              sCfg:{
                    0:[30,82,1,1,0,0,  0,0,0,0, 19,0]
                 },   
              fps:[
                 [[0,1,2,1],[300,300,300,300]],  
                 [[3,4],[1000,1000]],           
              ],
              basic:{
                 0:{a:0,b:0}, 
                 1:{a:1,b:0},
              },
           },
           7037:{
              id:7037,
              type:3, 
              noH:90,
              zbsx:[[10,10,0],5,5,5,5,600], 
              zyYd:1,
              zySj:{ 
                 0:0,
                 1:[[1,0,6000],[2,1,2]], 
                 3:{ 
                    0:[[101,0.8,100]] 
                 }, 
              },
              xzQh:1, 
              xzD:[0,2],
              mCfg:[40,20,1000], 
              imgL:7, 
              sCfg:{
                    0:[25,77,1,1,0,0,  0,0,0,0, 12,0]
                 },   
              fps:[
                 [[0,1,2,1],[300,200,300,200]],   
                 [[3,4],[1000,1000]],      
                 [[5,6],[700,700]],       
              ],
              basic:{
                 0:{a:0,b:0}, 
                 1:{a:1,b:0},
                 2:{a:2,b:0},     
              },
           },
           7038:{
              id:7037,
              type:3, 
              noH:90,
              zbsx:[[10,10,0],5,5,5,5,600], 
              zyYd:1,
              zySj:{ 
                 0:0,
                 1:[[1,0,6000],[2,1,2]], 
                 3:{ 
                    0:[[101,0.8,100]] 
                 }, 
              },
              xzQh:1, 
              xzD:[0,2],
              mCfg:[40,20,1000], 
              imgL:7, 
              sCfg:{
                    0:[25,78,1,1,0,0,  0,0,0,0, 12,0]
                 },   
              fps:[
                 [[0,1,2,1],[300,200,300,200]],   
                 [[3,4],[1000,1000]],      
                 [[5,6],[700,700]],       
              ],
              basic:{
                 0:{a:0,b:0}, 
                 1:{a:1,b:0},
                 2:{a:2,b:0},     
              },
           },
           7039:{
              id:7039,
              type:3, 
              noH:85,
              zbsx:[[10,10,0],5,5,5,5,600], 
              zyYd:1,
              zySj:{ 
                 0:0,
                 1:[[1,1,1]], 
                 3:{ 
                    0:[[101,0.8,100]] 
                 }, 
              },
              xzQh:1, 
              xzD:[0,2],
              mCfg:[40,20,1000], 
              imgL:5, 
              sCfg:{
                    0:[34,76,1,1,0,0,  0,0,0,0, 16,0]
                 },   
              fps:[
                 [[0,1,2,1],[300,200,300,200]],   
                 [[3,4],[1000,1000]],      
              ],
              basic:{
                 0:{a:0,b:0}, 
                 1:{a:1,b:0},
              },
           },
            
            6200:{
                id:6200,
                type:1, 
                zyYd:1,
                zySj:{
                   0:1,
                   1:[ [-1,2,[0,0]] , ],  
                   3:{ 
                    0:[[110,0.8,100]] 
                    
                   },   
                 },
                zbsx:[[30,10,0],5,5,5,5,600],
                gjAct:1, 
                imgL:6, 
                noH:90,
                mCfg:[40,20,1200],
                sCfg:{ 
                    0:[45,90,1,1,0,2, 0,0,0,0,  35,0],   
                    1:[100,90,1,1,0,2, 0,0,0,0, 65,0],  
                },
               fps:[
                    [[0,1],[300,300]],              
                    
                    [[2,3,4,5],[200,200,400,300]],  
               ],
               basic:{
                    0:{a:0,b:0}, 
                    1:{a:1,b:1}, 
               },
               gjDz:{
                    t:0,c:3,k:1,e:0,
                    s:[
                       [7600,150,[[0,46,14,-70,-47] ],1,1], 
                       
                       
                    ]
               },
               skill:[
                  magicCfg[0],
               ],
            }, 
            6201:{
                 id:6201,
                 type:1,
                 noH:90,
                 zbsx:[[30,10],5,5,5,5,600], 
                 gjAct:1, 
                 zyYd:1,
                 zySj:{
                    0:1,
                    1:[ [-1,2,[0,-1] ],[-1,4,[0]] ],
                    3:{ 
                       0:[[110,1,100]] 
                      }, 
                 },
                 mCfg:[40,20,1800], 
                 imgL:5, 
                 sCfg:{
                       0:[40,80,1,1,0,2, 0,0,0,0, 26,0]
                    },   
                 fps:[
                    [[0,1],[450,450]],      
                    [[2,3,4],[250,250,250]],
                 ],
                 basic:{
                    0:{a:0,b:0},
                    1:{a:1,b:0},     
                 },
                 gjDz:{
                    t:1,c:5,k:1,e:0,
                    s:gUserAct.jn[20],  
                 },
                 skill:[
                    magicCfg[0],
                 ]  
            },
            6300:{
                    id:6300,
                    sw:[113,1,200],
                    ss:[114,1,0],
                    type:1, 
                    zyYd:1,
                    zySj:{
                       0:1,
                       1:[ [-1,2,[0,0]],[-1,4,[0]]], 
                       3:{ 
                          0:[[111,0.8,100]], 
                          1:[
                             [112,1,100],  
                          ]
                       },   
                    },
                    zbsx:[[2,3,0],20,5,5,5,100],
                    gjAct:1, 
                    imgL:4, 
                    noH:30,
                    mCfg:[40,20,1200],
                    sCfg:{
                       0:[34,25,1,1,0,2, 0,0,0,0,  20,0], 
                    },
                    fps:[
                          [[0,1],[300,300]],              
                          [[0,2,3],[200,800,400]],  
                    ],
                    basic:{
                          0:{a:0,b:0}, 
                          1:{a:1,b:0}, 
                    },
                    gjDz:{
                          t:0,c:1,k:1,e:0,
                          s:[
                             [-1,0,-1,0,1],
                          ]
                    },
            },
            6301:{
                 id:6301,
                 sw:[113,1,200],
                 ss:[114,1,0],
                 type:1, 
                 zyYd:1,
                 zySj:{
                    0:1,
                    1:[ [-1,2,[0,0]],[-1,4,[0]]  ],
                    3:{ 
                       0:[[111,0.8,100]], 
                       1:[
                          [112,1,100],  
                       ]
                    },   
                 },
                 zbsx:[[2,3,0],20,5,5,5,100],
                 gjAct:1, 
                 imgL:4, 
                 noH:30,
                 mCfg:[40,20,1200],
                 sCfg:{
                    0:[34,25,1,1,0,2, 0,0,0,0,  20,0], 
                 },
                 fps:[
                       [[0,1],[300,300]],              
                       [[0,2,3],[200,800,400]],  
                 ],
                 basic:{
                       0:{a:0,b:0}, 
                       1:{a:1,b:0}, 
                 },
                 gjDz:{
                       t:0,c:1,k:1,e:0,
                       s:[
                          [-1,0,-1,0,1],
                       ]
                 },
            },
            6302:{
                 id:6302,
                 sw:[113,1,200],
                 ss:[114,1,0],
                 type:1, 
                 zyYd:1,
                 zySj:{
                    0:1,
                    1:[ [-1,2,[0,0]],[-1,4,[0]] ],
                    3:{ 
                       0:[[111,0.8,100]], 
                       1:[
                          [112,1,100],  
                       ]
                    },   
                 },
                 zbsx:[[2,3,0],20,5,5,5,100],
                 gjAct:1, 
                 imgL:4, 
                 noH:30,
                 mCfg:[40,20,1200],
                 sCfg:{
                    0:[34,25,1,1,0,2, 0,0,0,0,  20,0], 
                 },
                 fps:[
                       [[0,1],[300,300]],              
                       [[0,2,3],[200,800,400]],  
                 ],
                 basic:{
                       0:{a:0,b:0}, 
                       1:{a:1,b:0}, 
                 },
                 gjDz:{
                       t:0,c:1,k:1,e:0,
                       s:[
                          [-1,0,-1,0,1],
                       ]
                 },
            },
        };
    })();
    
    var clearDL, DL, NID;
    (function(){
         NID=0; 
         DL=[];     
         clearDL=function(){  
            var l=DL.length,d,f,a,b;
                
                while(l--){
                        d=DL[l],f=0;
                        
                        if(d.xmF){
                            d.xMove();
                            
                            if(d.jt!==1){ 
                               a=(Math.random()*4)<<0; 
                               b=(Math.random()*2)<<0;
                               b===1?0:a=-a;
                               d.x=d.xadd*20-10+a;  
                            }else{ 
                               
                               d.x=d.xadd*20-10;
                            };
                            f=1; 
                        };
                        if(d.delF){ 
                            d.del();
                            f=1; 
                            if(d.jt!==1){
                                a=(Math.random()*4)<<0;
                                b=(Math.random()*2)<<0;
                                b===1?0:a=-a;
                                d.y=a;    
                            }else{
                                d.y=0;
                            };
                        }; 
                        if(f)d.pzCheck(); 
                        
                };
        };
    })();
    
    var Npc_Npc;
    (function(){
        Npc_Npc=function(o){
            var t=this;
                t.init(o);
             return t;
        };
        
        
        Npc_Npc.prototype.init=function(obj){  
            
            
           var t=this,o,type,l,u;
               t.id=obj[2];
               t.NID=NID;  
               NID++;
               o=allActCfg[t.id]; 
             
             
             
             
             
            
            
               t.dhF=0; 
               t.sw=o.sw; 
               t.ss=o.ss;
               t.df=1; 
               t.dx=3;   
               t.lvl=0; 
               t.dlFun=gWpDl;
               t.xwN=0; 
               t.jt=0;  
               t.map=mapBrush; 
               
               
               t.noH=o.noH;     
               
               t.fps=o.fps;  
               
               t.sCfg=reNew(o.sCfg); 
               
               t.cfg=t.sCfg[0]; 
               
               t.basic=o.basic;  
               
               t.skill=o.skill||[];
               
               t.type=o.type;
               
                t.actN=0;    
                if(o.zyYd){ 
                    t.zyYd=1; 
                    t.zySj=o.zySj;
                    t.zyJx=0;     
                };
              
              
                if(o.xzQh){
                    t.xzQh=1;    
                    t.lrj=0;     
                    t.xzD=o.xzD; 
                };
             
               t.xy=[0,0]; 
            
               
               
               t.mmm2= (o.mCfg[2]/2)<<0; 
                
               t.mmm3=(t.mmm2*1.1)<<0;  
               
               t.mmm5=((t.mmm3-t.mmm2)/t.fps[0][0].length)<<0; 
               if(o.xzQh)t.mmm5=t.mmm5*2;  
               
               t.mmm4=t.mmm2; 
              
               t.xjmF=1; 
               
               t.mvm=20;
               
               t.xadd=1;  
               t.x=10,t.y=0;  
               t.mxl=0;  
               t.ntX=0;  
               t.ntY=-1;  
            
        
               t.nY=t.xy[1]; 
            
               t.delF=0;  
               t.xmF=0 ;  
        
               t.limit=[0,0,0,0];
        
        
              
               
               t.zbsx=reNew(o.zbsx);
               t.gjDz=o.gjDz;
               t.gjAct=o.gjAct===u?-1:o.gjAct; 
               t.gjLx=0; 
               t.gjJn=-1;
               t.gjCf=0; 
               t.gjT=0;  
               t.gjZb=null;
              
              
               t.tIn=0;  
               t.dh0=1;  
               t.dh1=0;  
               t.dh2=0;  
               t.dh3=0;  
                         
               t.dh4=0;  
               t.dh5=0;  
               
            
               t.tMv=0;   
               t.tF=0;    
               t.fN=0;   
               t.fC=0;   
            
               
        
              
        
               
               
            
               
            
             
               
            
               t.jdxy=0;   
              
               if(t.type!==4){
                  t.imgL=o.imgL;
               };
               if(t.type===4){ 
                    t.gjT=1;   
                    t.jt=1;  
                    t.imgL=0;   
                    t.actN=1;    
                    t.rePos(obj[0],1);
                     
               }else{
                    t.rePos(obj[0]);
                    All.push(t); 
               };
                t.xMove=t.zj_xMove 
                t.tb=t.zj_tb;      
                t.del=t.zj_del;    
                t.free=t.zj_free;  
        
                if(t.type!==4)t.pzCheck();  
        
                
                t.cfg_init();  
                t.move_init();  
                t.dz_init();   
                t.pg_init();   
                t.jn_init();   
                t.sz_init();   
                t.zbsx_init(); 
                t.zdGj_init(); 
                t.zdYd_init();   
                t.jdMove_init();
                t.death_init(); 
                t.sjXw_init(); 
                t.jh_init();  
                t.zt_init();  
                t.yxInit();   
                t.jqInit();   
               
                t.cfgQh();
                if(o.zySj&&o.zySj[3]){ 
                   t.yxGx(-1,reNew(o.zySj[3]) );
                };
                t.nowFun=t.nullfun; 
        };
        
        
        
        Npc_Npc.prototype.pzCheck=function(){
            var t=this , lt=t.limit, x=t.xy[0] , y=t.xy[1],m=pzType,d,u;
               
                
                
                
                
                
                d=m[y];
                lt[0]=d[x-1]!==1?1:0; 
                lt[1]=d[x+1]!==1?1:0; 
        
                
                d=m[y-1];
                if(d===u){
                   lt[2]=1,lt[4]=1,lt[5]=1;
                }else{
                   lt[2]=d[x]!==1?1:0;
                   lt[4]=d[x-1]!==1?1:0;
                   lt[5]=d[x+1]!==1?1:0;
                };
                
                
                d=m[y+1];
                if(d===u){
                    lt[3]=1,lt[6]=1,lt[7]=1;  
                }else{
                    lt[3]=d[x]!==1?1:0;
                    lt[6]=d[x-1]!==1?1:0;
                    lt[7]=d[x+1]!==1?1:0;
                };
               
        };
        
        
        Npc_Npc.prototype.rePos=function(d,f){
           var t=this,m=t.xy,ny=m[1],i,n=t.type,x=d[0],y=d[1],o,u;
               t.ntX=d[2]===u?0:d[2]; 
               t.dx=d[3]===u?3:d[3];  
        
               if(d[3]!==u)t.df=0; 
        
               if(f===1)return; 
               if(n===4){
                  o=NpcY;
               }else{
                  o=MobY; 
               };
               d=o[ny];
               if(d!==u&&d.length>0){ 
                     i=d.indexOf(t);
                     if(i>-1)d.splice(i,1); 
               };
               m[0]=x,m[1]=y; 
               t.nY=y;        
               t.pzCheck();   
               o[y].push(t);  
               if(t.cfgQh!==u)t.cfgQh();
        };
        
        
        Npc_Npc.prototype.delete=function(){
            var t=this,y=t.xy[1],i,n=t.type,o,j=gJq,d,c=All,u;
                if(n===4){
                   o=NpcY;
                }else{
                   o=MobY; 
                };
                d=o[y];
                if(d!==u){ 
                    i=d.indexOf(t);
                    if(i>-1)d.splice(i,1); 
                };
                
                
                if(n===3){ 
                    delete j.npc[t.id];
                };
                
                o=j.all;
                i=o.indexOf(t);  
                  o.splice(i,1);   
                i=c.indexOf(t);  
                  c.splice(i,1);  
         };
        
        Npc_Npc.prototype.zbsx_init=function(){
            var t=this,T=t.type,a=t.zbsx,b=[[0,0],0,0,0,0,0],c,c2,d,e,f=0,g,h,i,l,z,p,v=t.ss,j=0,u;
            
            
                 
                t.sxXg=function(z,d,s){  
                    
                    
                   
                    if(z===0){
                        f=0;
                        t.zbsx=d,a=d;
                        b=[[0,0],0,0,0,0,0]; 
                    }else if(z===1){
                        b=[],l=5,f=1,g=t.tIn,h=s; 
                        while(l--){
                            if(l>0){
                                c=(a[l]*d)<<0;
                                b[l]=c;  
                            }else{
                                b[0]=[];
                                e=a[0]; 
                                c=(e[0]*d)<<0;
                                b[0][0]=c;
                                c=(e[1]*d)<<0;
                                b[0][1]=c;
                            };
                        };
                        b[5]=0;
                    }else{
                        f=0;
                        b=[[0,0],0,0,0,0,0];  
                    };
                };
                
                t.sxCd=function(){
                    if(t.tIn-g>h){
                        f=0; 
                        b=[[0,0],0,0,0,0,0];  
                    };
                };
               
               t.shSc=function(i){ 
                   if(f==1)t.sxCd();
                   c=a[0]; 
                   c2=b[0]; 
                   d=a[1]+b[1]; 
                   c=c[0]+c2[0]+((Math.random()*(c[1]+c2[1]))<<0)
                   e=(Math.random()*100)<<0;
                   z=0; 
                   if(d>=e){
                       z=1
                       c=c*2;
                   };  
                    c=(c*i)<<0; 
                   return [c,z];
               };
               
               t.shCs=function(s,q){
                    if(t.dh4===1)return; 
                    p=q[0];
                    if(f==1)t.sxCd();
                    
                    c=a[2]+b[2];
                    i=(Math.random()*100)<<0;
                    if(c>i){
                         
                        return; 
                    };
                   
                    if(v!==u){
                        if(t.tIn-j>490){ 
                            j=t.tIn,gYp.push(v);
                        };
                    };   
                    e=a[s&1?4:3]+b[s&1?4:3];
                    p=p-e; 
                    if(p<0)p=0; 
                    a[5]-=p; 
                    if(T===4){
                        if(t.zyJx===1)t.sjCz();
                        gCz.push([1,0,[1,p]]); 
                    }else{ 
                        if(a[5]<1){
                            t.swCz() 
                        };
                    };
                    t.szCz([p,q[1]]);
               };
                 
        
        };
           
        Npc_Npc.prototype.jqInit=function(){
            var t=this,xy=t.xy,A,B,C, a,b,c,f=0,i,l, g,h,j,k,m,n,o,p,q,r,x,y,u;
                  
                  
                  
                
                t.tjTj=function(s1,s2){ 
                     a=s1,b=s2,c=[],f=1;
                     l=a.length;
                };
                
                t.tjQc=function(){
                    f=0,c=[],l=0;
                };
                
                t.tsGx=function(s1,s2){ 
                     A=s1,B=s2;
                    
                };
                
                t.mapGx=function(s1){
                     C=s1;
                    
                };
                
                t.cfPd=function(){
                    if(f===0)return;
                    i=0;
                    while(i<l){
                        if(c[i]===1){
                            i++;
                            continue;
                        };
                        g=a[i]; 
                        h=g[0]; 
                        n=g[1]; 
                        j=h.length;
                        m=0;    
                        while(j--){
                            k=h[j];
                            o=n[j]; 
                            if(k===3){
                                if(C!==o){
                                    break;
                                };    
                            }else if(k===1){
                                if(A!==o){
                                    break;
                                };  
                            }else if(k===0){
                                x=xy[0],y=xy[1];
                                if(!(x>=o[0]&&x<=o[1]&&y>=o[2]&&y<=o[3])){
                                    break;  
                                };
                            }else if(k===2){
                                if(!(B>=o[0]&&B<=o[1])){
                                    break;
                                };
                            };
                            if(j===0)m=1; 
                        };
                        if(m===1){
                            o=b[g[2]];
                            
                            if(o!==u)o(t); 
                        };
                        i++;  
                    };
                };
                
                t.tjKz=function(s1,s2){ 
                    if(s1===-2){
                        p=c.length;
                        while(p--){
                           if(p!==s2){
                               c[p]=1;
                           }else{
                               c[p]=0;
                           };
                        };
                    }else if(s1===-1){
                        f=s2?0:1; 
                    }else{
                       c[s1]=s2;
                    };
                }
        
        };
          
        Npc_Npc.prototype.yxInit=function(){
           var  t=this,a=[],b,c,d,e,f=0,g,h,i,j=0,G=gCzCl,O={},xy,x,y,m=t.xy,u;
                   
                   
                   
                
                t.yxCf=function(n,s){  
                       
                            c=a[n];
                            if(c!==u){
                                c=c[s];
                                if(c!==u&&c!==0){   
                                    if(n===3){
                                        e=(Math.random()*100)<<0;
                                        if(e<c[3])return; 
                                    };
                                    if(f===0){ 
                                        b=t.yxJl();
                                        if(b<=0)return; 
                                    }else{
                                        b=1;  
                                    };
                                    c[1]=b;
                                    gYp.push(c); 
                                };
                            };   
                     
                };
                
                t.yxJl=function(){
                     if(O.jt!==1){ 
                         O=G.jtO; 
                         xy=O.xy;
                         f=O===t?1:0;  
                         if(f===1)return 1;
                     };
                     x=xy[0],y=xy[1];
                     x=x-m[0],y=y-m[1];
                     
                     if(x<0)x=-x;
                     if(y<0)y=-y;
                     y=(y/2)<<0; 
                     if(x>10||y>10)return 0; 
                     x=x>y?y:x; 
                     return (10-x)/10;  
                };
                
                t.yxGx=function(n,yx){ 
                    if(yx===u)return; 
                     if(n===-1){ 
                         a=yx;
                     }else if(n===-2){
                         a[3]=yx;
                     }else{ 
                         a[n]=yx;  
                     };
                };
        };
        
        
        Npc_Npc.prototype.pg_init=function(){
            var t=this,o,v,f,d,e,l,m,s,c,b,u,map=t.map,z;
                
                
                t.pgCz=function(){
                        t.dh1=1; 
                        c=t.tIn; 
                        v=0; 
                        o=t.gjDz;  
                        d=o.s;
                        l=d.length; 
                        m=d[v];  
                        
                        f=t.xy; 
                        z=[t.gjT,o.t,f[0],f[1],t.ntX,t.xadd,o.c,t,null]; 
                        
                        s=m[1]||0; 
                        
                        
                        if(m[4]!==u){
                            
                            
                            map.hqMb(z[0],z[1],z[2],z[3],z[4],z[5],z[6],z[7],z[8],m[4]);
                            
                        };
                        t.pgD=m; 
                        t.yxCf(1,0);
                };
                
                t.pgJc=function(){
                    if(t.dh4!==1){
                        t.dh0=1; 
                        t.xwN=0;
                        t.nowFun=t.nullfun; 
                    };
                };
                
                t.pgDh=function(){
                    
                       b=t.tIn-c; 
                       if(b>=s){
                           c=t.tIn-(b-s);
                           v++;
                           if(v===l){ 
                                t.dh1=0; 
                               return;
                           };
                           m=d[v]; 
                           s=m[1]; 
                           if(m[4]>0){ 
                               map.hqMb(z[0],z[1],z[2],z[3],z[4],z[5],z[6],z[7],z[8],m[4]);
                                
                                
                           };
                           t.pgD=m;
                       };  
                };
        };
        
        
        Npc_Npc.prototype.jn_init=function(){
            var t=this,a,b=[0,0,0],c,m=magicCfg,d,e,f,g,h,n,i,j,u,x,y;
                
                a=t.skill;
                t.gxJn=function(o){ 
                    var n1=0,n2;
                    a=[];
                    n2=3; 
                    f=t.tIn; 
                    while(n1<n2){
                        c=o[n1];
                        if(c!==u){
                           a[n1]=m[c];
                       };
                       b[n1]=f; 
                        n1++;
                    };
                    t.skill=a;
                    t.gjNewS(a);
                };
                t.jnCz=function(){
                        i=d.e;
                        if(i>d.act.length||i===-1)i=d.act.length;
                        h=t.xy;
                        if(t.jt===1&&d.t>3){
                            x=h[0]+(t.ntX?d.c:-d.c),y=h[1];
                        }else{
                            if(d.t<4){ 
                                x=h[0],y=h[1];
                            }else{     
                                h=t.gjZb;
                                x=h[0],y=h[1];
                            };
                        };
                        j=[d.t,d.c,t.ntX,t.xadd, x,  d.id,d.m,d.l ,d.w];
                        
                        g=[d.act,d.fps,f ,1, 0,  d.act[0][0],i,j,t.gjT,t,-1];  
                         
                        JnY[y].push(g); 
                      
                    if(d.e===0){ 
                        g[3]=0; 
                        t.jnJc(); 
                    };   
                    
                };
                
                t.jnJc=function(){ 
                    
                    if(t.dh4!==1){ 
                       t.dh0=1; 
                       t.xwN=0; 
                       t.nowFun=t.nullfun; 
                    };
                };
                t.jnCd=function(z,k){ 
                        n=z-1;   
                        d=a[n];  
                        if(d!==u){
                            f=t.tIn;  
                            e=d.cd;   
                            if(f-b[n]>e){ 
                                if(k===1)return 1;
                                t.gjJn=n;  
                                b[n]=f;   
                                return 1; 
                            };
                        };
                };
        };
        
        
        Npc_Npc.prototype.sz_init=function(){
            var t=this,a,b,c,i,d,e,f,g,l=0,w,h,x,y;
                t.szD=[];
                a=t.szD;
                
                t.szCz=function(z){
                    
                 var n=z[0];
                     l++; 
                     b=n+'';
                     b=b.split(''); 
                     
                    
                    
                     i=0,e=b.length,d=[];
                     x=(e*8/2)<<0; 
                     y=t.noH;      
                     while(i<e){
                        d[i]=b[i];
                        i++;
                     };
                     w=(Math.random()*8)<<0;
                     if(w&1)w=-w; 
                     n=[8000,8001,8002][z[1]]; 
                     
                    a.push( [0,t.tIn,x,y+12,8,12,n,d,w] );
                          
                    t.dh3=1;
                };
                
                t.szDh=function(){
                      i=l,c=t.tIn;
                      while(i--){  
                          b=a[i]; 
                          if(c-b[1]>80){ 
                              b[0]++;
                              f=b[0];
                              if(f>3){ 
                                 a.pop(),l--;  
                              }else{
                                 b[1]=c;
                                 e=b[7].length; 
                                 b[2]+=e; 
                                 b[3]+=6; 
                                 b[4]+=2; 
                                 b[5]+=3; 
                              };
                             if(l===0)t.dh3=0;
                          };
                      };   
                };
        };  
        
        
        Npc_Npc.prototype.zt_init=function(){
         var  t=this,a=[],b=[],c=[],a2,ad=[],bd=[],cd=[],aw=0,aw2,bw,cw,d=0,h=t.noH,j,e,f,g,h,i,k,l;
         var  zd=[[],[],[]];  
              
              
              
              
             
                
                t.tjZt=function(z,v){ 
                         if(z===0){
                            t.dwZt(v)
                         }else if(z===1){
        
                         }else{
        
                         };    
                       
                };
               
                a2=[[8420,1,8,12,7],[8420,3,15,15,8],[8420,4,7,15,7] ]; 
                
                t.dwZt=function(v){ 
                    
                    i=a.indexOf(v);
                    l=a.length;
                    e=a2[v]; 
                    if(i===-1){
                         t.dh5=1;
                         aw+=e[2];
                         a.push(v);
                         l===0?d++:aw+2; 
                         e=e.slice(0); 
                         e[4]+=h; 
                         ad.push(e);   
                    }else{
                         aw-=e[2];
                         a.splice(i,1); 
                         ad.splice(i,1);
                         l===1?(d--,aw=0):aw-=2; 
                         if(d===0)t.dh5=0;
                    };
                    aw2=(aw/2)<<0; 
                };
                
                t.getZt=function(z,v){
                    if(z===0){
                         return a.indexOf(v);
                     }else if(z===1){
        
                     }else{
        
                     }; 
                };
                
                t.dhZt=function(){
                     return [aw2,ad];
                };
        };
        
        
        
        Npc_Npc.prototype.dz_init=function(){ 
             var t=this ,fps=t.fps,v,z,l,n,f1,f2,c ,a=t.xzQh,b=t.xzD,o,d,j,m=t.mmm5||0;
                  
                  
                  
                  t.dzCz=function(){
                       n=t.actN,f1=fps[n][0],f2=fps[n][1]; 
                       l=f1.length; 
                  };
                  t.dzDh=function(){ 
                         
                        
                              c=t.fC;
                            
                              j=t.tIn, v=j-t.tF , z=f2[c]+(t.xjmF?0:m);
                              
                              
                              if(v>=z){
                                 t.tF=j;
                                 c++;
                                
                                 
                                 
                                 if(n===t.gjAct&&t.gjCf===1){ 
                                        if(t.gjLx===0){ 
                                            o=t.gjDz;    
                                        }else{ 
                                            o=t.skill[t.gjJn];  
                                        };  
                                        d=l-o.k;
                                        if(d<1)d=1; 
                                        if(c===d){  
                                            t.gjCf=0; 
                                            if(t.gjLx===0){
                                                t.pgCz(); 
                                            }else{
                                                t.jnCz(); 
                                            };
                                        };
                                 };
                                 
                                 if(t.zyJx===1){
                                        c=t.sjYd(c,l,j);
                                        
                                 };
                                
                                
                                if(n===0&&a===1){
                                        
                                        if(t.lrj===0){
                                            if(c>b[1]-1)c=b[1]-1; 
                                        }else{  
                                            if(c===l)c=l-1; 
                                        };
                                };
                                if(c===l){
                                        if(n>3){
                                            t.jhEnd();
                                        };  
                                        if(n===t.gjAct&&t.gjLx===0)t.pgJc();
                                        c=l-1; 
                                };  
                                 t.fC=c; 
                              };
                              t.fN=f1[c];
                            
                    };
        };
          
        
        
        
        Npc_Npc.prototype.lr=function(){ 
             var t=this,m=t.mvm,t3=t.mmm2 ,c ,d, n=t.ntX ,a; 
                    d=t.tIn-t.tMv;
                    if(d>=t3){ 
                        c=0;
                        a=1;
                        t.dh0=1;
                        t.xadd+=(n===1?1:-1);
                        if(t.xwN===3){
                            t.xwN=0;
                            t.nowFun=t.nullfun;
                        };    
                    }else{
                        c=(d/t3*m)<<0;
                    };
                    t.dzDh();
                    t.x=t.xadd*m+(n===1?c:-c)-10;  
                    if(a===1){
                        if(t.xadd===0||t.xadd===3){   
                            t.xadd=t.xadd===0?2:1;
                            t.xmF=1; 
                            DL.push(t);
                        };
                        return; 
                    };
        };
        
        
        
        
        Npc_Npc.prototype.zj_xMove=function(){ 
                  var t=this,xy=t.xy,a,n=t.ntX;
                      t.xmF=0;
                      
                      n?xy[0]++:xy[0]--;
                      if(xy[0]<0)xy[0]=0;
                     if(xy[0]>Zw)xy[0]=Zw;
                    if(t.jt===1){
                        t.map.rePos(xy);
                        
                        
                    };
                    t.cfPd();
        };
        
        
        
        
        Npc_Npc.prototype.zj_tb=function(){
            var t=this,m=t.mvm ,t3=t.mmm2 ,c ,yd,n=t.ntY; 
                    c=t.tIn-t.tMv;
                    if(c>=t3){ 
                        yd=t.type!==4?MobY[t.nY]:NpcY[t.nY]; 
                        t.delArr=yd; 
                        t.delF=1;     
                        DL.push(t);   
                        t.dh0=1;      
                        if(t.xwN===3){
                            t.xwN=0;
                            t.nowFun=t.nullfun;
                        }; 
                        return;
                    }; 
                   if(t.xjmF===1)t.dzDh(); 
                    c=(c/t3*m)<<0;
                    t.y=(n&1)===1?c:-c;
                    
        };
        
        
        
        Npc_Npc.prototype.zj_del=function(){
            var t=this,arr=t.delArr, l=arr.length ,n=t.NID,xy=t.xy ,z=t.jt,p=t.type;
                t.delF=0;  
              
                
                while(l--){
                     if(arr[l].NID===n){ 
                         arr.splice(l,1);           
                         t.ntY ? xy[1]++ : xy[1]--;
                         if(xy[1]<0)xy[1]=0;
                         if(xy[1]>Zh)xy[1]=Zh;
                         t.nY = xy[1];              
        
                         if(p!==4){ 
                            MobY[t.nY].push(t);
                         }else{    
                            NpcY[t.nY].push(t);
                         };
                         if(z===1){ 
                            t.map.rePos(xy);  
                         };
                         break;
                     };
                };
                t.ntY=-1; 
                t.cfPd();
        };
             
        Npc_Npc.prototype.cfg_init=function(){
           var t=this,s=t.sCfg,b=t.basic,d,m,w,n,c;
              
               t.cfgQh=function(){
                     c=t.actN;
                     if(c!==n){ 
                         n=c; 
                         c=b[n].b; 
                         d=s[c];   
                         t.cfg=d;  
                         t.dzCz(); 
                     };
                     
                     c=d[10];  
                     w=d[0];  
                     m=t.ntX; 
                     
                     if(m===0){
                         d[6]=c; 
                     }else{
                         d[6]=w-c;
                     };
        
               };
               
               t.mxGb=function(v){
                    t.ntX=v;
                    t.cfgQh();
               };
        };
        
        
        Npc_Npc.prototype.nullfun=function(){
        
        };
        
        
        Npc_Npc.prototype.move_init=function(){
          var t=this,m0=t.mmm4,m1=t.mmm3,d,v,c,n,z;
              
              
                t.xzCs=function(){ 
                    t.actN=0; 
                    if(t.xzQh){
                        t.lrj=t.lrj===1?0:1;  
                        t.fC =t.xzD[t.lrj];   
                    };
                    t.cfgQh();
                    
                    if(t.dhF===1){ 
                        t.dhF=0;
                        
                        gJq.mxQc();
                    };
                };
                
                t.zxPd=function(a){
                    d=t.limit; 
                    if(a<2){
                        t.ntX=a;   
                        v= d[a]&&(a===1&&t.xadd===2||a===0&&t.xadd===1) ?1:0;
                        
                    }else{
                        t.ntY=a===2?0:1;    
                        v=d[t.ntY+2]; 
                    };
        
                    if(v===0){ 
                        t.xzCs();
                        a>1?t.nowFun=t.tb:t.nowFun=t.lr;  
                        t.mmm2=m0;  
                        t.xjmF=1; 
                        t.yxCf(0,0);
                    }else{
                        if(t.xwN>0){ 
                            t.jdHq(a);
                        };
                        t.dh0=1; 
                        t.nowFun=t.nullfun;
                    }; 
                };
               
                t.xjPd=function(a){
                    
                    t.ntX= a===4||a===6? 0:1; 
                    t.ntY= a===4||a===5?0:1;  
                    d=t.limit; 
                    c=t.ntX;
                    v= d[c]&&(c===1&&t.xadd===2||c===0&&t.xadd===1)?1:0; 
        
                    z= d[t.ntY+2] 
                    if(z===0&&v==0){ 
                        v=d[a];
                        if(v===0){
                            t.xzCs();
                            t.xjmF=0; 
                            t.mmm2=m1; 
                            t.nowFun=t.runXj;
                            t.yxCf(0,0);
                            return; 
                        }else{
                            v=(Math.random()*2)<<0;
                            if(v===0)z=1;
                            
                        };
                    }else if(v===1&&z===1){
                          v=0,z=0; 
                    };
                    
                    if(v===1){
                        t.xzCs();
                        t.nowFun=t.tb;
                        t.yxCf(0,0);
                        return;
                    }else if(z===1){
                        t.xzCs();
                        t.nowFun=t.lr;
                        t.yxCf(0,0);
                        return;
                    }else{ 
                        if(t.xwN>0){ 
                            t.jdHq(a);
                        };
                        t.dh0=1; 
                        t.nowFun=t.nullfun;
                    };
                };
                
                t.runXj=function(){
                    t.lr();
                    t.tb();
                };
        };
        
        
        Npc_Npc.prototype.sjXw_init=function(){
            var t=this,a,b,c,d,e,f,g,l,i=0,j,k,m,n,u;  
                
                  
               
                  t.newJb=function(o){
                   
                        if(o!==u){
                            
                            if(o[0]!==u&&o[1]!==u)t.zySj=o;
                            
                            if(o[2]!==u){ 
                                t.gxJn(o[2][0]);   
                                t.yxGx(2,o[3][1]); 
                            };
                            if(o[3]!==u){ 
                                t.yxGx(0,o[3][0]);
                                t.yxGx(-2,o[3][1]);
                            };    
                        };
                       
                        a=t.zySj;
                        if(a===u){
                            t.zyYd=0;
                            return;   
                        };
                        t.zyYd=1; 
                        b=a[0];  
                        c=a[1];  
                        l=c.length; 
                        i=-1; 
                  };
                  t.newJb();
                  t.sjCz=function(){
                       if(b===0)i=-1; 
                       t.zyJx=1;     
                       t.sjQh();
                  };
                  t.sjQh=function(){ 
                        if(b===1){ 
                            i=(Math.random()*l)<<0;
                        }else{
                            i++;
                            if(i===l)i=0;
                        };
                        
                        t.yxCf(3,i); 
                        k=1; 
                        d=c[i]; 
                        e=d[0]; 
                       
                        f=d[1]; 
                        g=d[2]; 
                        n=0; 
                        j=t.tIn;
                        
                        
                        
                       
                        if(f===2){
                               t.gjRk(g)
                               return;
                        }else if(f===3){ 
                               t.zdXl(g);
                               return;
                        }else if(f===4){
                               t.sjZl(g) 
                               return;
                        };
                        t.nowFun=t.dzDh; 
                        t.actN=e; 
                        t.fC=0;   
                        t.cfgQh(); 
                  };
                  t.sjYd=function(n1,n2,j2){ 
                        k=0;
                        if(f===0){ 
                            if(j2-j>g){ 
                                t.sjQh(); 
                            }else{
                                if(n1===n2)k=1;
                            };  
                        }else if(f===1){
                            if(n1==n2){
                                 n++;  
                                if(n===g){
                                    t.sjQh(); 
                                }else{
                                    k=1;
                                };    
                            }; 
                        };
                        return k===1?0:n1;   
                  };
                
        };
        
        
        Npc_Npc.prototype.sjZl=function(a){
            var t=this,b,c,d,e,f,i,m,u;
                t.xwN=3;
                b=a[0];
                c=a[1];
                
               if(b===0){
                   d=0;
                   e=(Math.random()*8)<<0;
                
               }else if(b===1){  
                   d=1;
                   e=c[0];
                   t.ntX=c[1]; 
                   t.cfgQh();
                   i=c[2]; 
                   m=t.xy;
                   if(i===0){ 
                         t.gjZb=[m[0],m[1]];  
                   }else{   
                      if(c[3]!==u){
                         t.gjZb=[c[3],c[4]];  
                      }else{
                         t.gjZb=[m[0]+(c[1]?3:-3),m[1]]; 
                      }; 
                   };
               }else if(b===2){  
                   d=c[0],e=c[1];
               }else if(b===3){  
                   f=c.length;
                   f=(Math.random()*f)<<0;
                   c=c[f];
                   d=c[0],e=c[1];
               };
               t.free_cz();
               t.tyActCl(d,e);
        
        };
        
        
        Npc_Npc.prototype.zdYd_init=function(){
            var t=this,m1=t.xy,m2,u;
                  
                  
                     
                    t.zdXl=function(d){
                        if(d===u){
                           if(m1[0]===m2[0]&&m1[1]===m2[1]){
                                t.xwN=0; 
                                t.dh0=1; 
                                if(t.dwD!==u){ 
                                    gDw.jsSj(t.dwD);
                                };
                                
                                return 0 ;
                           }else{ 
                                t.jdXy(m2);
                           };
                        }else{ 
                            t.xwN=2; 
                            m2=d;
                            t.jdXy(d);
                        };
                        return 2; 
                    };      
        };
        
        
        Npc_Npc.prototype.jdMove_init=function(){
            var t=this, m1=t.xy,m2,b,c,d,e,f,g,x,y,n,u;
               
               
                
                t.jdRk=function(s){
                     t.free_cz();
                     t.jdYd();
                };
                
                t.jdYd=function(){
                   b=m1[0]-m2[0];
                   x=0;
                   if(b<0){ 
                        b=-b;
                        x=1; 
                   };
                   c=m1[1]-m2[1];
                   y=0; 
                   if(c<0){
                       c=-c;
                       y=1;
                   };
                   if(b>0&&c>0){ 
                       d=x===0?[4,6]:[5,7]; 
                       d=d[y===0?0:1];
                       t.tyActCl(0,d); 
                   }else if(b>0){ 
                       t.tyActCl(0,x); 
                   }else if(c>0){
                        t.tyActCl(0,y+2); 
                   }else{
                        
                        t.xwN=n;
                        if(n===2)n=t.zdXl();
                   };
                };
                
                t.jdHq=function(a){;
                    if(t.xwN===3){ 
                        t.xwN=0;
                        
                        
                        return;
                    };
                    if(a<2){
                        a=0;
                    }else if(a<4){
                        a=1
                    }else{
                        a=2;
                    };
                    m2=t.jdTgt(a);
                    if(m2!==-1){
                        n=n||t.xwN; 
                        t.xwN=4; 
                        
                    }else{
                        t.xwN=0; 
                    };
                };
                
                t.jdXy=function(a){
                    m2=a;
                    n=t.xwN; 
                    t.xwN=4; 
                }; 
              
        };
        
        
        Npc_Npc.prototype.zdGj_init=function(){
            var t=this,g=t.gjDz,s=t.skill,l,m,m1=t.xy,m2,f=0,d,z,a,b,c,e,h,x,y,v,i,j,k,u;
                
                
                
                
                 
                 t.gjNewS=function(o){
                    s=o;;
                 };
                 t.gjRk=function(o){ 
                    
                     if(o!==u){
                        
                         f=0;
                         t.zyJx=0; 
                         t.gjMb(o); 
                     }else if(f===1){ 
                         t.free_cz();
                         t.gjXy(); 
                     }else if(f===2){ 
                         t.sjGj();
                     }    
                 }; 
        
                 
                 t.sjGj=function(){ 
                    l=s.length+1;
                    if(v===-1)v=(Math.random()*l)<<0;
                    z=v;
                    if(z>0){ 
                        d=s[z-1];
                    }else{ 
                        d=g;
                    };
                    
                     if(d.t<4){
                           x=[d.c,1];  
                           
                           if(d.t>1){ 
                              y=(d.w-1)/2; 
                           }else{
                              y=0; 
                           };
                     }else{
                         a=d.c;
                         x=[a,0];
                         
                         y=(d.w[1]-1)/2; 
                     };
                    f=1; 
                 };
                
                 
                 t.gjMb=function(o){
                     k=0;;
                    
                    
                    
                      a=o[0];  
                      v=o[1];
                      t.gjT=a;   
                      if(a===0){
                           m=leader
                           m2=m.xy;
                           k=1;
                      }else if(a===1){ 
        
                      }else if(a===2){ 
                            a=o[2];   
                            t.gjT=a;
                      };
                     if(k===1){
                        t.xwN=1; 
                        f=2;
                     }else{
                        t.nowFun=t.nullfun;
                     };
                 };
                 
                 
                 t.gjJl=function(i,j){ 
                     
                     a=m1[0]-m2[0];
                     if(j===1||a===0){
                        b=t.xadd;
                        c=m.xadd;
                     };
                     if(a===0){ 
                         if(c!==b){
                            t.ntX=c>b?1:0;
                            t.cfgQh();
                         };
                         return -1; 
                     };
                     if(j===1)e=a*2;
                    if(a>0){ 
                        if(j===1){
                           e=e+ (c===1?1:0)+(b===2?1:0)-1;
                        }else{
                           e=a; 
                        };
                        if(t.ntX!==0){ 
                            t.ntX=0;
                            t.cfgQh();
                        };
                        if(e>i)return 0; 
                    }else{   
                        if(j===1){
                           e=-e+ (b===1?1:0)+(c===2?1:0)-1;
                        }else{
                           e=-a;
                        };
                        if(t.ntX!==1){
                            t.ntX=1;
                            t.cfgQh();
                        };
                        if(e>i)return 1; 
                    };
                     return -1; 
                 };
                 
                  
                 t.gjXy=function(){
                      i=x[0],j=x[1];
                    
                      a=t.gjJl(i,j); 
        
                      e=1;
                      b=m1[1]-m2[1];
                      if(b<0){
                          e=0,b=-b;
                      };
                      
                      if(a>-1&&b>y){
                          h=a===0?[4,6]:[5,7]; 
                          h=h[e===1?0:1];
                          t.tyActCl(0,h); 
                      }else if(a>-1){ 
                          t.tyActCl(0,a); 
                      }else if(b>y){
                          t.tyActCl(0,e?2:3); 
                      }else{ 
                        if(t.jt!==1)t.gjZb=[m2[0],m2[1]]; 
                        
                         t.dh0=0; 
                         t.xwN=0; 
                         t.tyActCl(1,z); 
                      };    
                 };
                 
        };
        
        
        Npc_Npc.prototype.jh_init=function(){
             var t=this,o=gCzCl,a,b,v,  c,d,e,f,g=gMapF,k, x,y,m,x2,y2,m2,q,l,z,z2,u;
             var ny=t.map.plant,dw=gDw,j=gJq;   
                  
                 
                 
                t.jhEnd=function(){
                    
                    t.dh0=1; 
                    
                    if(a===2){ 
                            
                            t.jhPd(); 
        
                    }else if(a===3){
                        d=t.xy;
                        x=d[0],y=d[1];
                        if(b>-1&&b<5){
                            if(b===0){ 
                                    ny.dzRk(1,x,y); 
                            }else if(b===2){
                                    ny.dzRk(2,x,y); 
                            }else if(b===3){  
                                    
                                    c=v[1]; 
                                    e=ny.boZ(c,x,y); 
                                    if(e===1){
                                        gCz.push([4,3,v]); 
                                        gYp.push([8,1,0]); 
                                    }else{
                                        gCz.push([5,0,0]);   
                                    };
                            }else if(b===1){
                                    
                                    ny.shCc(1,x,y); 
                            }else{ 
                                    ny.shCc(0,x,y); 
                            };
                        }else{
                                m=t.ntX;
                                if(b===6){
                                    dw.tlCz(1,x,y,m);
                                }else if(b===7){
                                    dw.tlCz(0,x,y,m);
                                }else if(b===5){
                                    dw.hgDw(x,y,m);
                                }else if(b===8){
                                    
                                }else{
                                    dw.zbDw(x,y);  
                                };
                        };
                    };
                };
        
               t.jhCz=function(A,B,C){
                   a=A,b=B,v=C;
               };
               
               t.jhPd=function(){
                     c=o.jhD;
                     x=t.xy[0],y=t.xy[1],m=t.ntX; 
                     
                     if(c!==u){
                            l=c.length;
                            while(l--){
                                d=c[l]; 
                                if(d[0]<=x&&d[1]>=x&&d[2]<=y&&d[3]>=y){
                                            k=d[4]; 
                                            k=g[k[0]][k[1]];
                                            k();
                                    return; 
                                };
                            };
                     };
                    
                    c=j.all;
                    z=t.xadd; 
                    l=c.length;
                    f=0; 
                    while(l--){
                            d=c[l];
                            if(d.type===3){
                                x2=d.xy[0],y2=d.xy[1],m2=d.ntX; 
                                if(y===y2){
                                    z2=d.xadd;
                                    if(x===x2){
                                        if(z===1){
                                            if(m===1)f=1; 
                                            if(m===0&&z2===1)f=1;
                                        }else{
                                            if(m===0)f=1;
                                            if(m===1&&z2===2)f=1;
                                        };     
                                    }else{
                                        q=x+(m?1:-1);  
                                        if(q===x2)f=1; 
                                    };
                                    if(f===1){
                                            j.mxQh(m,d);
                                            
                                            gCz.push([2,0,d.id]);
                                        return;  
                                    };
                                };
                            };
                    }; 
               };
        
        };
        
        
        Npc_Npc.prototype.tyActCl=function(n,z,d,s){ 
            var t=this,a=z ,b,c,e;  
            
                if(n===-1){ 
                        if(t.zyYd){
                            if(t.zyJx===0){
                               t.sjCz();
                            }else{
                               t.sjQh();
                            };
                        }else{
                            t.nowFun=t.nullfun; 
                            t.dh0=1;
                        };
                }else if(n===0){
                        if(a<4){ 
                            t.zxPd(a); 
                        }else{   
                            t.xjPd(a); 
                        };
                        if(s===1&&t.type===4)gJq.mxQc();
                       
                        
                }else if(n===1){
                    
                        if(t.gjAct>-1){ 
                                if(z>0){ 
                                    if(t.jnCd(z)!==1){ 
                                        
                                        t.dh0=1;
                                        t.xwN=0;
                                        t.nowFun=t.nullfun;
                                        return;
                                    };
                                };
                                
                                t.dh0=0;
                                t.nowFun=t.dzDh;  
                                t.gjCf=1; 
                                t.gjLx=z===0?0:1; 
                                t.actN=t.gjAct;
                                t.cfgQh(); 
                        }else{
                                t.dh0=1;
                        };
                }else if(n>1&&n<4){
                        
                        b=4;
                        if(n===2){ 
        
                        }else{ 
                            if(a===5){ 
                                  b=5;
                            };
                        };
                        
                        t.jhCz(n,a,d); 
                        t.actN=b;
                        t.dh0=0; 
                        t.nowFun=t.dzDh; 
                        t.cfgQh(); 
        
                }else if(n===4){
                        t.zdXl(z);
                }else{ 
                        t.nowFun=t.nullfun; 
                        t.dh0=1; 
                };
        };
        
        
        Npc_Npc.prototype.free_cz=function(){
          var t=this,a=t.tIn;  
                t.zyJx=0;
                t.xjmF=1; 
                t.fC=0;
                t.tMv=a; 
                t.tMc=a; 
                t.tF=a;  
                t.dh0=0;  
                
        };
        
        Npc_Npc.prototype.zj_free=function(time,n,z,d){ 
              var t=this,v;
                  t.tIn=time;  
                    if(t.dh0===1){
                         v=t.xwN;
                        if(n==-1){ 
                           
                           
                           if(v===4){
                                t.jdRk();
                           }else if(v===1){
                                t.gjRk();
                           }else if(v===0){ 
                                if(t.zyJx===0)t.tyActCl(-1,-1);
                           };
                        }else{
                            t.free_cz(); 
                            t.tyActCl(n,z,d,1);  
                        };
                    };
                  
                   t.nowFun(); 
                  if(t.dh1===1)t.pgDh(); 
                  if(t.dh3===1)t.szDh(); 
                  if(t.dh4===1)t.swDh(); 
               
        };
           
           
        
        Npc_Npc.prototype.jdTgtX=function(x,y){
            var t=this, o=xMap[y],i=0,l=o.length,d,z,f=0,n , m, w ;
            
                while(i<l){
                    d=o[i];  
                    z=d.length; 
                    if(z===1){
                        if(x===d[0]){
                            f=1;break;
                        };   
                    }else{
                        if(x>=d[0]&&x<=d[1]){
                            f=1;break;
                        }; 
                    };
                    i++;  
                }; 
                if(f===1){
                    n=(Math.random()*2)<<0; 
                    w=t.map.mh;
                    if(z===1){
                        m = n===1?d[0]+1:d[0]-1;
                    }else{ 
                        m = n===1?d[1]+1:d[0]-1;
                    };
                }else{
                    return -1;
                };
                if(m===-1||m===w){
                    return -1;
                }else{
                    return m;
                };
        };
        
        
        Npc_Npc.prototype.jdTgtY=function(x,y){
            var t=this,o=yMap[x],i=0,l=o.length,d,z,f=0,n , m, h ;
                while(i<l){
                  d=o[i];  
                  z=d.length;
                  if(z===1){
                        if(y===d[0]){
                            f=1;break;
                        };   
                  }else{
                      if(y>=d[0]&&y<=d[1]){
                          f=1;break;
                      }; 
                  };
                  i++;  
                }; 
                if(f===1){
                    n=(Math.random()*2)<<0;
                    h=t.map.mh;
                    if(z===1){
                       m = n===1?d[0]+1:d[0]-1;
                    }else{
                       m = n===1?d[1]+1:d[0]-1;
                    };
                }else{
                     return -1;
                };
                if(m===-1||m===h){
                    return -1;
                }else{
                    return m;
                };
        };
        
        
        Npc_Npc.prototype.jdTgt=function(n){ 
           var t=this ,x=t.xy[0],y=t.xy[1],z,v,c;  
            
            
            
               if(n===2){ 
                  n=(Math.random()*2)<<0;
               };
            
               if(n===0){ 
                  v=x+(t.ntX===1?1:-1); 
                  if(v<0||v>Zw)return [x,y];
                  z= t.jdTgtY( v , y );
                  if(z!==-1){
                      z=[v,z];
                    
                  }else{
                    
                  };
               }else if(n===1){
                  v=y+(t.ntY===1?1:-1);
                  if(v<0||v>Zh)return [x,y];
                  z= t.jdTgtX( x , v );
                  if(z!==-1){
                    
                    z=[z,v]
                  }else{
                    
                  }; 
               };
               return z;
            
            
        };
        
        
        Npc_Npc.prototype.death_init=function(){
            var t=this,T=t.type,b,c,d,e,f,j,x,y,dl=t.dlFun,h=100,s=t.sw,u;
               
                 
               
                  x=(Math.random()*10)<<0;  
                  j=(Math.random()*2)<<0; 
                  x=j?x:-x;
                  y=(Math.random()*2)<<0; 
                  j=(Math.random()*2)<<0; 
                  y=j?y:-y; 
                 c=[
                       [8500,0,24,34,-12+x,-h,-10+y],
                       [8500,1,28,9,-13+x,-7+y],  
                  ];
                     
                     
                     
                
                t.swCz=function(){
                    t.dh4=1; 
                    t.dh5=0; 
                    t.dh0=0; 
                    t.xwN=0; 
        
                    t.nowFun=t.nullfun; 
                    d=c;
                    
                    
                    dl.newWp(t.id,t.limit,t.xy.slice(0),t.lvl);  
                     
                    j=t.tIn;
                    t.swD=d;
                    e=d[0]; 
                    b=e[6]; 
                    f=0;  
                    gYp.push([99,0.6,0]);   
                    if(s!==u){
                        
                        gYp.push(s); 
                    };
                };
                t.swDh=function(){
                    if(t.tIn-j>50){
                        if(f===1){
                            if(T===4){
                                t.dh0=1;
                                t.dh4=0;
                                gJq.qtXy(0,[13,10,0,3]); 
                                gCz.push([5,4]);
                                t.map.tFw(j);
                            }else{
                                t.delete(); 
                            }; 
                            return;
                        };
                        j=t.tIn;
                        e[5]+=20;
                        if(e[5]>=b){
                            
                            e[5]=b;
                            j+=2000; 
                            f=1;
                        };
                    }
                };    
        };
    })();
    
    var gDlCfg, gDlList;
    (function(){
        gDlCfg={ 
            
                
            6200:[   
                
                
                
                
            ],
            6300:[
                [0,0,5],  
                [0,40,5], 
                [0,80,5], 
                [0,120,5],
                [29,0,100,1],
                [29,1,100,1],
            ],
            6301:[
            [0,0,5],  
            [0,40,5], 
            [0,80,5], 
            [0,120,5],
            [29,0,100,1],
            [29,1,100,1],
            ],  
            6302:[
            [0,0,5],  
            [0,40,5], 
            [0,80,5], 
            [0,120,5],
            [29,0,100,1],
            [29,1,100,1],
            ],  
     };
         
     gDlList={ 
        
          0:{
            
             
             
            0:[8450,0,[2,0,[0,1,[3,3],3,[1,1],[1,1],6,7,[5,5],[3,4],[10,5]],0]], 
            40:[8450,1,[2,0,[0,0,[3,3],0,[1,1],[1,1],0,0,[5,5],[3,4],[10,5]],3]],
           
            80:[8450,2,[2,0,[0,0,[3,3],0,[1,1],[1,1],0,0,[5,5],[3,4],[10,5],],1]],
          
            120:[8450,3,[2,0,[0,0,[3,3],0,[1,1],[1,1],0,0,[5,5],[3,4],[10,5]],2]],
            
             
             200:[8451,0,[1,1, ]],
             
             300:[8452,0,[1,2, ]],
             
             400:[8453,0,[1,3, ]],
             
             
             
          },
          1:{},
          2:{},
          3:{},
          
          
          5:{
            6060:[8462,0,[6060,10,10,50,-1,0]], 
          },
          6:{},
          11:{},
          12:{},
          13:{
                
                0:[8470,0],
                1:[8470,0],
                2:[8470,0],
          },
          
          14:{},
          15:{},
          16:{},
          17:{},
          18:{},
          19:{},
    
          
          20:{},  
          21:{},  
          22:{},  
          23:{
              80:[8461,0],
              81:[8461,1],
              82:[8461,2],
              83:[8461,3],
              84:[8461,4],
              85:[8461,5],
              86:[8461,6],
              87:[8461,7],
              88:[8461,8],
              89:[8461,9],
          }, 
          24:{
               80:[8460,0], 
               81:[8460,1], 
               82:[8460,2], 
               83:[8460,3], 
               84:[8460,4], 
               85:[8460,5], 
               86:[8460,6], 
               87:[8460,7], 
               88:[8460,8], 
               89:[8460,9], 
          },  
          25:{},  
          26:{}, 
          27:{},  
          28:{},  
          29:{
             0:[8463,0],
             1:[8463,1],
          },  
    };
    })();
    
    var gWpDl, sqTy;
    (function(){
    
    var WpDrop=function(){
        var t=this;
            t.p=gDlList;  
            t.q=gDlCfg;   
        return t;
    };
    
    
    WpDrop.prototype.qdDl=function(d,m,xy){
        
        var t=this,a,b,c,e,z=[],o=gDlList,g,i=0,l,u;
             l=d.length;
             while(i<l){
                  a=d[i]; 
                
                  b=a.t,c=a.id,e=a.n; 
                  if(b!==5){ 
                     g=o[b][c]; 
                     if(g!==u)z.push([g[0],g[1],a]); 
                  }else{
                     gDw.frDw(a,xy[0],xy[1]);
                  }; 
                i++;
             };
             t.dlInit(z,m,xy);     
    };
    
    
    WpDrop.prototype.dlInit=function(d,m,xy){
          
       var t=this,l=d.length,o;
           o=t.dlSj(l,m); 
           o=t.dlXy(o,d,xy); 
           t.dhCj(o);       
    };
    
    
    WpDrop.prototype.dlXy=function(d,o,xy){
        var a=[],b,c,i,l=d.length,x=xy[0],y=xy[1],x2,y2,m,u;
              
              while(l--){
                   b=d[l]; 
                   if(b!==u){
                       i=b.length;
                       if(i>0){
                           if(l>0){
                              c=l-1;
                              x2=x,y2=y;
                              if(c<4){ 
                                  if(c<2){
                                     c===1?x2++:x2--;
                                  }else{
                                     c===3?y2++:y2--;
                                  };
                              }else{
                                  if(c<6){
                                     c===4?(x2--,y2--):(x2++,y2--);
                                  }else{
                                     c===6?(x2--,y2++):(x2++,y2++); 
                                  }; 
                              };  
                              m=[x2,y2,x2-x,y2-y];
                           }else{
                              m=[x,y,0,0]; 
                           };  
                           while(i--){
                               c=b[i]; 
                               a.push( [m,o[c]]);   
                           }; 
                       };
                   };
              };   
            
         return a;
    };
    
    
    WpDrop.prototype.dlSj=function(n,m){
         var a,b,c,d=[],e,f,g,h,l=n-1,u;
              if(n===1){
                  d[0]=[0]; 
                  m=d;
              }else{
                  m=m.slice(0); 
                  a=0,b=l;
                  while(a<8){
                       c=m[a];  
                       if(c===0&&b>0){   
                           b--;
                           m[a]=[b+1];   
                           
                       }else if(c===1){
                          m[a]=u;
                       }else{
                          m[a]=[]; 
                       };
                     a++;
                  };
                  if(b>0){ 
                      while(1){
                          a=0;
                          while(a<8){
                              c=m[a];
                              if(c!==u){
                                  b--;
                                  c.push(b+1);
                                  if(b<0)break;  
                              };
                              a++;
                          };
                          if(b<0)break;
                      };  
                  }; 
              };
              
              if(l>0){ 
                  a=8,e=[];
                  while(a--){
                      c=m[a];
                      if(c!==u){
                         e.push(a); 
                      };   
                  };
                   a=e.length;  
                   l=a;
                  while(l--){ 
                      c=(Math.random()*a)<<0;  
                      d=(Math.random()*a)<<0;
                      f=e[c],g=e[d];
                      h=m[f]
                      m[f]=m[g];
                      m[g]=h;
                  };
                   m.unshift([0]);  
              };
              return m;         
    };
    
    
    WpDrop.prototype.newWp=function(id,m,xy,j){ 
       
      var t=this,z=t.p,a,b,c,d,l,o=[],p,u;
           
           d=t.q[id]; 
           if(d===u)return;
           l=d.length; 
           j=j*4;
           while(l--){
                
                a=d[l]; 
                b=a[2]; 
                c=(Math.random()*200)<<0; 
                b+=j; 
                if(b>c){
                    c=a[3]; 
                    if(c!==u){
                        c=(Math.random()*c)<<0;
                        c++;  
                    }else{ 
                        c=1; 
                    };
                   b=z[a[0]][a[1]]; 
                   p={t:a[0],id:a[1],n:c}; 
                  if(a[0]===0){
                     p=t.zbSc(b[2],p,j);   
                  };
                   o.push( [b[0],b[1],p]);
                };
           };
          if(o.length>0)t.dlInit(o,m,xy); 
          
    };
    
    
    WpDrop.prototype.zbSc=function(d,a,j){
      var b,o,c,e,f,g,h,i,k,l,m,n,u;
          
          a.s=d[0]; 
          a.b=d[1]; 
          b=d[2];  
          o=[];
          
          if(b){
            
            l=11;
            while(l--){
                 f=b[l]; 
                 if(f!=u&&f[0]!==u){
                    c=f[0],e=f[1]; 
                    e=(Math.random()*(e+1))<<0;
                    c=c+e+j; 
                    o[l]=c;
                 };
            };
         };
          a.a=o;
          if(d[3]!==u){
             a.z=d[3]; 
          };
          if(d[4]!==u){
               
          };
         return a;
    };
    
    
    WpDrop.prototype.qdNew=function(d){ 
        var t=this,z=t.p,a,b,c,u;
        
         a=z[d[0]];
         if(a!==u){
              a=a[d[1]]; 
              if(a!==u){
                   c={t:d[0],id:d[1],n:d[2]||1,};  
                   if(d[0]===0){
                    
                       c.n=1;
                       c=t.zbSc(a[2],c,d[3]||0); 
                   }else if(d[0]===5){
                       c.a=a[2];  
                   };    
                 sqTy.add(c);
              };
         };
           
    }
    
    
    WpDrop.prototype.dhCj=function(z){
           
     var a,b,c,d,e,f,l=z.length,x,y,x2,y2;    
           
             while(l--){
                  d=z[l];
                  a=d[0]; 
                  b=d[1]; 
                  x2=(Math.random()*10)<<0;
                  e=(Math.random()*2)<<0; 
                  x2=e?x2:-x2;
                  y2=(Math.random()*8)<<0;
                  e=(Math.random()*2)<<0; 
                  y2=e?y2:-y2; 
                  
                  x=20+x2;  
                  y=-10+y2; 
                  c=[
                      [b[0],b[1],x,y-6,16,16,8],   
                      [8500,2,x,y+13,16,6,8],   
                    ];  
                  new wpInY(a[0],a[1],c,b[2]);
             };
    };
    
    gWpDl=new WpDrop();
    
    
    
    
    var wpInY=function(x,y,o,wp){ 
       var t=this;
           t.m=WpY;
           t.dh=1;
           t.d=o; 
           t.x=x;
           t.y=y;
           t.wp=wp;
           t.init();
        
           t.m[y].push(t); 
    };
    
    wpInY.prototype.init=function(){
        
        var t=this,a=t.d,z=leader.xy,wp=t.wp ,j=Mt,d=a[0],m=6,v,i=0,x=t.x,y=t.y,g=t.m[y];
            
            
            
            
            t.oD=a; 
            
            t.now=function(s){
               if(s-j>100){
                  j=s;
                  v=m;
                 if(i&1===1){ 
                     m-=2;   
                     v=-m;
                 };   
                  d[3]+=v; 
                  i++;
                  if(m===0)t.dh=0; 
                   
               };
            };
           
            
            t.jq=function(s){
               
                
                if(s-j>600){ 
                     j=s;
                    if(x===z[0]&&t.y===z[1]){ 
                        
                        i=g.indexOf(t);
                        if(i>-1){
                            sqTy.add(wp);  
                            g.splice(i,1); 
                        };
                    };
                }; 
    
            };
    };
    
    
    wpInY.prototype.free=function(s){
        var t=this;
          if(t.dh===1){
              t.now(s);
          }else{
              t.jq(s);
          };   
    
    };
    
    
    var sqTyTs=function(){
         this.init();  
    }; 
    sqTyTs.prototype.init=function(){
      var t=this,j=0,a=[],f;
             
          t.add=function(wp){
               a.push(wp);
               f=1;
          };
          
          t.free=function(s){ 
                if(s-j>200){
                    j=s; 
                    if(f===1){
                        
                        gCz.push([0,0,a]);
                        a=[],f=0;
                    };  
                };  
          };
    
    };
    
     sqTy=new sqTyTs();
    })();
    
    var gZwCfg;
    (function(){
        gZwCfg={  
            
    
            
            
            80:[
                [70,30,[3,3,5],[24,80]], 
                       
                       
                
                                                      
                [1,[1200,0], [14,10,1,1,0,0,   7,0]],  
                                              
                [1,[1201,0], [12,10,1,1,0,0,   6,-3]],  
                [1,[1202,5], [16,26,1,1,0,3, 7,0], 1,[3,1,300]], 
                [1,[1203,5], [26,41,1,1,0,3, 11,0],1,[3,1,300]], 
                [1,[1204,5], [37,61,1,1,0,3, 15,0],1,[3,1,300]], 
                [0,[1205,5], [41,79,1,1,0,3, 16,0],1,[3,1,300]], 
            ],
            81:[
                [20,20,[6,6,10],[24,81]], 
                                              
                       
                
                [1,[1200,0], [14,10,1,1,0,0,   7,0]],  
                [2,[1201,0], [12,10,1,1,0,0,   6,0]],  
                [2,[1206,5], [25,38,1,1,0,3,   12,0], 1,[3,1,300]], 
                [2,[1207,5], [38,54,1,1,0,3,   17,0],1,[3,1,300]], 
                [2,[1208,5], [51,73,1,1,0,3,   22,0],1,[3,1,300]], 
                [0,[1209,5], [58,80,1,1,0,3,   25,0],1,[3,1,300]], 
            ],
            82:[
                [30,10,[3,3,5],[24,82]],
                [1,[1200,0], [14,10,1,1,0,0,   7,0]],  
                [1,[1212,0], [13,11,1,1,0,0,   7,2]],  
                [1,[1212,1], [24,20,1,1,0,0,   13,2]],
                [1,[1212,2], [28,23,1,1,0,0,   16,2]], 
                [1,[1212,3], [34,28,1,1,0,0,   17,3]], 
                [0,[1212,4], [40,38,1,1,0,0,   20,7]], 
            ],
            83:[
                [30,10,[3,3,5],[24,83]],
                [1,[1200,0], [14,10,1,1,0,0,   7,0]],  
                [1,[1213,0], [12,17,1,1,0,0,   6,2]],  
                [1,[1213,1], [17,23,1,1,0,0,   9,2]],
                [1,[1213,2], [29,30,1,1,0,0,   15,4]],
                [1,[1213,3], [34,38,1,1,0,0,   16,3]],
                [0,[1213,4], [40,44,1,1,0,0,   20,3]],
            ],
            84:[
                [20,10,[3,3,5],[24,84]],
                [1,[1200,0], [14,10,1,1,0,0,   7,0]],  
                [1,[1214,0], [18,11,1,1,0,0,   5,3]],
                [1,[1214,1], [16,24,1,1,0,0,   8,1]],
                [1,[1214,2], [33,25,1,1,0,0,   15,2]],
                [1,[1214,3], [40,29,1,1,0,0,   16,2]],
                [0,[1214,4], [44,31,1,1,0,0,   20,7]],
            ],
            85:[
                [20,10,[3,3,5],[24,85]],
                [1,[1200,0], [14,10,1,1,0,0,   7,0]],  
                [1,[1215,0], [11,13,1,1,0,0,   5,1]],
                [1,[1215,1], [14,16,1,1,0,0,   6,2]],
                [1,[1215,2], [18,23,1,1,0,0,   8,4]],
                [0,[1215,3], [28,30,1,1,0,0,   12,3]],
            ],
            86:[
                [20,10,[3,3,5],[24,86]],
                [1,[1200,0], [14,10,1,1,0,0,   7,0]],  
                [1,[1216,0], [12,9,1,1,0,0,   5,2]],
                [1,[1216,1], [22,16,1,1,0,0,  12,4]],
                [1,[1216,2], [27,23,1,1,0,0,  14,4]],
                [1,[1214,3], [36,30,1,1,0,0,  18,6]],
                [0,[1216,4], [42,34,1,1,0,0,  21,6]],
            ],
            87:[
                [6,5,[1,1,2],[24,87]],
                [1,[1200,0], [14,10,1,1,0,0,   7,0]],  
                [1,[1217,0], [10,11,1,1,0,0,   6,1]],
                [1,[1217,1], [20,20,1,1,0,0,  11,2]],
                [1,[1217,2], [26,26,1,1,0,0,  14,3]],
                [1,[1217,3], [34,36,1,1,0,0,  18,4]],
                [0,[1217,4], [41,42,1,1,0,0,  20,4]],
            ],
            88:[
                [18,5,[2,2,4],[24,88]],
                [1,[1200,0], [14,10,1,1,0,0,   7,0]],  
                [1,[1218,0], [8,11,1,1,0,0,   6,1]],
                [1,[1218,1], [25,19,1,1,0,0,  12,2]],
                [1,[1218,2], [28,31,1,1,0,0,  14,2]],
                [1,[1218,3], [36,38,1,1,0,0,  18,3]],
                [0,[1218,4], [42,45,1,1,0,0,  21,2]],
            ],
            89:[
                [8,5,[2,2,4],[24,89]],
                [1,[1200,0], [14,10,1,1,0,0,   7,0]],  
                [1,[1219,0], [10,16,1,1,0,0,   6,1]],
                [1,[1219,1], [20,21,1,1,0,0,  11,1]],
                [1,[1219,2], [33,24,1,1,0,0,  18,1]],
                [1,[1219,3], [36,27,1,1,0,0,  19,2]],
                [0,[1219,4], [34,29,1,1,0,0,  18,3]],
            ],
            
    
    };
    })();
    
    var gZw, Plant;
    (function(){
    
     gZw=[[],[],[]];  
     Plant=function(){   
        var t=this;
             t.zwF=[[],[],[]];  
             t.init();  
             t.fzy={};  
             
            
            t.fmInit();
            t.dhInit();
            return t;
    };
    
    
    
    
    Plant.prototype.init=function(){
     var i,l,a=gZw,b=3,c=this.zwF, d1,d2;
         
         while(b--){ 
             l=16;
             d1=a[b]; 
             d2=c[b]; 
             while(l--){ 
                 d1[l]=[];
                 d2[l]=[];
                 i=12;
                 while(i--){
                     d1[l][i]=0; 
                     
                     d2[l][i]=0; 
                     
                 };  
             };
         };          
    };
    
    Plant.prototype.qdSjCsh=function(d){ 
      var i,l,a,b=3,c=this.zwF,o=gZwCfg, d1,d2,e,f,g,h,j,k,m,u;
           gZw=d;a=d;
      
          
          while(b--){
              l=16;
              d1=a[b]; 
              d2=c[b]; 
              while(l--){
                  e=d1[l]; 
                  if(e===u)e=[],d1[l]=e; 
                  d2[l]=[];
                  i=12;  
                  while(i--){
                     f=e[i];
                     if(f){
                         g=f[0]; 
                         h=f[1]; 
                         if(h===-1)h=o[g].length-2; 
                         j=o[g][h+1]; 
                         k=j[2];
                         m=0;
                         if(k===1){
                            k=j[3];
                            m=[k[0],k[1],5,0,k[2],0]; 
                         };
                         d2[l][i]=[j[1],j[2],m,0];  
                     }else{
                         e[i]=0;     
                         d2[l][i]=0; 
                     }; 
                  };  
              };
          };              
    };
    
    Plant.prototype.outD=function(y,cy,x1,x2,j,lay,mx,my,dl){  
          
       var t=this,a,b,c,d;   
          if(y>41&&y<78&&x1<59&&x2>32){ 
               if(t.id!==9)return;
               
               a=this.ppY(y,x1,x2); 
               if(a!==0){
                   t.fmBg(j);
                   t.getD(a,y,cy,x1,lay,mx,my,j,dl);    
    
               };
               
          }else{
            
          };
    };
    
    Plant.prototype.tsJd=function(n){
      var t=this;
         
           while(n--){
              t.jdJs(); 
           }; 
    };
    
    Plant.prototype.jdJs=function(){
      
      
        var t=this,a=gZw,z=t.zwF,i,l,b=3,o=gZwCfg,c,d,e,f,g,h,j,k,tq=t.hb.gTq,u;
             
            while(b--){
                c=a[b];
                i=16;  
                while(i--){
                   d=c[i]; 
                   if(d===u)continue;
                   l=12;
                   while(l--){
                      e=d[l];
                      if(e!==0){ 
                          
                          
                          t.jcTj(e);
                          f=e[0]; 
                          
                          if(e[3]-e[4]<1){ 
                              d[l]=0; 
                              z[b][i][l]=0;
                              continue; 
                          }; 
                          
                          
                          
                          t.addJc(e);
                          
                          g=e[1];
                          if(g===-1)continue; 
                          e[2]++;
                          h=o[f][g+1]; 
                        
                          if(e[2]>=h[0]){ 
                              e[1]++; 
                              h=o[f][g+2];
                              if(h[0]===0)e[1]=-1; 
                              e[2]=0; 
                              
                              j=z[b][i][l]; 
                              j[0]=h[1]; 
                              j[1]=h[2]; 
                              j[2]=0;   
                              
                              if(h[3]===1){
                                       k=h[4]; 
                                       j[2]=[k[0],k[1],5,0,k[2],0]; 
                              };
                              
                          };
                          if(tq===0&&e[5]===1){
                              
                              
                              t.tqJs(e); 
                          }; 
                           
                      };   
                   };
                }; 
    
            }; 
    
    };
    
    Plant.prototype.ppY=function(y,x1,x2){ 
        
          var a=[0,0,0],b=[],c,d,e,f=0, tl,tr;
               
              if(y>41&&y<58){ 
                 a[0]=1;
                 f=1;   
              };
              if(y>61&&y<78){ 
                 a[1]=1,a[2]=1;
                 f=1; 
              }; 
              if(f===0)return 0;
              f=0;
              
              if(a[0]===1){
                   
                   c=33-x1;    
                   d=44-33+c;
                   if(d>-1){
                          tl=c>-1?0:-c;  
                          e=44-x2; 
                          tr=44-33+(e<1?0:-e)+1;  
                          if(tr>0){
                              b.push( [0,tl,tr,33,44] );  
                              f=1;
                          };    
                   };
              };
              if(a[1]===1){
                     c=33-x1;    
                     d=44-33+c;
                     if(d>-1){
                           tl=c>-1?0:-c;  
                           e=44-x2; 
                           tr=44-33+(e<1?0:-e)+1;  
                           if(tr>0){
                                 b.push( [1,tl,tr,33,44] );
                                 f=1;   
                           };   
                     };
              };
              if(a[2]===1){
                  c=47-x1;  
                  d=58-47+c;
                  if(d>-1){
                        tl=c>-1?0:-c;   
                        e=58-x2;        
                        tr=58-47+(e<1?0:-e)+1;   
                        if(tr>0){ 
                              b.push( [2,tl,tr,47,58] );
                              f=1;
                        };     
                  };
             };
             if(f===1)return b;
             return 0;
    
    };
    
    Plant.prototype.getD=function(d,y,cy,x,lay,mx,my,jm,dl){ 
                               
                               
                                             
    var t=this,hb=t.hb,a,b,c,o=gZw,o2=t.zwF,l,i,u,e=[42,62,62],f,g,h,j,k,m,n,p,q,r,s,z,xd=[33,33,47],tx,p1,px,py,hx,hy,fl,yo=shadeCfg;
    
        
        l=d.length;
        while(l--){
           a=d[l]; 
           b=a[0]; 
           tx=xd[b]; 
           c=y-e[b];  
           f=o[b][c];  
           if(f===u)continue;
           j=o2[b][c]; 
           i=a[1],g=a[2]; 
           while(i<g){
               h=f[i]; 
               if(h!==0){
                     m=j[i]; 
                    
                     k=h[1]; 
                     n=m[1];
                     p=dl[tx+i]; 
                     hx=(tx-x+i)*40-mx; 
                     hy=(cy+1)*20-my;   
                     p1=hx+20;   
                     px=p1-n[6];      
                     py=hy-n[1]+n[7]; 
                     
                     if(k!==0){ 
                        
                        fl=m[2]; 
                        r=m[0];
                        s=yo[r[0]];
                        if(fl!==0){ 
                             
                              q=hb.flJs(fl,jm); 
                              if(s!==u)z=s[6]*(q-5); 
                              lay[p*3+1].push(r[0],q,px,py,n[0],n[1]);
                        }else{
                              z=0;
                              lay[p*3+1].push(r[0],r[1],px,py,n[0],n[1]);
                        };
                        
                        if(s!==u){
                            if(s[r[1]]===u){ 
                               s=u;
                            }else if(s[r[1]].length>0){
                                s=s[r[1]];
                             };
                        };  
                        if(s!==u){
                              lay[p*3].push(s[0],s[1],hx+s[4]+z, hy+s[5],s[2],s[3]);
                        };
                     }else{
                        
                        lay[p*3].push(m[0][0],m[0][1],px,py,n[0],n[1]);
                     };
                     if(h[5]===1){
                        
                        
                        t.fmSc(h[6],lay[p*3+1],p1,py); 
                     };
                     
                     if(m[3]>0)t.dh(jm,lay[p*3+1],p1,py);
    
              };  
              i++;
           };
        };
        
    
    };
    
    Plant.prototype.fmInit=function(){
       var t=this,j=0,n=0,m=1,b,c,v,e,l,i,f,g;
       var fd=[[0,8,12],[0,8,12],[0,12,12]]; 
       var fv=[[-6],[-14,2],[-20,-6,8] ];  
           
           
          
           t.fmSc=function(d,lay,x,y){  
              
               l=d.length,i=0;
               e=fv[l-1]; 
               while(i<l){
                  c=d[i]; 
                  v=fd[c]; 
                  f=e[i]; 
                  lay.push(8420,c,x+f+v[0],y-n-15,v[1],v[2]);  
                  i++;
               };
           };
           
           t.fmBg=function(sj){
              b=sj-j;
              if(b>200){
                 j=sj;
                   n+=m===1?1:-1;
                   if(n>8)m=0; 
                   if(n<0)m=1; 
              };
           };
    };
    
    Plant.prototype.getBzXy=function(x,y,f){ 
      var m,d,o,c,u; 
            if(x>32&&x<45){
                  x-=33;
                  if(y>41&&y<58){
                     y-=42,m=0;     
                  }else if(y>61&&y<78){
                     y-=62,m=1;
                  };   
            }else if(x>46&&x<59&&y>61&&y<78){
                   x-=47,y-=62,m=2
            };
            
            if(m===u)return 0; 
            c=[m,x,y];
            if(f>0){
               d=gZw[m][y][x]; 
               if(d===0)return 0;
               if(f===1){   
                   return [d,c];
               }else{
                   o=this.zwF[m][y][x];
                   return [d,o,c]
               };
            }else{ 
               return c;
            };
    };
    
    Plant.prototype.boZ=function(id,x,y){ 
      
      
      var t=this,a,b,c,d,e,f,m,o,u;
       o=gZwCfg[id];
       if(o===u)return 0; 
        m=t.getBzXy(x,y);   
       if(m===0)return 0; 
      
        x=m[1],y=m[2],m=m[0];
        e=gZw[m][y][x]; 
        if(e===0){ 
            t.hcFzy(id);
            a=o[0]; 
            b=(Math.random()*a[1]<<0)+a[0]; 
            gZw[m][y][x]=[id,0,0,b,0,0,[]]; 
            a=o[1]; 
            
            d=0;
            if(a[3]===1){ 
               c=a[4];  
               d=[c[0],c[1],5,0,c[2],0];    
            };
            t.zwF[m][y][x]=[a[1],a[2],d,0]; 
            return 1; 
        };
        return 0;
    };
    
    Plant.prototype.hcFzy=function(i){
     var  t=this,o=t.fzy,g,a,b,c,d,u;
          a=o[i];
          if(a===u){
             a=gZwCfg[i][0];
             o[i]=[a[2],a[3]];
             return o[i];
          };
    };
    
    
    Plant.prototype.fmQc=function(f,d,n){ 
       
       
       
       var t=this,a,b,c,e,g;
            a=d[6]; 
            if(f===1){ 
                b=a.indexOf(1); 
                if(b>-1){
                     a.splice(b,1); 
                     if(a.length===0)d[5]=0; 
                };   
            }else{ 
               if(d!==0){ 
                  a=d[6];
                    if(n===0){
                        b=a.indexOf(1); 
                        if(b>-1){
                           g=1; 
                           a.splice(b,1);
                        };     
                    }else{ 
                        b=a.indexOf(0);
                        if(b>-1){
                           g=1;a.splice(b,1);
                        };
                        b=a.indexOf(2);
                        if(b>-1){
                           g=1;a.splice(b,1);
                        };
                    };
                    if(g===1){ 
                        if(a.length===0)d[5]=0;
                    };
               };
            };
    };
    
    Plant.prototype.dhInit=function(){
      var t=this,a,b,m=0,n1,n2,c1=60,c2=0,d1,d2,j1=0,j2=0;
     
      
          
          
         
         
         
         t.dh=function(s,z,x,y){ 
            if(m===1||m===3)t.js(s,z,x,y); 
            if(m===2||m===3)t.cc(s,z,x,y);
         };
         
         t.tqJs=function(z){ 
              if(m===1||m===3){ 
                 m-=1;
                 b[3]-=1;     
              };
              t.fmQc(1,z);
         };
          
          t.js=function(s,z,x,y){
             if(s-j1>c1){ 
                j1=s;
                n1++;
                d1=n1&1?0:1;
                if(n1===13){
                       t.fmQc(0,a,0);  
                       b[3]-=1;        
                       m-=1;
                       return;
                };
             };
             z.push(8620,d1,x-6,y-24,22,22);  
          };  
         
         t.cc=function(s,z,x,y){
            if(s-j2>c1){ 
               j2=s;
               n2++;
               d2=n2&1?0:1;
               if(n2===13){
                      t.fmQc(0,a,1);  
                      b[3]-=2;        
                      m-=2;
                      return;
               };
            };
            z.push(8621,d2,x-6,y-24,30,20);  
         },
         
         t.dzRk=function(k,x,y){  
            var v=t.getBzXy(x,y,2),v2,f; 
                if(v===0){
                   gCz.push([5,0,3]); 
                   return; 
                };  
                
                a=v[0],b=v[1]; 
                v2=b[3]; 
                if(v2===0){ 
                     b[3]=k,m=k,f=1;
                     gYp.push([k>1?6:4,1,0]); 
                }else if(v2!==k&&v2!==3){
                     b[3]=3,m=3,f=1;       
                     gYp.push([k>1?6:4,1,0]); 
                };
                
                if(f===1){
                   k===1?n1=-1:n2=-1;  
                };
         };
    
    };
    
    Plant.prototype.addJc=function(d){ 
     
      
     var t=this,o=t.fzy,a=gZwCfg,m=t.hb,b,c,e,f,g,h,i,j,k,l=3,n,u;
         
         g=d[6]; 
         
         if(g.length===3)return; 
         
         b=d[0];
         c=o[b];
         if(c===u){ 
              c=a[b][0];
              o[b]=[c[2],c[3]];
         };
         
         if(g.indexOf(2)<0){ 
             e=Math.random()*100<<0;
             if(e<10){
                f=1; 
                d[5]=1; 
                g.push(2);
             };   
         };
         
         if(m.gTq==-1&&g.indexOf(1)<0){ 
            
            e=Math.random()*100<<0;
            if(e<35){
               f=1; 
               d[5]=1;
               g.push(1);
            };   
         };
         
         if(g.indexOf(0)<0){ 
            e=Math.random()*100<<0;
            if(e<10){
               f=1; 
               d[5]=1;
               g.push(0);
            };   
         };
         
         g.sort(); 
    };
    
    Plant.prototype.jcTj=function(d){  
      
        var t=this,o=t.fzy,l,a,b,c,e,u; 
            a=d[5];
           if(a===1){
              a=d[6]; 
              l=a.length;
              b=o[d[0]]
              if(b===u)b=t.hcFzy(d[0]);
              b=b[0] ;
              while(l--){
                 c=a[l]; 
                 e=b[c]; 
                 d[4]+=e; 
              };
           };  
    };
    
    Plant.prototype.shCc=function(f,x,y){
      var t=this,o=gZw,o2=t.zwF,o3=gZwCfg,s,a,b,c,d,e;
          a=t.getBzXy(x,y,f); 
          if(f===1&&a!==0){
               
               b=a[0]; 
               
               if(b===0){
                  gCz.push([5,0,3]); 
                  return; 
               };  
               if(b[1]!==-1){ 
                   gCz.push([5,0,1]); 
                  return;
               };
               c=o3[b[0]][0][3]; 
               d=b[3]-b[4];      
               if(d<0)d=1;    
               
               
               sqTy.add({t:c[0],id:c[1],n:d});
               s=1,a=a[1];
               gYp.push([5,1,0]); 
          }else{
               
               if(a===0){
                    gCz.push([5,0,3]);
                  return; 
               };  
               s=1;
               gYp.push([7,1,0]); 
          }; 
          if(s===1){
               o[a[0]][a[2]][a[1]]=0; 
               o2[a[0]][a[2]][a[1]]=0;
          };
    };
    
    })();
    
    var allClJz;
    (function(){
        allClJz={
            3380:{
                
                0:[ 1, [26,12,4,3,24,8],0,0,[1,3],[0,1] ], 
                      
                      
                      
                      
                      
                      
            },
            4640:{
                0:[1,[74,21,3,3,36,15],1,0,[1,2],[0,8]],
                2:[1,[70,18,5,0,36,12],2,0,[1,4],[0,3]],
            },
                
            4641:function(){
                  var d={},i=0,l=7;
                     
                     while(i<l){
                       d[i]=[1,[38,30,0,0,30,0],11,0,[1,1],[1,29]];
                       i++;
                     };
                     
                     i=7,l=14;
                     while(i<l){
                      d[i]=[1,[78,30,0,0,30,0],12,0,[1,1],[1,29]];
                      i++;
                    };
                     
                     i=14,l=21;
                     while(i<l){
                      d[i]=[1,[38,32,0,0,32,0],i-1,0,[1,1],[1,29]];
                      i++;
                     };
                     
                     i=21,l=28;
                     while(i<l){
                      d[i]=[1,[38,71,0,0,71,0],i-1,0,[1,1],[1,29]];
                      i++;
                     };
                     return d;
            }(),
            4642:function(){
                  var d={},i,l;
                      
                      i=0,l=4;
                      while(i<l){
                          d[i]=[1,[38,24,0,0,38,0],27,0,[1,3],[1,6]];
                          i++;
                      };
                      
                      i=4,l=8;
                      while(i<l){
                          d[i]=[1,[68,24,0,0,38,0],28,0,[1,3],[1,6]];
                          i++;
                      };
                      
                      i=8,l=12;
                      while(i<l){
                          d[i]=[1,[103,24,0,0,38,0],29,0,[1,3],[1,6]];
                          i++;
                      };
                      return d;
            }(),
            4695:{
                0:[1,[32,13,4,0,24,12],3,0,[1,1],[0,10]],
                1:[1,[18,13,4,0,24,12],4,0,[1,1],[0,10]],
                2:[1,[72,13,4,10,24,10],5,0,[1,2],[0,9]],
                3:[1,[26,22,4,0,30,22],6,0,[1,2],[0,21]],
                4:[1,[32,13,4,0,24,12],7,0,[1,1],[0,10]],
                5:[1,[18,13,4,0,24,12],8,0,[1,1],[0,10]],
                6:[1,[72,13,4,10,24,10],9,0,[1,2],[0,9]],
                7:[1,[26,22,4,0,30,22],10,0,[1,2],[0,21]],
            },
    };
      
      
      
      
      
      var bJDatacL=function(o){
         var a=o[1], 
             b=o[2], 
             c=o[3], 
             d=o[4], 
             e,w,h,x,y=0,xn,yn,jh,yh,nx,ny,dy ,arr=[],arr2=[],dd,px,py;
          if(o[0]===1){
               e=o[5]; 
               xn=d[0],yn=d[1];
               w=a[0],h=a[1];   
               jh=a[4]; 
               yh=a[5]; 
               px=a[2],py=a[3]; 
               while(y<yn){  
                     x=0;
                     ny=(h+py)*(y+1)+e[1]; 
                  
                     arr[y]=[]; 
                     while(x<xn){
                        nx=w*x+px*(x+1)+e[0];  
                        dd=[nx,ny,w,h,yh, jh ,b,c ];
                        arr[y].push(dd); 
                        arr2.push(dd);  
                       x++;
                     };
                  y++;
               };
          }else{
      
          };
          return [arr2,arr]; 
      };
      var allClInit=function(){
          var o=allClJz,i, k ,d,a,c;
              for(k in o){
                  d=o[k]; 
                  for(i in d){
                      a=d[i]; 
                      c=bJDatacL(a);
                      d[i]=c;
                  };
              };
      
      };
      allClInit();
      
    })();
    
    var reNew, pzType, leader, xMap, yMap, All, MobY, NpcY, WpY,JnY, mapBrush,Zw=0,Zh=0;
    (function(){
    
    var gXy=[]; 
    
    Array.prototype.dx=function(o){ 
        var a=this,l=a.length,n,f,i,g,m=mapBrush,y, u;
           
            n=o.dx,f=o.df;
            if(l===1){ 
               gXy=[];
               if(f===1){ 
                   
                   o.df=0;
                   o.dx=a[0];
                   if(o.jt!==1)return; 
                   
                   m.zaXg(a[0]);
                   o.pzCheck();
                   return;
               };
               return; 
            }else if(l===4){
                i=a.indexOf(n); 
                if(i>-1){
                    if(f===0){
                       o.df=1;  
                       o.dx=a[a[i+2]]; 
                       return; 
                       
                    };
                    
                    return;
                }else{
                    
                    o.df=0;
                    return;
                };
            }else if(l===3){
               
               if(o.type!==4)return; 
                    
               
                 if(a[2].length!==u){ 
                      
                   
                   f=o.xy,g=gXy;
                   if(g[0]!==f[0]&&g[1]!==f[1]){
                        g[0]=f[0],g[1]=f[1];
                   }else{ 
                       return;
                   };
                   n=a[2];
                   if(n[0]===0){ 
                       if(n[0]>-1)gCz.push([5,0,n[1][0]]); 
                       gYp.push([n[1][1],1,0]);
                        
                   }else{
                        
                   };
                   return;
                 };
    
                 gQt=a[2]; 
                 gCzCl.dZ=a[1];   
                 gCz.push([3,0,a[0]])
                 m.mF=0;
                 m.gcCz(0,Mt); 
            }else{
               
                 gXy=[];
                  
                  o.rePos([a[0],a[1],o.ntX,a[2]]); 
                  if(a[3]>-1){ 
                     
                       gYx.yl([a[0],a[1]],[a[3],1,0]);
                   
                   
                 };   
                  if(o.jt===1){
                    m.rePos([a[0],a[1]]);
                    m.zaXg(a[2]);
                  };
                  o.pzCheck();
                  o.cfPd(); 
            };
    };
    reNew=function(o){
        if(o===undefined)return;
        return JSON.parse(JSON.stringify(o));
    };
    var mScfg={ 
        '-2':2, 
        '-1':1, 
        0:1, 
        1:2, 
        2:2, 
        3:1, 
        4:2, 
        5:1, 
        6:2, 
        7:1, 
    };
    
    
    
    
    
    
    var pzIdLb={};    
    var pzNoLb={};    
    
    var pzMap=[];    
        pzType=[];   
    
    var tqMap=[];   
    var tqOut=[];   
    
    var pzCount=0;   
    
    
    
    
    
    
     xMap={},yMap={};
       
       
    
     All=[];  
     MobY=[]; 
     NpcY=[]; 
     JnY=[];  
    
     WpY=[];  
    
     MapBrush=function(){
    
        return this;
    };
    
    
    
    MapBrush.prototype.tqInit=function(){
        var t=this,a=0,f=1,n=0,w=0,h=0,zm=0,cj,yt=0,vt,vd,rw=0;
        var ry=[ [35,25],[31,16],[25,7],[15,2],[6,7],[0,16],[-5,25] ];  
       var ny=t.plant,g=gCzCl;
            t.tq=-1;  
           t.gTq=-1; 
             
             
             
             
   
             
            
             
             t.tZtbG=function(time,qh){  
               var df=0; 
                     if(qh===1){ 
                          a=time,n=0; 
                          t.gTqBg();
                          if(vt>0)t.tqBg();
                          ny.tsJd(1);  
                          gDw.sjBg(n,1); 
                     }else if(time-a>60000){
                           if(f===1){ 
                                a=time,f=0;
                                 w=t.ww*t.s-60,h=t.wh*t.s-80;
                                t.gTqBg();
                           }else if(f>1){ 
                               a=time;
                            }else{
                                 a=time;
                                 n++;
                                
                                if(n===12){ 
                                   gCz.push([5,0,30]); 
                                    n=0;
                                     
                                     df=1;
                                     
                                    t.gTqBg();
                                    
                                    if(vt>0)t.tqBg();
                                    ny.tsJd(1); 
                                    
                                     gJq.tjGx(0,vt===0?t.gTq:t.tq,n);
                                }else{
                                     
                                    gJq.tjGx(0,vt===0?t.gTq:t.tq,n);
                                    
                                    g.tjYx(0,n,vt===0?t.gTq:t.tq,gYs) 
                                };
                                 if(n===7)gCz.push([5,0,31]); 
                                if(n===8)gCz.push([5,0,32]); 
                                if(n===9)gCz.push([5,0,33]); 
                                 
                                gDw.sjBg(n,df); 
                           };
                      };
              };
              
             t.tFw=function(time){
                  a=time; 
                 n=0;    
             };
              
             t.sjKz=function(v){
                   if(v===1){
                       if(f===3)return;
                       f=2;
                    }else if(v===2){
                       if(f===3)return;
                       f=0;
                    }else if(v===3){
                       f=3;
                    }else if(v===4){
                       f=0;
                    };
                    
              };   
    
              
             t.gTqBg=function(){ 
               var v0,v1;
                    v0=Math.random()*100<<0;
                   
                   
                   if(v0<85){
                       yt=0;
                       v1=0; 
                       t.gTq=-1; 
                   }else{
                       yt=1;
                       v1=1; 
                       t.gTq=0; 
                       
                   };
                    
                   if(vt===0&&rw===0){
                       gTqKg=v1;
                        t.tq=v1-1; 
                       gYs=Math.random()*50<<0; 
                   };
                    
                    
                   g.tjYx(1,0,t.tq,gYs) 
                  
              };
    
              
             t.tqBg=function(){ 
                   
                   if(rw===0)return; 
                   if(vt===1){ 
                       gTqKg=0;
                       t.tq=-1;
                    }else{ 
                       t.tq=vt-2; 
                       gYs=vd;  
                       gTqKg=1; 
                   };
                    g.tjYx(1,0,t.tq,gYs) 
                   
              };
    
              
             
             t.rwTq=function(vv,v0,v1){ 
                  
                   if(vv===1){
                       rw=1; 
                      t.tq=v0-2;  
                     
                       gTqKg=vt===1?0:1;
                   }else{
                       rw=0;
                    };
              };
    
              
             t.cjBg=function(map){ 
                   cj=map;
                    zm=cj[0]; 
                   vt=cj[1]; 
                   vd=cj[2]; 
                   if(vt>0){
                        t.tqBg();
                   }else{
                       if(t.gTq>-1)gTqKg=1;
                   };    
                   
                    
             };
    
              
             t.sjBg=function(lay){ 
               
               
               
               
               
                
               var z=-1,xy,ja,jb;
                if(zm>-1){ 
                   if(zm===0){
                           if(n===0||n===6){ 
                               z=1;
                            }else if(n>0&&n<6){
                               z=-1;
                            }else{
                                   if(n<8||n>10){
                                       z=2;
                                    }else{
                                        z=3;     
                                   };   
                            }; 
                            z+=yt;    
                   }else if(zm>1){
                         z=zm;
                    };
               };
                
                if(z>-1)lay.push(8601,z,10,40,w,h );  
                
                 
                
                 if(n>0&&n<6){ 
                    
                    xy=ry[n];
                     lay.push(8600,2,xy[0]+30,xy[1]+44,9,9);
                  }else if(n>6&&n<12){
                     
                     xy=ry[n-6];
                      lay.push(8600,3,xy[0]+30,xy[1]+44,9,9);
                  }else{
                     ja=ry[0]; 
                     jb=ry[6]; 
                     lay.push(8600,n===0?2:3,ja[0]+30,ja[1]+44,9,9,8600,n===0?3:2,jb[0]+30,jb[1]+44,9,9,);
                  };
                  
                 lay.push(8600,0,30,60,40,20,8600,1,34,44,15,5);
               
             };
    
             
             t.yxCf=function(){
                g.tjYx(1,n,vt===0?t.gTq:t.tq,gYs);
            };
    
             
            t.jqCf=function(){
                gJq.tjGx(0,vt===0?t.gTq:t.tq,n);
            };
             
             
            t.hqSC=function(){
                
               return 8; 
            };
           
    };
    
    
    MapBrush.prototype.init=function(m){ 
        var t=this,w=m[0],h=m[1],a,b,n;
            t.dF=0;
            t.mF=0; 
            t.arr=[0,0];
            t.wx=m[3];
            t.hx=m[4];
            t.ww=w+2;  
            t.wh=h+1;  
            t.wh2=t.wh*2;   
            t.s=m[2];    
            t.s2=t.s/2;  
            t.my=0; 
            
            n=w/2;
            if(n>(n<<0)){
            a=n<<0;  
            }else{
            a=n-1; 
            };
            t.zx=a; 
            
            n=h/2;
            if(n>(n<<0)){
                b=n<<0;  
            }else{
                b=n; 
            };
            t.zy=b;
            t.tqInit(); 
            t.fl_init(); 
            t.dxInit();  
            t.dtDhInit(); 
            t.gcInit();    
           
    };
    
    
    MapBrush.prototype.newMap=function(o){ 
    
       
    var t=this,x,y,w=o[2],layer=[],i=0,z,dx=[],nz=[];
        gXy=[]; 
        
        t.mF=0;
        t.arr=[0,0]; 
         
        t.layer=layer;
        while(i<t.wh2){
           layer[i]=[
               
               
               [],
               [],
               [],
               
               [],  
               [],
               [],
    
               
               [], 
               [], 
               [], 
    
               
               [], 
               [], 
               [], 
               
    
               
    
               
               [], 
               [], 
               [], 
               
               [], 
               [], 
               [], 
               
               [], 
               [], 
               [], 
    
           ] ; 
           i++;
        };
        t.dX=dx;  
        t.nZ=nz;  
    
        t.dm=o[0];
        t.ds=o[1];
        t.id=o[3];
        t.mw=w[2];   
        t.mh=w[3];
        Zw=w[2]-1,Zh=w[3]-1;   
        t.mh2=w[1];  
        xMap={},yMap={}; 
        All.length=0; 
        pzType.length=0; 
        pzMap.length=0;  
        tqMap.length=0;  
        tqOut.length=0;  
        MobY.length=0; 
        NpcY.length=0; 
        JnY.length=0; 
        WpY.length=0; 
        y=t.mh; 
        while(y--){
            MobY[y]=[]; 
            NpcY[y]=[]; 
            tqMap[y]=[];
            JnY[y]=[]; 
            WpY[y]=[];
            z=new Int16Array(t.mw);   
            pzMap.push(z); 
            z=new Int16Array(t.mw); 
            pzType.push(z);
            z=new Int16Array(t.mw); 
            dx.push(z);
            nz.push([]);
        };
    
        
        pzIdLb={}; 
        pzNoLb={0:{type:2,id:null}}; 
        pzCount=0;
        
        t.gcCz(0,Mt);
       
    };
    
    
    MapBrush.prototype.initPz=function(){
          var map,t=this;
       
              map=t.dm;  
           
              t.pzMap(map);
              map=t.ds;  
              t.pzSolid(map);
           
           
           
    
              t.pzType(); 
              t.getTqMap(); 
              t.newDx(); 
           
              t.xunLuM(); 
           
           t.mF=1; 
    };
    
    
    MapBrush.prototype.dxInit=function(){
       var t=this,dx,nz,d,m,a,b,c,e,f,g,i,j,k,l,n,o,p,q,r,s,v,w,h,x,y,x2,y2,u;
             
             
             
             
            
            t.newDx=function(){
               
                  m=u; 
                  dx=t.dX;
                  nz=t.nZ;
                  w=t.mw; 
                  h=t.mh; 
                  y=0;
                  while(y<h){
                      a=dx[y]; 
                      n=nz[y]; 
                      x=0;
                      while(x<w){
                         a[x]=3;   
                         n[x]=[3]; 
                         x++;
                      };   
                      y++;
                  };
    
                 
                 a=gMapCfg[t.id][4];
                 if(a){
                   d=a[1];
                   a=a[0];
                   t.dxCl(a);
                 }else{
                     d=u;
                 };
            };
            
            t.dxCl=function(a){
                 
                   if(a){
                       v=pzType;
                       j=0,l=a.length;
                       while(j<l){
                               b=a[j];  
                               c=b[0];
                               x=b[1],x2=b[2],y=b[3],y2=b[4],f=b[7];   
                               p=b[5];
                               q=b[6];
                               o=c<2?v:dx;  
                               if(c<2){
                                   o=v; 
                               }else{
                                   o=c>2?nz:dx; 
                               };
                               k=c<2?1:0;   
                               while(y<y2+1){
                                   e=o[y];
                                   i=x;
                                   while(i<x2+1){
                                       
                                       if(c<2){
                                           e[i]=c<1?1:2;
                                       }else{
                                           e[i]=f;
                                       };
                                       
                                       if(c<3&&p!==-1){  
                                               if(i==x){
                                                   if(p===0||p==2){
                                                       if(c<2){
                                                           if(i>0)e[i-k]=2;
                                                       }else{
                                                           g=v[y];
                                                           g[i]=2;   
                                                       };
                                                   };
                                               }else if(i===x2){
                                                   if(p===1||p==2){
                                                       if(c<2){
                                                           if(i+1<w)e[i+k]=2;
                                                       }else{
                                                           g=v[y];
                                                           g[i]=2;   
                                                       };
                                                   };
                                               };
                                       };
                                       i++;
                                   };
                                   y++;
                               };
                               if(c===3){
                                   j++;
                                   continue;
                               };
                               
                               y=b[3];
                               if(q===0||q===2){
                                   if(y-1>-1){
                                       o=v[y-k];
                                       i=x-k;
                                       while(i<x2+1){ 
                                           if(i>-1&&i<w)o[i]=2;
                                           i++;
                                       };
                                   };
                               };
                               if(q===1||q===2){
                                   if(y2+1<h){
                                       o=v[y2+k];
                                       i=x-k;
                                       while(i<x2+1){ 
                                           if(i>-1&&i<w)o[i]=2; 
                                           i++;
                                       };
                                   };
                               };
                               j++;  
                       };
                   };
            };
            
            t.zaXg=function(z){
               
                if(d!==u){
                       a=d[z];
                       if(a!==u)t.dxCl(a,1);  
                };
            };
    };
    
    
    MapBrush.prototype.gcInit=function(){
     var t=this,w=t.ww,h=t.wh,d,n,s,a,b,c,e,f,g,i,k,l,m,o,p,q,r,u;
           
           
           
           
           
    
         
         t.gcDh=function(lay,j){
             if(j-s>15){ 
                 if(n===0){
                    l=d.length/6;
                    if(l===0){
                       t.dF=0; 
                       
                       return; 
                    };
                    e=[]; 
                    a=40,b=0,c=l-1;
                    while(a--){
                       if(b<l){ 
                           i=b*6; 
                           d[i+5]-=4;
                           d[i+3]+=2; 
                           if(d[i+5]<=0)e.push(i);
                       };
                       if(c>-1){
                           i=c*6;
                           d[i+5]-=4;
                           d[i+3]+=2; 
                           if(d[i+5]<=0)e.push(i);
                       };  
                       b++;
                       c--;
                    };  
                    l=e.length;
                    while(l--){
                       d.splice(e[l],6); 
                    };
                 }else if(n===1){
    
                 } 
             };
             lay[20]=lay[20].concat(d)     
         };
         
         t.gcCz=function(z,j){ 
               n=z;
               s=j;
               t.dF=1;
               if(n===0){ 
                   d=[];
                   i=0;
                   while(i<h){
                       l=0;
                       while(l<w){
                           d.push(8409,0,40*l,40*i,40,40);  
                           l++;
                       };
                       i++;
                   };
                   
                   a=10,i=0,l=w*h-1;
                   while(a--){
                       b=a*4;
                       c=i*6;
                       d[c+5]-=b;
                       d[c+3]+=b/2;
                       c=(l-i)*6;
                       d[c+5]-=b;
                       d[c+3]+=b/2;
                       i++;
                   };
               }else if(n===1){
    
               };
    
         };
    
    
    };
    
    
    MapBrush.prototype.pzType=function(){
        var t=this, y=t.mh,x=t.mw,a,b,c,d;
       
           while(y--){
                   a=x;
                   b=pzMap[y];
                   c=pzType[y];
                   while(a--){
                       d=b[a];
                       d=pzNoLb[d].type;
                       c[a]=d;
                   };
           };
           
    };
    
    
    MapBrush.prototype.pzMap=function(m){
       var t=this,y=t.mh/2,x=t.mw,x2=x,m2,m3,type,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,v,w,u;
           while(y--){
                a=m[y];
                m2=pzMap[y*2+1];
               
                b=x;
                while(b--){
                     c=a[b];
                     q=c.length;
                     while(q--){
                          e=c[q];
                          w=e[6]; 
                          d=e[5]; 
                          g=e[2]; 
    
                          type=mScfg[d[5]];
                      
                         if(pzIdLb[g]===u)pzIdLb[g]=[]; 
                         r=pzIdLb[g][w];
                         if(r===u){
                              pzCount++; 
                              pzIdLb[g][w]=pzCount;   
                              pzNoLb[pzCount]={ type:type}; 
                              r=pzCount; 
                         };
                           f=m2[b];    
                           if(f!==0){  
                              p=pzNoLb[f];   
                              h=p.type;      
                           }else{
                              h=0;  
                           };
                           
                           i=type;
    
                           if(h!==2&&i!==2||i===2){ 
                               
                               j=d[2]||1; 
                               k=(d[3]||1)*2; 
                               v=0;
                               while(v<k){
                                   n=y*2+1-v;       
                                   if(n<0)continue;
                                   l=j;
                                   m2=pzMap[n];
                                   while(l--){
                                       o=b+l;
                                       if(o>=x2)continue; 
                                       m2[o]=r;   
                                   };
                                   v++;
                               };      
                           }; 
                     };
                };
           }; 
           
    };
    
    
    MapBrush.prototype.pzSolid=function(m){
       var t=this,y=t.mh,x=t.mw,x2=x,m2,type,a,b,c,d,e,f,g,h,i,j,k,l,n,o,p,s,v,w,u;
           while(y--){
                a=m[y];  
                m2=pzMap[y];
                b=x;
                while(b--){
                     c=a[b][0][0]; 
                     if(c){
                          w=c[6]; 
                           d=c[5]; 
                           e=c[2]; 
                           type=mScfg[d[5]]; 
                           if(pzIdLb[e]===u)pzIdLb[e]=[]; 
                           g=pzIdLb[e][w];
                           if(g===u){
                               pzCount++; 
                               pzIdLb[e][w]=pzCount;   
                               pzNoLb[pzCount]={type:type}; 
                               g=pzCount; 
                           };
    
                           f=m2[b];    
                           if(f!==0){
                              p=pzNoLb[f];   
                              h=p.type;      
                           }else{
                              h=0; 
                           };
    
                           i=type;
    
                           if(h!==2&&i!==2||i===2){
                               j=d[2]; 
                               k=d[3]; 
                               v=0;
                               while(v<k){
                                   n=y-v;       
                                   if(n<0)continue;
                                   l=j;
                                   m2=pzMap[n];
                                   while(l--){
                                       o=b+l;
                                       if(o>=x2)continue; 
                                       m2[o]=g;   
                                   };
                                   v++;
                               };      
                           };  
    
                     };
    
                };
           };
         
       
       
       
       
       
       
    }; 
    
    
    
    MapBrush.prototype.rePos=function(d){
        var t=this,a=t.arr,x=d[0],y=d[1],x2=t.zx,y2=t.zy; 
          
                t.my=y&1?t.s2:0;
                y=(y/2)<<0;
                a[0]=x-x2-1;  
                a[1]=y-y2-1;  
    };
    
    
    MapBrush.prototype.map=function(){
         var t=this ,arr=t.arr, ww=t.ww,wh=t.wh,mw=t.mw,mh=t.mh2; 
         var x=arr[0],y=arr[1];
         var map=t.dm;
         var a,b,c,d,e,f,g,h,i;
         var mx,my=0,ym;
         var s=t.s; 
         var dx=t.dX,dl,df,dn;
         var layer=t.layer,lay;
         var time=Mt;
       
       
             
             while(my<wh){
                       if(y>-1&&y<mh){
                           a=map[y],b=x,c=ww,mx=0,ym=my*s-My;
                           dl=dx[y*2];  
                           
                           lay=layer[0]; 
                           while(mx<c){
                                   if(b>-1&&b<mw){
                                       df=dl[b];
                                       
                                       d=a[b];e=d.length;f=0;
                                       while(f<e){
                                           g=d[f];
                                           h=g[2]; 
    
                                           if(h>290&&h<370){ 
                                               dn=df+1;
                                           }else{
                                               dn=df;
                                           };
                                               i=g[5];
                                               if(i[4]===3){
                                                   t.dtDh(time,i,g,mx*s-Mx,ym,lay[dn*3+0]);
                                                   
                                               }else{
                                                   lay[dn*3+0].push(g[2],g[6], mx*s+20-i[6]-Mx,  ym+i[7] , i[0] , i[1]  );
                                                   
                                               };    
                                           f++;
                                       };
                                   };
                           b++,mx++;
                           };
                       }; 
                     y++,my++;
             };
           
           
    };
    
    
    MapBrush.prototype.solid=function(){
       var t=this ,arr=t.arr,ww=t.ww,wh=t.wh,wh2=t.wh2,mw=t.mw,mh=t.mh,u; 
       var x=arr[0],y=arr[1]*2 ,y2=y;
       var map=t.ds; 
       var a,b,c,d,e,f,g,img,cfg, fps ,i ,cx,cy,xy,yx,cf ;
       var mx,my=0;
       var s=t.s,s2=t.s2 ,buf;
       var time=Mt;
       var npc;
       var p,q,o,o2=shadeCfg ;
       var nrr;
       var tq=tqMap,ts,tr,to,td,tf;
       var jx,jn,jd,jl,ji,jo,ntx; 
       var layer=t.layer,lay;
       var hArr,dArr=[],jz,jt,jr, dx,dy; 
       var xd=t.dX,dl,df,wf,fx;
       var nz=t.nZ,nl,nd,fd;
       var qbD; 
       
       var zhf=0,zh=0,zhh=wh2+30,zw;  
           t.tZtbG(time,0); 
           while(my<zhh){ 
                 if(my<wh2){
                   zhf=1;
                 }else{
                   zhf=0;
                   zh+=20; 
                 };
               if(y>-1&&y<mh){ 
                    a=map[y],b=x,c=ww,mx=0; 
                    dl=xd[y]; 
                    nl=nz[y]; 
                    if(zhf===1){ 
                               lay=layer[my]; 
                               ts=tqOut[my]; 
                               tr=tq[y];
                       
                                
                               
                               npc=NpcY[y];
                               g=npc.length;
                               if(g!==0){
                                   
                                   while(g--){
                                       d=npc[g];
                                       e=d.xy;
                                       i=e[0];
                                       f=x+ww;
                                       if(i>=x&&i<f){ 
                                           nl[i].dx(d); 
                                           df=d.dx;    
                                           cfg=d.cfg; 
                                           
                                           
                                           
                                          if(d.jt===1){
                                             cx=(i-x)*s;
                                             cy=(my+1)*s2-t.my;   
                                          }else{
                                             cx=(i-x)*s+d.x-Mx;
                                             cy=(my+1)*s2+d.y-My;
                                          }; 
                                           o=o2[d.id]; 
                                           ntx=d.ntX; 
                                           nrr=layer[my][df*3+1];
                                               if(d.dh4!==1){ 
                                                   if(o!==u){
                                                       lay[df*3+0].push(o[0],o[1],cx+o[4], cy+o[5],o[2],o[3]); 
                                                   };   
                                                   
                                                  
                                                 
                                                 
                                                  fx=d.ntY+2; 
                                                  fx=fx<2?0:(fx>2?1:-1); 
                                                  fx=my+fx;
                                                  if(fx<0)fx=0; 
                                                  if(fx>=wh2)fx=wh2-1; 
                                                  nrr=layer[fx][df*3+1];
                                                  nrr.push(d.id,d.fN,cx-cfg[6],cy-cfg[1]+cfg[7], d.actN , d.ntX );
                                                               
                                               }else{
                                                   t.deathD(d.swD,cx,cy,lay[df*3+0],nrr);
                                               };
                                               if(d.dh1===1){ 
                                                   t.pgCl(d.pgD,ntx,cx,cy,nrr);
                                               };
                                               if(d.dh3===1){
                                                   t.szCl(d.szD,nrr,cx,cy); 
                                               };
                                               
                                           
                                       };
                                   };
                               };
    
                               
                               npc=MobY[y];
                               g=npc.length;
                               
                               if(g!==0){
                                   while(g--){   
                                       d=npc[g];
                                       e=d.xy;
                                       i=e[0];
                                       f=x+ww;
                                       if(i>=x&&i<f){
                                           nl[i].dx(d); 
                                           df=d.dx;    
                                           ntx=d.ntX; 
                                           cfg=d.cfg;
                                           if(d.jt===0){
                                               cx=(i-x)*s+d.x-Mx;
                                               cy=(my+1)*s2+d.y-My;
                                           }else{
                                               cx=(i-x)*s;
                                               cy=(my+1)*s2-t.my;
                                           };
                                           
                                           o=o2[d.id]; 
                                           if(d.dh4!==1){
                                           
                                               if(o!==undefined)lay[df*3+0].push(o[0],o[1],cx+o[4], cy+o[5],o[2],o[3]);
                                               
                                               
                                               fx=d.ntY+2; 
                                               fx=fx<2?0:(fx>2?1:-1); 
                                               fx=my+fx;
                                               if(fx<0)fx=0;
                                               if(fx>=wh2)fx=wh2-1;
                                               nrr=layer[fx][df*3+1];
                                               nrr.push(d.id,d.fN+(ntx?d.imgL:0), cx-cfg[6], cy-cfg[1]+cfg[7], cfg[0] , cfg[1] );
                                               if(d.dh5===1){
                                                   t.ztSj(lay[df*3+1],cx,cy,d.dhZt());  
                                               };
                                           }else{
                                               t.deathD(d.swD,cx,cy,lay[0],lay[df*3+1]);
                                           };  
                                               if(d.dh1===1){ 
                                                   t.pgCl(d.pgD,ntx,cx,cy,lay[df*3+1]);
                                               };
                                               if(d.dh3===1){
                                                   t.szCl(d.szD,lay[df*3+1],cx,cy); 
                                               };
                                       };
                                   };
                               };
    
                               
                    };
                        
                    
                     
                      if(zhf===1){ 
                          
                          gDw.dwDh(y,my,x,x+ww-1,time,lay,Mx,My,dl);
    
                          
                          t.plant.outD(y,my,x,x+ww-1,time,lay,Mx,My,dl); 
                          
                      };
                  
                       b-=13; 
                       mx-=13 
                       cx=mx*s-Mx;
                       cy=(my+1)*s2-My;
                       qbD=[];
                       while(mx<c+6){ 
                           
                                   if(b>-1&&b<mw){ 
                                            g=a[b];
                                            d=g[0][0]; 
                                            if(d!==u){  
                                                   df=dl[b];
                                                   cfg=d[5];
                                                   if(mx<0){ 
                                                       zw=-40*mx-20;
                                                       if(cfg[0]-cfg[6]<zw){
                                                           cx+=s; 
                                                           b++,mx++;
                                                           continue;
                                                       };
                                                   };
                                                   if(mx>=c){
                                                       zw=40*(mx-c+1)-20;
                                                       if(cfg[6]<zw){
                                                           cx+=s; 
                                                           b++,mx++;
                                                           continue;
                                                       };
                                                   };
                                                   if(zhf==0){
                                                           if(cfg[1]<zh){ 
                                                               cx+=s; 
                                                               b++,mx++;
                                                               continue;     
                                                           }else{
                                                               sssss=1234; 
                                                           };
                                                           
                                                   };
                                                   o=o2[d[2]]; 
                                                   i=d[6] , q=0; 
                                                   jt=cfg[5];   
                                                   jr=cfg[4];   
                                                   fd=1;
                                                   if(jt>1&&jt<4){ 
                                                           fps=d[3];
                                                           i=t.flJs(fps , time); 
                                                           q=1; 
                                                   }else if(jt>5){ 
                                                           t.dtDh(time,cfg,d,cx,cy,lay[df*3+1]); 
                                                           fd=0; 
                                                           
                                                           if(o!==u)o=o[0]; 
                                                   }else{ 
                                                           if(o!==u)o=o[i];
                                                   };
                                                   if(o!==u){
                                                           q===1? p=o[6]*(i-5): p=0 ;  
                                                           if(jt>-1){
                                                               lay[df*3+0].push(o[0],o[1],cx+o[4]+p, cy+o[5],o[2],o[3]);
                                                           }else{ 
                                                               
                                                               layer[0][df*3+0].push(o[0],o[1],cx+o[4]+p, cy+o[5],o[2],o[3]);
                                                           };       
                                                   };
                                                   
                                                   dx=cx+20-cfg[6];  
                                                   dy=cy-cfg[1]+cfg[7];
                                                   if(jt<4){
                                                           if(jt>-1){ 
                                                               lay[df*3+1].push( d[2],i , dx, dy , cfg[0] , cfg[1] ); 
                                                           }else{
                                                               layer[0][df*3+0].push( d[2],i , dx, dy , cfg[0] , cfg[1] );
                                                           };
                                                   };   
                                                   
                                                   
                                                   if(jt>3){ 
                                                       hArr=[];
                                                       jd=cfg[10]; 
                                                       if(jr===2){
                                                               hArr[0]=[ d[2],i,dx,dy,cfg[0],cfg[1],0,[] ];
                                                               t.jzClData( cfg[10],dx,dy+cfg[1],d[2],i,hArr[0][7],jz ); 
                                                       }else{
                                                               if(jr===1){
                                                                       if(d[2]<4000||d[2]>4001){
                                                                               if(cfg[8]===0){ 
                                                                                   
                                                                                   layer[0][df*3+0].push( d[2],i , dx, dy , cfg[0] , cfg[1] );
                                                                               }else{
                                                                                   lay[df*3+1].push( d[2],i , dx, dy , cfg[0] , cfg[1] ); 
                                                                               };
                                                                       };
                                                               }else if(fd===1) {
                                                                       lay[df*3+1].push( d[2],i , dx, dy , cfg[0] , cfg[1] ); 
                                                               };
                                                       };
                                                       if(jd!==undefined&&jd.length>0){
                                                              t.jzCdData( cfg,dx,dy,hArr,0,jz,time); 
                                                       };
                                                       if(hArr.length>0){ 
                                                               if(jr!==3){
                                                                   t.jzDraw(hArr,lay[df*3+1],1);
                                                               }else{
                                                                   
                                                                   if(qbD[df]===u)qbD[df]=[];
                                                                   qbD[df]=qbD[df].concat(hArr);
                                                               };
                                                       };   
                                                   };
                                           };
                                   }; 
    
                               cx+=s; 
                               b++,mx++;
                       }; 
                           
                           i=0,q=qbD.length;
                           while(i<q){
                               d=qbD[i]; 
                               if(d!==u)t.jzDraw(d,lay[i*3+1],1); 
                               i++;
                           };
                                  
                  
                  if(zhf===1){ 
                       
                           jd=WpY[y];
                           jl=jd.length;
                           if(jl>0){
                               while(jl--){
                                   jo=jd[jl]; 
                                   i=jo.x;
                                   f=x+ww;
                                   if(i>=x&&i<f){ 
                                       df=dl[i];
                                       jo.free(time);
                                       cx=(jo.x-x)*s-Mx;
                                       cy=(my+1)*s2-My;
                                       t.wpDl(jo.oD, cx, cy ,lay[df*3+0]);
                                   };
                           };
                           }; 
                       
                       
                           jd=JnY[y];
                           jl=jd.length;
                           if(jl>0){
                                   ji=0;
                                   while(ji<jl){
                                       jo=jd[ji]; 
                                       tf=t.jnData(layer,my,jo,y,ji,jd,xd);
                                       if(tf===1){
                                           jl--;
                                           continue; 
                                       };  
                                       ji++;
                                   };
                           };
                       
                       
                           if(gTqKg===1){
                                   mx=0,b=x;
                                   cx=mx*s-Mx;      
                                   cy=(my+1)*s2-My; 
                                   while(mx<c){
                                           
                                           to=tr[b];  
                                           if(to===1){
                                               td=ts[mx]; 
                                               t.tqData(td,lay[17],cx,cy,mx); 
                                           };
                                           cx+=s; 
                                           mx++,b++;
                                   };
                           };
                           
                  };
                
    
               };
               
               y++,my++;
           };
            
          
           t.sjBg(lay[20]);
    
           if(t.dF===1)t.gcDh(lay,time); 
           var ccc=t.layData(layer);  
               
               sqTy.free(time); 
               
               gSend(1,0,ccc); 
              
               ccc=null;
    };
    
    
    MapBrush.prototype.ztSj=function(lay,x,y,d){
       var a=d[0],b=d[1],c,e,i=0,l=b.length;
             
             e=a;
             while(i<l){
                 c=b[i];
               
                 lay.push(c[0],c[1],x-e,y-c[4],c[2],c[3]);  
               
                  e+=-c[2]-2;
                i++;
             };
              
    };
    
    
    MapBrush.prototype.wpDl=function(a,x,y,r){
       var d; 
           
           d=a[1];
           r.push( d[0],d[1],x+d[2]-d[6],y+d[3]-d[4],d[4],d[5] );
           d=a[0];
           r.push( d[0],d[1],x+d[2]-d[6],y+d[3]-d[4],d[4],d[5] );
    
       
    };
    
    
    MapBrush.prototype.deathD=function(d,x,y,r1,r2){ 
       var a,x2,y2,l=2,u;
          while(l--){  
              a=d[l];  
              x2=x+a[4];
              y2=y-a[3]+a[5];
              if(l===1){
                r1.push(a[0],a[1],x2,y2,a[2],a[3]);
              }else{ 
                r2.push(a[0],a[1],x2,y2,a[2],a[3])
              };
          };;
    
    };
    
    
    MapBrush.prototype.hqMbX=function(x,m,n,v){
        
        var a=[],b,c;
             c=(v/2)<<0;  
          
          if(m===1){
             a[0]=x;
             if(n===1)v--;
             b=v&1; 
             a[1]=x+c;
             a[2]=n,a[3]=b; 
             if(b===1)a[1]++;  
          }else{
             a[1]=x;
             if(n===2)v--;
             b=v&1; 
             a[0]=x-c;
             a[2]=b===1?2:0;  
             a[3]=n;  
             if(b===1)a[0]--;
          };
          return a;
    };
    
    
    MapBrush.prototype.hqMb=function(z,t,x,y,m,n,v,o,w,s){ 
                                   
                                   
                                   
      var a=MobY,d=[],b,c,e,f,g,h,i,j,l,xd,yd,u,x1,x2,xl,xr;
         
          
          
         if(t<4){ 
              xd=this.hqMbX(x,m,n,v);
               
               
               yd;  
               if(t>1){ 
                   b=(w/2)<<0;
                   if(b>0){
                       yd=[y-b,y+b];
                   }else{
                       yd=[y,y]
                   };
               }else{
                   yd=[y,y]
               }; 
         }else{
             
              b=(w[0]/2)<<0; 
              if(b>0){
                  xd=[x-b,x+b,0,0];
              }else{
                  xd=[x,x,0,0]
              };
             
             b=(w[1]/2)<<0;
             if(b>0){
                yd=[y-b,y+b];
             }else{
                yd=[y,y]
             };
         };
         
         if(z===0){
            a=[]
            a[leader.xy[1]]=[leader];  
         };
         b=yd[0],e=yd[1]; 
         x1=xd[0],x2=xd[1],xl=xd[2],xr=xd[3];
       
         while(b<=e){
              c=a[b]; 
              if(c!==u){
                  i=0,l=c.length;
                  while(i<l){
                      h=0;
                      f=c[i]; 
                      x=f.xy[0];
                      g=f.xadd; 
                     
                      if(x>=x1&&x<=x2){ 
                           if(x===x1&&(xl===0||g>=xl)){
                               h=1;
                           }else if(x===x2&&(xr===0||g<=xr)){
                               h=1;
                           }else if(x>x1&&x<x2){
                               h=1;
                           };
                           if(h===1){ 
                               j=f.type; 
                                   if(z===0){ 
                                       d.push(f)
                                   }else if(z===1&&j===1){ 
                                       d.push(f); 
                                   }else{
    
                                   };    
                           };
                      }; 
                    i++;
                  };
              };  
           b++;
         };
        if(d.length>0)this.scSh(d,t,s,o);
          
    };
    
    
    MapBrush.prototype.scSh=function(d,t,s,o){
       var i=0,l=d.length,n;
           n=o.shSc(s);
    
           while(i<l){
                d[i].shCs(t,n);
               i++;
           };
    
    };
    
    
    MapBrush.prototype.pgCl=function(d,m,x,y,r){
    
     var a=d[0],b=d[3],c=d[2],i=0,l=c.length,n,cx;
        
        if(a===-1)return; 
             while(i<l){
                 d=c[i];  
                 n=m?d[0]+b:d[0];      
                 cx=m?-d[3]-d[1]:d[3]; 
                 r.push(a,n,x+cx,y+d[4],d[1],d[2]);  
               i++;
             }; 
    };
    
    
    MapBrush.prototype.szCl=function(a,b,x,y){
     var i=0,l=a.length,c,d,e,f,g,w,h,px,py,ox,oy,s;
         while(l--){ 
             
             d=a[l]; 
             px=d[2],py=d[3],w=d[4],h=d[5],g=d[6],c=d[7],s=d[8];  
             e=c.length,f=0;
             while(f<e){
                ox=x-px+w*f+s; 
                oy=y-py-i;  
                b.push(g,c[f],ox,oy,w,h );  
                f++;
             }; 
             i+=12; 
         };
    };
    
    
    MapBrush.prototype.jnData=function(lay,y,o,zy,i,jd,dx){ 
     var t=this,a,b,c,d,e,f,g,h,i=0,l,x,u;
       
       
       
       if(Mt-o[2]>o[5]){
           o[4]++;
           o[2]=Mt; 
           a=t.scJnData(o,y,zy,1); 
       }else{
           a=t.scJnData(o,y,zy); 
       };
       if(a===0){
           jd.splice(i,1); 
           return 1; 
       };   
       
       
       x=o[7][4]; 
       l=a.length;
       while(i<l){
           d=a[i];  
           b=y+d[0];
           if(lay[b]!==u){
               c=dx[b]; 
               if(c!==u){
                   e=c[x];
               }else{
                   e=3;
               };
               lay[b][e*3+2].push( d[1],d[2],d[3],d[4],d[5],d[6] );
           };
           i++;
       };
    };
    
    
    MapBrush.prototype.scJnData=function(o,y,zy){ 
       var t=this,s=t.s,s2=t.s2,a=o[0],b=o[1],n=o[4],n=o[4],e=o[6],d=o[7],r=o[3],c,g,i=0,l,z=[],v,h,f,p,q, m,k,cx,cy,ox,oy,u;
          
          
     
            if(n===e&&r===1){   
                o[3]=0;
                o[9].jnJc(); 
            };  
            if(n===a.length)return 0; 
            c=a[n]; 
            o[5]=c[0];
            
            k=d[0]; 
            m=d[6]; 
            q=d[5]; 
            g=c[1]; 
            if(c[2]!==u&&n!==o[10]){  
               
                o[10]=n;
               
                t.hqMb(o[8],k,d[4],zy,m,d[3],d[1],o[9],d[8],c[2]);
               
           }; 
            l=g.length;
            cx=(d[4]-t.arr[0])*s-Mx; 
            cy=(y+1)*s2-My;   
           
            while(i<l){
                h=g[i]; 
                p=h[0]; 
                v=b[p];
                f=v[3]||0;
                
                  if(k>3){
                      ox=cx+h[1];  
                      if(m===1)p+=d[2]?d[7]:0;
                  }else{
                        
                        
                        
                        
                  };   
                   oy=cy+f*s2+h[2]-v[2]; 
                   
                  z[i]=[f,q,p,ox,oy,v[1],v[2]] 
               i++;
            };    
          return z;
    };
    
    
    
    MapBrush.prototype.layData=function(arr){  
       var i=0,a=arr,l=a.length,d,c,o=[],b,c,y;
           while(i<21){ 
                y=0;
                while(y<l){
                    c=a[y];
                    o=o.concat(c[i].splice(0));
                   y++;
                };
             i++;
           };
           return o;
    };
    
    
    MapBrush.prototype.jzCdData=function(o,x,y,hArr,ph,jz,j){
       var t=this, dx=x, dy=y+o[9] ,arr=o[10],i=0,l=arr.length,d,df,dc,w,h,hx,hy,cArr=[],crr,dd,u;
       if(arr===u)return;
       l=arr.length;
       while(i<l){
          d=arr[i]; 
          df=d[2]; 
          if(df[0]===1){ 
           i++;  continue;
          };
          dc=df[5];
          w=dc[0],h=dc[1]; 
          hx=dx+d[0],hy=dy-dc[8]-dc[9]+d[1]; 
           crr=[df[2],df[6],hx,hy,w,h, ph+d[3]]; 
           if(df===jz){ 
               drwO=[hx-1,hy-1,w+2,h+2]; 
           };
           d=dc[10];
           if(dc[4]===2){ 
              crr[7]=[]; 
              t.jzClData( d,hx,hy+h,df[2],df[6],crr[7],jz ); 
           };
           hArr.push(crr);
           dd=df[3];
           if(dd!==0){
               
               t.dtDh(j,dc,df,hx,hy,hArr,crr[5]);
           };
          if(d!==u&&d.length>0){ 
               cArr.push( [dc,hx,hy,d[3]] ); 
          };
         i++;
       };
       
       i=0,l=cArr.length;
       while(i<l){
           d=cArr[i];
           t.jzCdData(d[0],d[1],d[2],hArr,d[3],jz,j);
         i++;  
       }; 
    };
    
    
    MapBrush.prototype.jzClData=function(o,x,y,id,n,crr,jz){ 
         
       
       var a=allClJz[id][n],d=a[0],l=d.length,i=0,b,arr=[] ,c,e,g,j,z,jh,h,img,yy,u;
         
       
          img=d[0][6],yy=d[0][7]; 
       
        i=0 , c=0;
        if(o!==u)c=o.length;
        while(i<c){
             b=o[i];
             if(b[2][0]===1){
                e=b[2],j=e[1],g=e[5];
                z=(j[0]+1)*(j[1]+1)-1;
               if(arr[z]===u)arr[z]=[];
               h=g[1];
               jh=g[8];
               arr[z].push([e[2],e[6], x+b[0],y-b[1],g[0],h,jh ]);
               if(b[2]===jz){
                   drwO=[x+b[0]-1,y-b[1]-1,g[0]+2,h+2]; 
               };
             };
           i++;
       };
       
       i=0;
        while(i<l){
           b=d[i]; 
               crr.push( [8201,img,x+b[0],y-b[1],b[2],b[3]] ); 
           e=arr[i];
           if(e!==u){ 
               e.sort(function(a,b){
                   return a[6]-b[6]; 
               });
               c=e.length,z=0;
               while(z<c){
                   g=e[z];
                       crr.push( [g[0],g[1],g[2],g[3],g[4],g[5] ] );
                   z++;
               };
           };
           i++;
        };
        
        i=0;
        while(i<l){
           b=d[i]; 
               crr.push( [8200, yy,x+b[0],y-b[1],b[2],b[4]] );
           i++;
        };
       
    };
    
    
    MapBrush.prototype.jzDraw=function(arr,lay,f){
       var i=0,l=arr.length,d,o,s,e,c;
           if(l===0)return;
           if(f===1){ 
               arr.sort(function(a,b){ 
                   return a[6]-b[6];
               });
           };
           while(i<l){
               d=arr[i]; 
               o=d[7]; 
               
               if(o!==undefined){
                  s=0,e=o.length;
                  while(s<e){
                     c=o[s];
                     lay.push(c[0],c[1],c[2],c[3],c[4],c[5]  );
                    s++;
                  };
               }; 
               lay.push(d[0],d[1],d[2],d[3],d[4],d[5]);
             i++;
           };
    
    };
    
    
    MapBrush.prototype.tqData=function(d,a,x,y,n){
       var f=d[3],x2=d[0],y2=d[1],f2=0,h,v=5,m=30;  
       
       
               
             
           
           
           if(f===1){
                  x2=(Math.random()*40)<<0; 
                  y2=(Math.random()*20)<<0; 
                  d[0]=x2 , d[1]=y2;
               
                  d[2]=0;  
                  d[3]=0; 
                  d[4]=120;
                  
                   d[5]=((Math.random()*100)<<0)<gYs?0:1;
                   if(d[5]===1){
                       d[4]+=x&1?25:15; 
                   }
                  
           }else{
                 
                       if(d[2]<m&&d[4]>=120){
                           d[2]+=v; 
                       }else{
                           
                               if(d[4]>m){ 
                                   d[4]-=v;
                               }else{ 
                                   f2=1; 
                                   d[4]-=v;
                                   d[2]-=v;
                                   if(d[4]<v){ 
                                       d[3]=1; 
                                   };  
                               };
                       };
                       if(d[5]===1)return; 
                       h=y-y2-d[4]; 
                       if(h+d[2]+y>0)a.push(8300,1,x+x2, h , 1,d[2]);  
                       
                       if(f2===1)a.push(8300,0,x+x2-5,y-y2-6,10,6); 
             
           };
    };
    
    
    MapBrush.prototype.dtDhInit=function(){
     
       var t=this,z,p,a,b,c,d,e,f,i,k,l,m,q,u;
                     
               
               t.zDFj=function(z,o,g){
                                   
                   if(z[0][0]===u){ 
                       m=[z];   
                   }else{
                       m=z; 
                   };
                   i=0;l=m.length;
                   while(i<l){
                       z=m[i]; 
                       if(z[2]===u)z[2]=0;    
                       if(z[3]===u)z[3]=o[0]; 
                       if(z[4]===u)z[4]=o[1]; 
                       i++;
                   };
                   g[6]=m; 
               }; 
               
               t.dtDh=function(j,o,g,x,y,h,Z){
                              
                 
                   d=g[3];  
                   a=d[1];  
                   if(j-d[0]>a){ 
                           d[0]=j;
                           b=d[3];
                           c=d[2];
                           e=d[5];
                           l=e.length; 
                           if(b===0){
                                   c++;
                                   if(c===l)c=0;
                                   d[2]=c;
                                   f=e[c]; 
                                   t.zDFj(f,o,d);
       
                           }else if(b===1){
       
                           }else if(b===2){
       
                           };
       
                   };
                   t.dtSc(h,d[4],x,y,d[6],Z);
              };
              
               t.dtSc=function(h,n,x,y,d,Z){
                       i=0,l=d.length;
                       while(i<l){
                           z=d[i];
                           if(Z===u){ 
                               h.push(n,z[2],x+z[0],y+z[1],z[3],z[4]);
                           }else{
                               h.push([n,z[2],x+z[0],y+z[1],z[3],z[4],Z]);
                           };
                       i++;
                       };   
               };
    };
    
    
    MapBrush.prototype.fl_init=function(){
       var t=this,n=3,m=0,a,b,c,d,s,e,f,g,u;
            
            f=[0,400,300,200,100,50]; 
           
           t.xgFl=function(fl,mx){ 
               n=fl===u?n:fl; 
               m=mx||0;
           };
           
           t.flJs=function(d,j){ 
               if(n===0)return 5;
               
                 a=d[0]; 
                 b=d[1]; 
                 
                 
                 c=n-b;  
                 if(c<1){
                     c=1; 
                     a=1; 
                 }else if(c>5){ 
                     
                     c=5; 
                 };
                 if(j-d[5]>f[c]+d[4]){
                      d[5]=j;
                         
                         e=5+(m===1?c:-c);
                         s=e+(m===1?-a:a); 
                         if(m===1&&s<4){ 
                               s=4; 
                         }else if(m===0&&s>6){
                               s=6;
                         }; 
                         if(e<s){ 
                             g=e;
                             e=s;
                             s=g;
                         };
                         g=d[3];
                         if(g===0){
                             d[2]--;
                             if(d[2]<s){ 
                                 d[2]=s+1;
                                 d[3]=1;
                             };
                         }else{
                             d[2]++;
                             if(d[2]>e){ 
                                 d[2]=e-1;
                                 d[3]=0;
                             };
                         };
                        
                         
                };
                return d[2]; 
           };  
           
     
     };
    
    
    MapBrush.prototype.xunLuM=function(){
       var t=this,w=t.mw,h=t.mh,y=0,b,c,d,f,x,i,o=pzType;
           
       
           
           
    
           while(y<h){
                   x=0;
                   d=o[y];
                   f=0;
                   i=0;
                   c=-1;
                   while(x<w){
                       if(!d)debugger;
                        b=d[x];
                        if(b===2){
                            if(f!==1){
                              if(i===0)xMap[y]=[];
                              xMap[y][i]=[x];
                              c=x;
                              
                              i++; 
                            };
                            if(f===1&&x===w-1){
                               xMap[y][i-1].push(x);
                            };
                            f=1;
                        }else{
                            if(f===1&&x-1>c){
                               xMap[y][i-1].push(x-1);
                            };
                            f=0;
                        };
                     x++;
                   }; 
              y++;
           };   
    
            x=0;
            while(x<w){
                   y=0;
                  
                   f=0;
                   i=0;
                   c=-1;
                   while(y<h){
                        b=o[y][x];
                      
                        if(b===2){
                            if(f!==1){
                              if(i===0)yMap[x]=[];
                              yMap[x][i]=[y];
                              c=y;
                              i++; 
                            };
                            if(f===1&&y===h-1){
                               
                               yMap[x][i-1].push(y);
                            };
                            f=1;
                        }else{
                            if(f===1&&y-1>c){
                               yMap[x][i-1].push(y-1);
                            };
                            f=0;
                        };
                     y++;
                   }; 
              x++;
           };    
    
    };
    
    
    MapBrush.prototype.getTqMap=function(){
    var t=this,w=t.mw,h=t.mh,x,y=0,m,d,a,b,o,c,f;
           
           
           
       
       while(y<h){
            x=0;
            o=pzMap[y];
            m=tqMap[y];
            while(x<w){
               d=o[x];
               d=pzNoLb[d]; 
               if(d.id>999&&d.type===2){ 
                   m[x]=0; 
               }else{
                   m[x]=1; 
               };
               x++;
            };
         y++;
       };
       
       w=t.ww,h=t.wh2,y=0,f=1,a=0,b=120;
       while(y<h){
           x=0;
           tqOut[y]=[];
           d=tqOut[y];
           while(x<w){ 
               d[x]=[0,0,a,0,((b+(x&1?15:25))*Math.random())<<0,((Math.random()*100)<<0)<gYs?0:1];
                              
              x++;
           };
          y++; 
       };
       
    };
    
    
    MapBrush.prototype.plant=new Plant();
    
    
    
    
    
    
       mapBrush=new MapBrush(); 
       mapBrush.plant.hb=mapBrush; 
    
    
    
    
    })();
    
    var gWl, gDw; 
    (function(){
    
    var gDwPz={ 
        
         6060:[5,6060,[3,10,5],[2,10,5],[10,10,20,250],0,50],      
                                         
                                         
                                         
                                         
         
         
    };
    
    
    
     gWl=[[],[],[[0,0],[0,0]]];
       
        
    
    var WlDw=function(){
        var t=this;
            t.pz={}; 
            t.qy=[[[32,32],[35,38],[]] , [[58,56],[49,56],[]]]
            t.dw=[];
            t.dhInit();   
            t.hgInit();   
            t.F=0; 
          
          
    };
    
    
    WlDw.prototype.qdSj=function(d){
        var t=this,u;
            if(d!==u){
                gWl=d;
                t.dw.length=0; 
                if(t.F===1){
                    t.init(); 
                }else{
                    t.szhDw();
                };
            };
            
    };
    
    
    WlDw.prototype.init=function(){
        var t=this,z=[], o=gWl,d=o[2],l=2,xy,x,y,i,a,b,c,e,f,g;
            
            
            while(l--){ 
                   a=o[l];
                   i=a.length; 
                   while(i--){
                       
                        xy=t.getSj(l);
                        x=xy[0], y=xy[1];     
                        b=a[i]; 
                        c=b[0]; 
                        e=new Npc_Npc([[x,y],null,c] );
                        e.dw=b;  
                        e.dwN=l; 
                        z.push(e);
                   }; 
            }; 
            t.dw=z;
            
            l=2;
            while(l--){
                f=l*2;
                a=2;
                b=d[l]; 
                while(a--){
                    g=(b[a]/500*28)<<0;
                    t.jdXg(f+a,g);
                };
            };
    };
    
    
    WlDw.prototype.getSj=function(l){  
        
     var x,y,x1,x2,x2,y1,y2;  
            if(l===1){
                x1=49,x2=8,y1=43,y2=14; 
            }else{
                x1=35,x2=7,y1=23,y2=16;
            };
                x=x1+(Math.random()*x2)<<0;
                y=y1+(Math.random()*y2)<<0;  
            return [x,y];
    
    };
    
    
    WlDw.prototype.sjBg=function(n,df){ 
           if(n>6&&n<12)return;  
       var t=this ,d=t.dw,g=gDwPz,l=d.length,f=df,m=t.F,q=1,o , a,b,c,e,h,i,j,k;
            
            
           
           
           if(n===6)q=0; 
           while(l--){
                o=d[l]; 
                a=o.dw;
                b=o.dwN;
    
                c=g[a[0]];
                e=a[4]
                
                if(f===1){ 
                     
                      
                      a[5]++; 
                      if(a[5]>c[6]){ 
                        
                           if(m===1)o.swCz();
                           gWl[b].splice(l,1); 
                           d.splice(l,1);
                           gCz.push([5,0,17]); 
                           continue;
                      };
                      
                      h=c[4]; 
                      if(a[1]>-1&&a[2]>-1){ 
                           a[3]+=h[0];
                           if(a[3]>h[3])a[3]=h[3]; 
                      }else{
                           a[3]-=h[1];
                           if(a[3]<1){
                            
                            if(m===1)o.swCz();
                                gWl[b].splice(l,1); 
                                d.splice(l,1);
                                gCz.push([5,0,16]); 
                              continue;  
                           };
                      };
                      
                      if(e!==-1){
                            e++;
                            h=c[5]; 
                            if(e===h[0]&&a[3]>=h[1]){ 
                                    e=0;
                                    
                            };
                            a[4]=e; 
                      };  
                    
                };
                
                
                if(q===1){ 
                    a[1]-=c[2][0]; 
                    a[2]-=c[3][0]; 
                    
                };
                i=0;
                if(a[2]<1){ 
                    i+=2;
                    if(m===1){
                        j=o.getZt(0,0); 
                        if(j<0)o.tjZt(0,0);
                    };
                }; 
                if(a[1]<1){
                    i+=1;
                    if(m===1){
                        j=o.getZt(0,1); 
                        if(j<0)o.tjZt(0,1);
                    };
                };
                if(i>0){
                     
                    
                    if(m===1){
                        o.dwC=i; 
                        if(i>2){
                           i=(Math.random()*2)<<0; 
                        
                        };
                       t.jsMl(o,a,i,c,b);
                    }else{
                        i--; 
                        if(i>1){
                           i--; 
                           t.jsSj([o,a,i,c,b]);
                           i--; 
                        };
                        t.jsSj([o,a,i,c,b])
                    };
                };
                
           };
    
    
    };
    
    
    WlDw.prototype.jsMl=function(a,b,c,d,e){
        var g=this.qy[e];;
            
             a.dwD=[a,b,c,d,e]; 
             a.tyActCl(4,g[c]); 
    };
    
    
    WlDw.prototype.jsSj=function(f){
        var t=this,q=t.F, a,b,c,d,e,g=gWl[2],h,i,j,k,l,m,n,u;
             a=f[0], b=f[1],c=f[2],d=f[3],e=f[4];
             if(q===1)a.dwD=u; 
             
             
             
             
             
             
             
             g=g[e];
             j=g[c]; 
             if(j<1){
                 if(q===1){
                     a.dwC-=c+1;
                     l=a.dwC;
                     if(l>0){ 
                        
                         t.jsMl(a,b,l===1?0:1,d,e);     
                     };    
                 };
                 return; 
             };    
             h=d[c+2];
             i=h[1]-b[c+1];
             k=j-i; 
             if(k<1){
                k=0;
                g[c]=k;
                b[c+1]+=j; 
                
                gCz.push([5,0,c===1?14:15]); 
             }else{
                g[c]=k;
                b[c+1]=h[1]; 
             };
             if(q===1){
                    a.dwC-=c+1;
                    l=a.dwC;
                    if(l>0)t.jsMl(a,b,l===1?0:1,d,e);  
                       
                    if(b[c+1]>0){
                       a.tjZt(0,c===1?0:1);
                    };
             };
             n=2*e+c; 
             m=(k/500*28)<<0;
             t.jdXg(n,m); 
    };
    
    
    WlDw.prototype.dhInit=function(){
        var t=this,a,b,c=[0,0,0,0],d,e,f,g,h,i=0,k,l,r;
          
            
            
            
            t.jdXg=function(n,z){ 
                  c[n]=z;
            };
            
            t.tlCz=function(n,x,y,m){  
                  if(t.F===0){
                      gCz.push([5,0,12]); 
                      return;
                  };   
                    d=-1;     
                    x+=m===1?1:-1; 
                    if(n===0){
                        if(x===31&&y>29&&y<33)d=0; 
                        if(x===59&&y>53&&y<57)d=2; 
                    }else{
                        if(x===34&&y===38)d=1; 
                        if(x===48&&y===56)d=3; 
                    };
                    if(d<0){
                        gCz.push([5,0,12]); 
                        return; 
                    };  
                    gYp.push([n>0?9:10,1,0]); 
                    
                    e=n?[2,3]:[4,5];  
                    k=n?[30,26,0,-42]:[30,18,5,-24]; 
                    h=e[0] ;
                    f=1;
                    g=0;
                    
            };
            
            t.tlDh=function(j,x,y,lay){
                   if(j-i>60){
                        i=j;
                        g++;
                        h=e[g&1]; 
                        if(g===25){
                            c[d]=28;
                            gWl[2][d>1?1:0][d&1]=500;  
                            f=0; 
                            
                        };   
                   };
                   lay.push(8622,h,x+k[2],y+k[3],k[0],k[1]); 
            };
            
            t.dwDh=function(y,y2,x,x2,j,lay,mx,my,dl){ 
                if(t.F===0)return; 
                 t.hgJs(j);
                 
                 if(y===32&&(31>x-1&&31<x2+1)){
                        a=(31-x)*40-mx; 
                        b=(y2+1)*20-my; 
                        l=dl[31]; 
                        r=lay[l*3+2]; 
                        r.push(8622,0,a+5,b-26,30,8);
                        r.push(8622,1,a+6,b-25,c[0],6);
                        if(d===0&&f===1)t.tlDh(j,a,b,r);
                 };
                 if(y===38&&(34>x-1&&34<x2+1)){
                        a=(34-x)*40-mx; 
                        b=(y2+1)*20-my; 
                        l=dl[34];
                        r=lay[l*3+2];
                        r.push(8622,0,a-4,b-39,30,8);
                        r.push(8622,1,a-3,b-38,c[1],6);
                        if(d===1&&f===1)t.tlDh(j,a,b,r);
                 };
                 
                 if(y===56){
                     if(59>x-1&&59<x2+1){ 
                            a=(59-x)*40-mx; 
                            b=(y2+1)*20-my;
                            l=dl[59];
                            r=lay[l*3+2]; 
                            r.push(8622,0,a+5,b-26,30,8);
                            r.push(8622,1,a+6,b-25,c[2],6);
                            if(d===2&&f===1)t.tlDh(j,a,b,r);
                     };
                     if(48>x-1&&48<x2+1){
                            a=(48-x)*40-mx; 
                            b=(y2+1)*20-my;
                            l=dl[48];
                            r=lay[l*3+2];  
                            r.push(8622,0,a-4,b-39,30,8);
                            r.push(8622,1,a-3,b-38,c[3],6);
                            if(d===3&&f===1)t.tlDh(j,a,b,r);
                     };
                 };
            };
    
    };
    
    
    WlDw.prototype.hgInit=function(){ 
        var t=this,a,b,c=[],d=[],o,e,f,g,h,i=0,n=0,l,xc,x2,y2;
            
            
            
            
            t.hgDw=function(x,y,m){
                if(t.F===0)return; 
                o=t.dw,l=o.length;
                 xc=x+(m===1?1:-1);
                 
                while(l--){
                    e=-1;
                    a=o[l]; 
                    b=a.xy;
                    x2=b[0],y2=b[1];
                    if(x2===x){
                         if(y2===y){
                             e=m;
                         }else if(y2===y-1){
                             e=2;
                         }else if(y2===y+1){
                             e=3;
                         };    
                    }else if(x2===xc&&y2===y){
                             e=m;  
                    };
                    if(e>-1){
                        f=1; 
                        h=c.indexOf(a);
                        if(h<0){
                            n++;
                            c.push(a);
                            d.push(i);
                            a.tjZt(0,2);
                            a.free_cz();
                            a.xwN=0; 
                            a.tyActCl(0,e);
                        };   
                    };
                };
            }; 
            
            t.hgJs=function(j){
                 i=j
                 if(f===1){
                      l=n;
                       while(l--){
                            a=d[l];
                            if(j-a>2000){
                                 a=c[l];
                                 a.tjZt(0,2); 
                                 d.splice(l,1);
                                 c.splice(l,1);
                                 n--;
                                 if(n===0)f=0; 
                            };
                       };
                 };
            };
    
    };
    
    
    WlDw.prototype.mapQh=function(id){
       var t=this;
           if(id===9){
               t.F=1; 
               t.init();
           }else{ 
               t.F=0; 
               t.dw.length=0; 
               t.szhDw();
           };
    };
    
    
    WlDw.prototype.szhDw=function(){
        var t=this,d=t.dw,g=gWl,l=2,o,c,i;
            while(l--){
                o=g[l];
                i=o.length;
                while(i--){
                    c=o[i]; 
                    d.push({dw:c,dwN:l} );  
                };
            };
    };
    
    
    WlDw.prototype.zbDw=function(x,y){ 
     var t=this,a,b,c,d,e,f=1,g,h,i,j,k,l,m,n,u;
               
        if(t.F===0){
            a=t.dw2; 
            if(a===u){
               a=All;
            }else{
               g=1; 
            };
            f=0;  
        }else{
            a=t.dw; 
        };
          l=a.length;
          while(l--){
              b=a[l]; 
              if(b.type!==5)continue; 
              m=b.xy;
              if(x===m[0]&&y===m[1]){
                if(f===1){
                    n=b.dwN; 
                    c=b.dw;
                    gWl[n].splice(l,1); 
                    a.splice(l,1);      
                }else{
                    e=b.id;
                    d=gDwPz[e]; 
                    if(d===u)continue;
                    c=[e,d[2][2],d[3][2],d[4][2],-1,0]; 
                };
                 b.delete();        
                 sqTy.add({t:5,id:c[0],a:c});
                 gYp.push([11,1,0]); 
                 if(g===1){
                     a.splice(l,1); 
                     if(a.length===0){
                        t.dwF();
                        t.dw2=u,t.dwF=u;
                     };
                 };
                 return; 
              };
          };
          gCz.push([5,0,13]); 
    };
    
    
    WlDw.prototype.frDw=function(a,x,y){
       var t=this,b,c,d,e,f,g,h,i,j,k,l,m,n;
            b=t.qyPd(x,y);
            if(b===2){
                sqTy.add(a); 
                gCz.push([5,0,11]); 
                return;
            };
            a=a.a; 
            gWl[b].push(a); 
            c=new Npc_Npc([[x,y],null,a[0]] );
            c.dw=a;  
            c.dwN=b; 
            t.dw.push(c);
            gYp.push([12,1,0]); 
    };
    
    
    WlDw.prototype.qyPd=function(x,y){
        
         if(x>33&&x<40&&y>22&&y<39)return 0; 
         if(x>47&&x<57&&y>42&&y<57)return 1; 
         return 2;
    };
    
    
    WlDw.prototype.dlWp=function(){
         
    };
    
    gDw=new WlDw(); 
    
    })();
    
    var gIdJb, gMapCfg, gMapF;
    (function(){
    
     gIdJb={
        6200:{
             
             a:[[30,10,0],5,5,5,5,600],   
                                        
             
             
             0:{
               0:1, 
               1:[ [-1,3,[33,51]],[-1,4,[1,[0,0,0]]],[-1,3,[44,51]],[-1,4,[1,[0,1,0] ]]  ],
               
               3:{
                  
               },
             },   
            
             1:{
    
             }
        },
    };
    
    gMapCfg={
        
          0:{ 
            
               0:[
                  [13,10,0],  
                  [10,30,0],  
               ],
               1:[
               ],
               
               2:[-1,1,0],
               
               3:{
                 0:[100,1,50], 
                 1:[
                     
                     
                     
                 ],
               },
               4:{
                  0:[
                     
                     [3,9,10,31,31,-1,-1,[9,0,19]],
                  ]
               } 
    
          },
        
         9:{
            
            0:[
               
               [51,32,0], 
               [64,37,0], 
               [26,4,0],  
            ],
            1:[
               
               [49,51,33,33,[9,0]],
               [50,50,32,34,[9,0]],
            ],
            2:[0,0,0],
            3:{
             0:[100,1,100], 
             1:[
                 [1,[1,1],[50,1]],  
                 [2,[2,8,1,1],[60,1]],  
               
             ],
           },  
           4:{
              0:[
                 
                 [2,65,69,0,11,-1,-1,4],
                 [2,0,4,82,99,-1,-1,4],  
                 [2,5,6,88,99,-1,-1,4],  
    
                 
                 [0,61,69,35,38,-1,-1], 
                 
                 
                 
                 [1,10,10,3,11,-1,-1],
                 [1,4,4,15,23,-1,-1],
                 
                  [1,0,4,85,99-1,-1],
                  [1,5,6,91,99-1,-1],
                 
                  [1,65,69,0,11,-1,-1], 
                 
                 [3,51,51,31,31,-1,-1,[0,1,19]], 
                 [3,65,65,35,38,-1,-1,[11,0,-1]],
                 [3,25,26,2,2,-1,-1,[13,0,-1]],  
              
    
              ],
              
           },
           
            5:{ 
                0:{ 
                   0:{
                     a:[6200],  
                    
                     0:[0,[ [33,44,42,57,5] ] ,-1,1,0],      
                   },
                   1:{
    
                   },  
                },
               
                     
               
            }
         },
         
         10:{
            0:[
               
               
    
               [13,94,0],
               [34,77,0],
               [33,31,0],
               [19,75,1],
               [20,2,1,4],
            ],
            1:[
    
            ],
            2:[0,0,0],
            3:{
               0:[100,1,100], 
               1:[
                   [1,[1,1],[50,1]],  
               ],
            },
            4:{  
               0:[
                   
                   
                   [1,25,39,16,23,-1,-1],
                   
                  
                   [2,0,4,0,9,-1,-1,5],  
                   [2,0,3,12,95,-1,-1,4], 
    
                   
                   [2,5,46,0,11,-1,-1,4],  
                   
                   
                   [2,43,47,12,25,-1,-1,4],  
                   [2,44,47,26,31,-1,-1,4],  
                   [2,43,47,32,79,-1,-1,4],  
                   
                   [2,47,47,26,51,-1,-1,5],  
                   [2,47,47,0,17,-1,-1,5],  
                   
                   
                   [2,19,37,92,95,-1,-1,4],  
                   [2,38,45,94,95,-1,-1,4],  
                   
                   [2,25,39,16,23,-1,-1,4], 
    
                   [2,30,38,36,69,-1,-1,4], 
                     
                     
                   [2,14,19,63,67,-1,-1,4], 
                   [2,9,13,49,51,-1,-1,4], 
                   [2,17,21,49,51,-1,-1,4], 
                   [2,8,11,37,39,-1,-1,4], 
                   [2,14,17,35,37,-1,-1,4], 
                   [2,13,16,25,27,-1,-1,4], 
                   [2,7,11,19,23,-1,-1,4], 
                   [2,15,18,15,17,-1,-1,4], 
                   [2,26,33,1,5,-1,-1,5], 
                   
                   [0,30,38,36,63,-1,-1], 
                   
                   [0,14,19,62,65,-1,-1], 
                   [0,9,13,48,51,-1,-1], 
                   [0,17,21,48,51,-1,-1], 
                   [0,8,11,36,39,-1,-1], 
                   [0,14,17,34,37,-1,-1], 
                   [0,13,16,24,27,-1,-1], 
                   [0,7,11,20,21,-1,-1], 
    
                   
                   [0,41,42,30,33,-1,-1],
                   
                   [1,47,47,28,51,-1,-1],
                   [1,47,47,0,17,-1,-1,],
                   [1,0,3,12,95,-1,-1], 
                   [1,19,37,94,95,-1,-1], 
    
                   
                   [3,43,43,25,25,-1,-1,[4]], 
                   [3,20,21,11,11,-1,-1,[4]], 
    
                   
                   [3,43,43,26,29,-1,-1,[3,4,1,1]], 
                   [3,20,21,12,15,-1,-1,[3,4,1,1]], 
    
                   
                   [3,19,19,74,74,-1,-1,[41,0,19]],  
                   [3,32,33,30,30,-1,-1,[110,0,21]],  
                   [3,34,34,76,76,-1,-1,[100,0,19]],  
                   [3,20,21,1,1,-1,-1,[12,0,-1]],    
                   [3,12,13,95,95,-1,-1,[11,2,-1]],   
    
                   
                   [3,13,13,58,58,-1,-1,[-1,-1,[0,[40,22]]]],
                   [3,21,21,58,58,-1,-1,[-1,-1,[0,[40,22]]]],
                   [3,11,11,46,46,-1,-1,[-1,-1,[0,[40,22]]]],  
                   [3,17,17,44,44,-1,-1,[-1,-1,[0,[40,22]]]],  
                   [3,16,16,34,34,-1,-1,[-1,-1,[0,[40,22]]]],  
                   [3,11,11,30,30,-1,-1,[-1,-1,[0,[40,22]]]],  
                   [3,18,18,24,24,-1,-1,[-1,-1,[0,[40,22]]]], 
                   [3,29,29,12,12,-1,-1,[-1,-1,[0,[40,22]]]], 
               ],
               1:{
                  3:[
                     
                     [0,43,43,31,33,-1,-1],
                     [1,43,43,34,34,-1,-1],
                     [1,44,44,32,33,-1,-1],
    
                  ],
                  4:[
                     
                     [0,43,44,32,34,-1,-1],
                     [1,43,43,31,31,-1,-1],
                  ],
               }
            } 
         },
         11:{
            0:[
               
               [2,36,1],  
               [16,25,0], 
               [36,5,0], 
            ],
            1:[
            ],
            2:[0,0,0], 
            3:{
               0:[100,1,100], 
               1:[
                  [1,[1,1],[50,1]],  
                  [2,[2,8,1,1],[60,1]],  
                  
               ],
            },
            4:{
               0:[
                  
                  [0,0,1,35,36,-1,-1], 
                  
                  [3,1,1,34,37,-1,-1,[9,1,0]],
                  [3,15,16,24,24,-1,-1,[40,0,19]], 
                  [3,35,36,3,3,-1,-1,[10,0,-1]], 
               ]
            }
         },
         12:{
            0:[
               
               [10,44,0,3], 
               [2,35,1,3], 
               
            ],
            1:[],
            2:[0,0,0], 
            3:{
               0:[100,1,100], 
               1:[
                  [1,[1,1],[50,1]],  
                  
                  
               ],
            },
            4:{
               0:[
                  
                  
                  [2,7,15,0,18,-1,-1,4],   
                  [2,16,19,0,47,-1,-1,4],   
                  [2,11,15,40,47,-1,-1,4],  
                  
                  [2,0,4,0,26,-1,-1,4],   
                  [2,0,8,36,47,-1,-1,4],  
    
                  
                  
                  [1,0,8,39,47,-1,-1], 
                  [1,0,4,0,21,-1,-1], 
                  
                  [1,7,7,0,12,-1,-1], 
                  [1,16,16,24,47,-1,-1],
                  [1,11,15,43,47,-1,-1],
    
                  
                  
                  [3,9,10,45,47,-1,-1,[10,4,-1]],
                  [3,0,1,32,38,-1,-1,[14,0,-1]], 
               ]
            }
         },
         13:{
            0:[
               [7,78,0,3],  
               [30,37,0,3],
            ],
            1:[
            ],
            2:[0,0,0],
            3:{
               0:[100,1,100], 
               1:[
                   [1,[1,1],[50,1]],  
                   [2,[2,8,1,1],[60,1]],  
                  
               ],
             },
             4:{
                 0:[
                    
                    [2,6,7,70,79,-1,-1,2],  
                    [2,0,5,66,79,-1,-1,4],  
                    [2,12,21,70,79,-1,-1,4],  
                    [2,22,26,64,79,-1,-1,4],
                    [2,27,31,60,79,-1,-1,4],
                    
                    [3,6,7,70,79,-1,-1,[2]],   
                    
                    [3,6,7,70,76,-1,-1,[2,3,1,1]], 
                    
                    [1,0,5,70,79,-1,-1], 
                    [1,12,21,74,79,-1,-1],  
                    [1,22,26,68,79,-1,-1],
                    [1,27,31,64,79,-1,-1],
                    
                    [0,11,12,36,38,-1,-1],
                    
                    [3,6,7,79,79,-1,-1,[9,2,-1]], 
                    [3,31,31,26,45,-1,-1,[14,1,-1]], 
                 ],
             } 
         },
         14:{
            0:[
               
               [22,36,0,3], 
               [1,26,1,3], 
               [12,17,0,3],
               
            ],
            2:[0,0,0], 
            3:{
               0:[100,1,100], 
               1:[
                  [1,[1,1],[50,1]],  
                  [2,[2,8,1,1],[60,1]],  
                  
               ],
            },
            4:{
               0:[
                  
                  [2,0,3,0,7,-1,-1,4], 
                  [2,16,23,36,47,-1,-1,4], 
                  [2,7,7,0,11,-1,-1,4], 
                  [2,19,20,42,47,-1,-1,3], 
    
                  
                  [1,16,23,38,47,-1,-1], 
                  [1,0,3,0,3,-1,-1], 
                  [1,7,8,0,7,-1,-1], 
                 
                 [3,23,23,34,37,-1,-1,[12,1,-1]], 
                 [3,0,0,12,35,-1,-1,[13,1,-1]],   
                  [3,11,13,16,16,-1,-1,[300,0,-1]], 
               ]
            }  
         },
         300:{
            0:[
               
               [5,57,1,3], 
               [21,24,0,3], 
    
            ],
            1:[],
            2:[2,1,0], 
            3:{
              0:[100,1,100], 
              1:[
               
              ],
            },
            4:{
               0:[
                  
                  [0,8,20,44,46,-1,-1],
                  [0,21,26,50,52,-1,-1],
                  
                  
                  
    
                  
                  [3,4,6,58,59,-1,-1,[14,2,-1]], 
                  [3,20,22,20,23,-1,-1,[301,0,-1]], 
               ],
            } 
         },
         301:{
            0:[
               
               [19,56,0,3], 
            ],
            1:[],
            2:[2,1,0], 
            3:{
              0:[100,1,100], 
            },
            4:{
               0:[
                  
                  [0,6,14,12,14,-1,-1],
                  [0,3,14,28,30,-1,-1],
                  [0,15,16,36,38,-1,-1],
                  [0,22,24,36,38,-1,-1],
                  [0,25,39,12,14,-1,-1],
    
                  
                  [3,17,21,57,59,-1,-1,[300,1,-1]], 
               ],
            } 
         },
         302:{
            0:[
               [6,16,0], 
            ],
            1:[],
            2:[1,1,0], 
            3:{
              0:[100,1,100], 
            },
            4:{
               0:[
                  
                  
               ],
            } 
         },
         
         
         40:{ 
            0:[
               [6,16,0], 
            ],
            1:[
            ],
            2:[2,1,0], 
            3:{
             0:[100,1,100], 
            },
            4:{
               0:[
                  
                  [3,5,6,17,17,-1,-1,[11,1,19]], 
               ],
            }     
         },
         41:{
            
               0:[
                  
                  [26,45,0],  
               ],
               
               
               
               2:[-1,1,0],
               
               3:{
                 0:[100,1,50], 
                 1:[
                     
                     
                     
                 ],
               },
               4:{
                  0:[
                      
    
                     
                     
                     [1,0,0,2,47,-1,-1], 
                     [1,29,29,2,47,-1,-1],
                     [1,0,24,46,47,-1,-1],
                     [1,27,29,46,47,-1,-1],
                     [1,13,13,8,21,-1,-1],
                     [1,7,7,24,31,-1,-1],
    
                     
                     [0,1,12,16,21,-1,-1],
    
                     
                       
                     [3,12,12,24,24,-1,-1,[12,20,3,20,-1]],
                     [3,12,12,21,21,-1,-1,[12,25,3,20,-1]],
                     [3,8,8,24,25,-1,-1,[5,25,3,20,-1]],
                     [3,6,6,24,25,-1,-1,[9,25,3,20,-1]],
    
                     
                     [3,25,26,46,46,-1,-1,[10,3,19]],
    
                  ]
               } 
    
          },
         
         100:{
            0:[
               
               [20,57,1], 
               [37,17,0], 
                
            ],
            1:[],    
            2:[-1,1,0],
            3:{
               0:[100,1,100], 
               1:[],
            },
            4:{
               0:[
                   
                   
                   [1,1,18,58,59,-1,-1], 
                   [1,22,38,58,59,-1,-1], 
                   [1,0,0,2,59,-1,-1],
                   [1,39,39,2,59,-1,-1],
    
                   
                   [1,18,18,8,19,-1,-1], 
                   [1,18,18,32,49,-1,-1], 
                   [1,22,22,8,19,-1,-1], 
                   [1,34,34,8,19,-1,-1], 
                   
                   
                   [0,1,17,16,19,-1,-1],
                   [0,23,33,15,19,-1,-1],
                   [0,1,17,46,49,-1,-1],
    
                   
                   [3,15,15,22,22,-1,-1,[15,18,3,19,-1]], 
                   [3,15,15,19,19,-1,-1,[15,23,3,19,-1]], 
                   [3,24,24,22,22,-1,-1,[24,18,3,19,-1]], 
                   [3,24,24,19,19,-1,-1,[24,23,3,19,-1]], 
                   [3,15,15,52,52,-1,-1,[15,48,3,19,-1]], 
                   [3,15,15,49,49,-1,-1,[15,53,3,19,-1]], 
    
                   
                   [3,19,21,58,59,-1,-1,[10,1,19]],  
                   [3,37,38,15,15,-1,-1,[101,0,-1]],  
    
               ]
            } 
         },
         
         101:{
            0:[
               
               [35,17,0], 
            ],
            1:[
            ],
            2:[-1,1,0],
            3:{
               0:[100,1,100], 
               1:[
               ],
            },
            4:{
               0:[
                  
                  [1,0,0,2,59,-1,-1],
                  [1,39,39,2,59,-1,-1],
    
                  
                  [1,31,31,8,21,-1,-1],
                  [1,34,34,8,13,-1,-1],
                  [1,30,30,32,57,-1,-1],
                  [1,21,21,32,57,-1,-1],
                  [1,16,16,32,57,-1,-1],
    
                  
                  [3,32,32,31,31,-1,-1,[32,35,3,19,-1]],
                  [3,32,32,34,34,-1,-1,[32,30,3,19,-1]],
                  [3,28,28,31,31,-1,-1,[28,35,3,19,-1]],
                  [3,28,28,34,34,-1,-1,[28,30,3,19,-1]],
                  [3,17,17,37,38,-1,-1,[14,38,3,19,-1]],
                  [3,17,17,53,54,-1,-1,[14,54,3,19,-1]],
                  [3,15,15,37,38,-1,-1,[18,38,3,19,-1]],
                  [3,15,15,53,54,-1,-1,[18,54,3,19,-1]],
    
                  
                  [3,35,36,16,16,-1,-1,[100,1,-1]],  
               ]
            }  
         },
          
         110:{
            0:[
               [17,33,1], 
                
            ],
            1:[],    
            2:[-1,1,0],
            3:{
               0:[100,1,100], 
               1:[
               ],
            },
            4:{
               0:[
                   
                   [1,24,24,10,10,-1,-1],
                  
                   
                   [1,0,0,0,35,-1,-1],
                   [1,35,35,0,35,-1,-1],
                   [1,1,16,34,35,-1,-1],
                   [1,19,34,34,35,-1,-1],
    
                   
                   [3,17,18,35,35,-1,-1,[10,2,-1]],  
               ]
            }  
         }
    };
    
     gMapF={
         9:{
            0:function(){
                  
                  gCz.push([2,2]);  
            },
         }  
    }
    })();
    
    
    var gSend=function(a,n,d){
        pMsg({a:[a,n,d,gCz.slice(0),gYp.slice(0)]});
        gCz.length=0; 
        gYp.length=0; 
        d=null;
    };
    
    var gSend2=function(){
         
        pMsg({a:[0,0,0,gCz.slice(0),gYp.slice(0)]});
        gCz.length=0; 
        gYp.length=0; 
        
    };
    var Mt=0,Mx=0,My=0; 
    var gL=0; 
    var gQt=-1; 
    var onMsg=function(res){
                      
        var d=res,o=d[0],c=d[1],z=d[5], n,a,N,G=gCzCl,M;
    
            if(o===0){ 
                    Mt=new Date().getTime()-gL; 
                    
                    G.qdCz(z);
    
                    DL.length=0;
                    
                    n=c[0],a=c[1]; 
                    if(G.lock==1){
                        n=-1,a=-1
                    };
                        N=leader;
                        N.free(Mt,n,a,c[2]); 
                    if(G.jt===1){
                        Mx=N.x,My=N.y+mapBrush.my; 
                    }else{
                        G.jdKz();
                    };
                    G.allCz();
                    
                    M=mapBrush;
                    if(M.mF===1){
                        mapBrush.map();
                        mapBrush.solid(); 
                    }else{
                        
                        
                        gSend2();
                    }; 
                    clearDL();
            }else if(o===1){ 
            
            }else if(o===2){
                gL=new Date().getTime(); 
                mapBrush.gTqBg(); 
            }else if(o===3){
                
                
                        if(c===3){ 
                            G.zbGx(d[2]);
                        }else if(c===2){ 
                            
                            G.cjWj(d[2]); 
                        }else if(c===1){
                            G.mapQh(d[2],d[3]); 
                            mapBrush.yxCf();
                            gCz.push([5,1]);
                            if(gQt>-1){
                                gYp.push([gQt,1,0]);
                                gQt=-1; 
                             };
                            gSend2();       
                        }else if(c===4){ 
                             gJq.getJq(d[2]); 
    
                        }else if(c===5){
                                z=d[2];
                                gDw.qdSj(z[0]) 
                                mapBrush.plant.qdSjCsh(z[1]) 
                        }else{
                               G.init(d[2]);
                        };   
            }else if(o===-1){ 
                gSend(1,-1,[]); 
            };
    };
    
    var gCz=[]; 
    var gYp=[]; 
    var drwO;  
    var gTqKg=1;
    var gYs=10;
    
    var gCzCl; 
    
    (function(){
    
    var GOrder=function(){
      var t=this;
          t.jtrr=[];
          t.map=mapBrush;
          t.yDl=DL;
          
          
          t.dZ=0;  
          t.qF=1;  
          
          t.lock=0; 
          t.jt=1;   
          t.jtO;    
          t.jtXz=0; 
          
          t.yxInit();
    };
    
    GOrder.prototype.jdKz=function(){
    var t=this,N=t.jtO;
       N.free(Mt,-1,-1);
       Mx=N.x,My=N.y+mapBrush.my; 
       if(t.jtXz===1){
           t.jtXz=0;
           t.map.rePos(N.xy);
           t.map.zaXg(N.dx);
       }   
    };
    
    GOrder.prototype.jtJd=function(o){  
    var t=this,n=leader, u;
        if(o!==u){
            t.jtO=o;
            n.jt=0;
            t.lock=1; 
            t.jt=0;   
            t.jtXz=1; 
            o.jt=1;   
        }else{
            n.jt=1; 
            t.lock=0; 
            t.jt=1;  
            t.jtO.jt=0; 
            t.jtO=n;    
            t.map.rePos(n.xy);
            t.map.zaXg(n.dx); 
        }
    };
    GOrder.prototype.allCz=function(){
     var a=All,l=a.length,d,u;
            while(l--){
                d=a[l];
                if(d===u)continue; 
                if(d.jt===0)d.free(Mt,-1,-1);  
            };
    };
    
    GOrder.prototype.mapQh=function(d){ 
        var t=this,a=d[2],m=t.map,id=d[3],md,zd,j,z,xy,u;
        
        
       
    
        t.id=id; 
        t.data=d;
        t.mw=a[0];
        t.mh=a[1];
        t.sw=a[2];
        t.sh=a[3];
        m.newMap(d);
        m.initPz(); 
        
          m.plant.id=id;
    
          
          gDw.mapQh(id); 
          md=gMapCfg[id]; 
          t.mapYx(md[3]); 
          t.mapSx(md[2]); 
        
          zd=md[0];       
          t.jhD=md[1]||[];    
          z=t.dZ;        
          xy=zd[z||0];    
        
          if(xy===u){
             xy=zd[0]; 
          };  
         
           t.wjXySx(xy); 
           leader.tjQc();
           j=gJq.jqMap(id); 
    
        
        
    };
    
    GOrder.prototype.wjXySx=function(xy){
        var t=this,N=leader, m=t.map,xy2,y, u;
               if(t.qF===0){
                  t.qF=1;
                  xy=t.qXy;
               };
                N.df=1; 
                N.rePos(xy);
                if(N.jt===1){
                    m.rePos(xy); 
                    m.zaXg(N.dx);
                };
    };
      
    GOrder.prototype.yxInit=function(){
     var t=this,qf=[],a,b=[],c,d,e,f,g,h,i,l,u ,gb,bf;
           
            
            
           t.mapYx=function(yx){ 
               a=yx[1]; 
               t.WJ.yxGx(0,[yx[0]]);
               if(a!==u){
                 t.yxFl();
               }else{
                 l=0;
               }; 
           };
           
           
           t.tjYx=function(p,q,r,s){ 
                r+=1;
                i=0;
                gb=[],bf=[];
                while(i<l){
                    c=b[i];
                    d=c[0];
                    e=c[1];
                    f=c[2]
                      
                      if(d===1&&p===1){
                        g=e[1]
                        
                          if(e[0]===r){
                            g=(s/100*g)+0;
                            g=g.toFixed(2)*1;
                          }else{
                            g=0;
                          };
                          f[1]=g;
                          if(g===0){
                             gb.push(f);
                          }else{
                             bf.push(f);
                          };
                      };
                      
                      if(d>1){ 
                          if(q>=e[0]&&q<=e[1]){
                              if(qf[i]!==1){ 
                                
                                
                                  if(d===2&&e[3]!==r)return;
                                    g=e[2]
                                    qf[i]=1;
                                    f[1]=g;
                                    
                                    bf.push(f);
                              };
                          }else{
                            if(qf[i]===1){ 
                              qf[i]=0;
                              f[1]=0;
                              
                               gb.push(f);
                            };
                          };  
                        
                      };  
                  i++;
                }; 
                gYp=gYp.concat(bf,gb); 
           };
           
           t.yxFl=function(){
                i=0,l=a.length,b=[],qf=[]; 
                  while(i<l){
                       c=a[i];  
                       if(c!==u){
                          d=c[0];
                          if(d===0){
                              gYp.push(c[2]);
                          }else{
                              b.push(c); 
                          };
                       };
                    i++;
                  };
                  l=b.length; 
           };
        
    };
    
    
    GOrder.prototype.mapSx=function(d){
       var t=this,m=t.map,a,b,c;
            
           
             a=d[1];   
             if(a===1){
                gTqKg=0;
             }else{
    
             };
           
           m.cjBg(d);
    };
     
    GOrder.prototype.mapJqJb=function(d,j){ 
       var t=this,a=d[j] ,b,c,i=0,l,u;
           
               if(a!==u){
                    a=a[0];
                    b=a.a;
                    if(b!==u){
                       l=b.length;
                       while(i<l){
                          c=b[i]; 
                          t.cjNpcGw(c,a[i]); 
                          i++;
                       }; 
                    };
               };
    };
       
    GOrder.prototype.cjNpcGw=function(id,d){
    var t=this,o=gIdJb[id],a,b,c,e,f,g,h,m,N;
       
          
           a=d[0]; 
           b=d[1]; 
           c=b.length; 
           h=d[3]; 
           if(a===0){
               
               f=o[d[4]]; 
               
               while(c--){
                   e=b[c];
                   g=e[4];
                   if(e[5]===1)g=(Math.random()*g)<<0; 
                    while(g--){
                       m=t.getSjXy(0,e); 
                       N=new Npc_Npc( [m,null,id ] );
                       N.newJb(f);  
                       
                        
                      
                       m=t.getNewSx(o.a,h);  
                       N.sxXg(0,m);  
                    };
               };
               
           }else if(a===1){
                 
                    f=o[d[4]]; 
                    while(c--){
                        e=b[c];
                        m=e.slice();
                        N=new Npc_Npc( [m,null,id ] );         
                        m=t.getNewSx(o.a,h);
                        N.sxXg(0,m);  
                    };  
           }else if(a===2){
               
                  while(c--){
                        e=b[c];
                        m=[e[0],e[1]];
                        h=e[2]; 
                        f=o[e[3]];
                        N=new Npc_Npc( [m,null,id ] );         
                        m=t.getNewSx(o.a,h);
                        N.sxXg(0,m);  
                  }; 
           }else if(a===3){
               
                    c=(Math.random()*c)<<0;
                    e=b[c];
                    m=e.slice();   
                    N=new Npc_Npc( [m,null,id ] );
                    m=t.getNewSx(o.a,h);
                    N.sxXg(0,m);  
           };
    };
    
    GOrder.prototype.getSjXy=function(t,m){ 
     var a,b,c,x,y;
         if(t===0){ 
              a=m[0];
              b=m[1]-m[0]+1;
              c=(Math.random()*b)<<0;     
              x=a+c; 
              a=m[2];
              b=m[3]-m[2]+1;
              c=(Math.random()*b)<<0;  
              y=a+c; 
              return [x,y];   
         }else if(t===1){
              return (Math.random()*m)<<0;  
         };
    };
      
    GOrder.prototype.getNewSx=function(d,n){ 
        var a=d[0].slice(),b=d.slice(),c,i=1,l=6;
            if(n!==1){
                while(i<l){
                    c=(b[i]*n)<<0;
                    b[i]=c;
                i++;
                };
                a[0]=(a[0]*n)<<0;
                a[1]=(a[1]*n)<<0;  
            };
            b[0]=a; 
            return b;
    };
    
    
    GOrder.prototype.cjWj=function(a){
        var t=this,b=a,c,d,e;
            
            
            c=npcActCfg[b?'npc1':'npc0']; 
            d=allActCfg[7000];   
        
        
            
            d.sw=b?[43,1,200]:[41,1,200];
            d.ss=b?[42,1,0]:[40,1,0];  
            e=d.fps;
            t.fps=e;     
            
            e[0]=c[0];   
            e[1]=c[1];   
            e[2]=c[2];   
            e[3]=c[3];   
            e[4]=c[4];   
            e[5]=c[5];   
            leader=new Npc_Npc( [[0,0],null,7000 ] ); 
            t.jtO=leader;
            t.WJ=leader; 
        
            t.WJ.gjAct=-1 ;  
    };
       
    GOrder.prototype.zbGx=function(a){ 
        var t=this,o=gUserAct,b,c,d,e,f,g,h, i=2,l,n,p, u,z=t.WJ,w=gYCfg,yx=[];  
            
            
            
            b=a[1];
            a=a[0];
            
            z.sxXg(0,a); 
            z.skill.length=0;
            
            if(b===u){
                z.gjAct=-1 ;  
            }else{
                c=b[0], d=b[1]; 
    
                yx[0]=w.w[d]; 
    
                n=c<3?0:1; 
                
    
                z.gjAct=3; 
    
                e=o.wq[c][d]; 
    
                if(e[2]!==u)yx[0]=w.j[e[2]];
    
                f=o.cfg[n];   
    
                z.gjDz=f;     
                
                    f.s=o.jn[e[0]]; 
                    f.c=e[1];       
                
                
                l=5,g=[];
                
                while(i<l){ 
                    h=b[i]; 
                    p=magicCfg[h]; 
                    if(p!==u)g[i-2]=p;
                    yx[i-1]=w.j[h];  
                    i++;
                };
                z.gxJn(g); 
                z.yxGx(1,yx);
            };
    };
    
    
    GOrder.prototype.cjDx=function(){
    
    };
    
    GOrder.prototype.init=function(d){
    var t=this;
        
          t.map.init(d);
    };
    
    
    GOrder.prototype.move=function(){
    
    };
    
    
    GOrder.prototype.atk=function(){
    
    };
    
    
    GOrder.prototype.qdDl=function(d,f){
        
        var a=leader,b=a.limit,c=a.xy,g=gWpDl,l,u;
            if(f!==1){
                g.qdDl(d,b,c); 
            }else{
                l=d.length;
                
                while(l--){
                    g.qdNew(d[l]);
                };
            } 
     };
       
    GOrder.prototype.qdCz=function(d){
        var t=this,a,b,c,e,f,m,o,i=0,l=d.length,g=gJq,N=leader;
          while(i<l){
            a=d[i];
            b=a[0];
            m=a[1];
            o=a[2];
            if(b===0){
                  
                  if(m===0){
                      t.qdDl(o);  
                  }else if(m===1){
                      t.qdDl(o,1); 
                  };
            }else if(b===2){
                  g.getJq(m);  
            }else if(b===3){
                if(m===0){
                     g.mxQc();
                };
            }else if(b===4){
                  if(m===0){
    
                  }else if(m===5){
                     if(N.dh4!==1)N.swCz();
                  };
    
            }else if(b===5){
                  if(t.lock===1){
                     gCz.push([5,0,39]); 
                     return; 
                  }; 
                    gCz.push([1,0,[3,[9999,9999]]]);
                    c=t.map;
                    gCz.push([5,3, [gWl,gZw]]); 
                    c.gcCz(0,Mt); 
                    e=c.hqSC();
                    e=10;
                    
                     if(e>7){
                       
                            gCz.push([5,0,30]); 
                            c.rePos([13,10,0]);
                            N.rePos([13,10,0]);
                            c.tZtbG(Mt,1); 
                     } 
             };  
             
            i++;
          };
    
    };
    
     gCzCl = new GOrder(); 
    })();
    
    var gYCfg,gYx;
    (function(){
    var g={
        0:[140,1,0], 
        1:[141,1,0], 
        2:[142,1,0], 
        3:[143,1,0], 
        
        
    };    
    gYCfg={
        a:{ 
            0:{
            
            },
            1:{
                
                
                
                
                
                2:{
                
                },
            }
        },
        
        w:{
            0:g[0],  
            40:g[3],
            80:g[1],
            120:g[2],
        },
        
        j:{
            
            0:[180,1,0], 
            
            
        },
    };
    var GYX=function(){
        this.init();
    };
    GYX.prototype.init=function(){
       var  t=this,f,G=gCzCl,O={},xy,x,y,m,u;
           
            t.yl=function(m,d,j){
                    j=j||10; 
                    O=G.jtO; 
                    xy=O.xy;
                    x=xy[0],y=xy[1];
                    x=x-m[0],y=y-m[1];
                    
                    if(x<0)x=-x;
                    if(y<0)y=-y;
                    y=(y/2)<<0; 
                    if(x>j||y>j)return; 
                    x=x>y?y:x; 
                    d[1]=(j-x)/j; 
                    
                    gYp.push(d);
            };
    };
    gYx=new GYX();
    
    })();
    
    var npcJb, gJqJb, gMapJq;
    (function(){
    var sjWZ=function(t,e){ 
        var a=e[0],b=e[1],c=e[2],d=e[3],f;
            b=(b-a)*Math.random();
            b=b<<0;
            d=(d-c)*Math.random();
            d=d<<0;
            t.rePos([a+b,c+d,e[4],e[5]])
    
    };
       
    var xhCfg={
        7020:{
           0:{
               
               0:function(t){
                    t.tjQc(); 
                    t.tjTj(
                      [
                        [[2],[[7,7]],0],
                        [[0],[[29,29,12,12]],1],
                      ],
                      {
                         0:function(t){
                           
                            t.tjKz(0,1);
                            t.tyActCl(4,[29,12]);
                         },
                         1:function(t){
                           
                             gYx.yl([29,12],[19,1,0]);
                             t.delete();
                             xhJb(7020,0,1,t);    
                         }
                      }
                    ) 
               },
               
               1:function(t){
                  
                  var j={
                        1:[
                           [[0],[[29,29,13,13]],0],
                           [[0],[[41,41,10,10]],1],
                        ],
                        2:{
                           0:function(t){
                                 gYx.yl([29,12],[19,1,0]);
                                 t.tjKz(0,1);
                                 t.tyActCl(4,[41,10]);      
                           },
                           1:function(t){
                                 t.mxGb(0);
                                 xhJb(7020,0,0,t);
                           }
                        }
                      };
                     gJq.ycCj([1],[[0,0]],0,[[7020,[29,13,1,4],j]]) ; 
               },
           },
        },
        7032:{
             0:{
                  
                  0:function(t){
                         var j={
                            1:[
                              [[2,0,1],[[1,1],[21,21,59,59],-1],0], 
                              [[0],[[27,27,80,80]],1],  
                            ],
                            2:{
                               
                               0:function(t){
                                 gYx.yl([21,59],[19,1,0]);
                                  t.tjKz(0,1);
                                  t.tyActCl(4,[27,80]); 
                               },
                               
                               1:function(t){
                                  t.tjQc();
                                  xhJb(7032,0,1,t); 
                               },
                            }
                         };
                        gJq.ycCj(
                           [0,1],[-1,[1,1]],  
                           0, [[7032,[21,59,1],j]]     
                        );
                  },
                  
                  1:function(t){
                        t.tjQc();
                        
                        t.newJb({
                           0:2,
                           1:[ [1,0,6000] ,[-1,3,[29,80]],[1,0,6000],[-1,3,[27,80]]   ]
                        });
                        t.tjTj([
                           [[2],[[3,3]],0],  
                           [[0],[[21,21,58,58]],1],
                        ],{
                            
                            0:function(t){
                              
                              t.tjKz(0,1); 
                              
                              t.tyActCl(4,[21,58]);
                            },
                            
                            1:function(t){
                                 gYx.yl([21,59],[19,1,0]);
                                 t.delete();
                                 xhJb(7032,0,2,t); 
                            },
                        })
                  },
                  
                  2:function(t){
                       var j={
                          1:[
                            [[2,0],[[4,4],[21,21,59,59]],0], 
                          ],
                          2:{
                             
                             0:function(t){
                                 gYx.yl([21,59],[19,1,0]);
                                  t.tjKz(0,1);
                                  t.tyActCl(4,[7,61]); 
                                  xhJb(7032,0,3,t);
    
                             },
                          }
                       };
                        gJq.ycCj(
                           [0,1],[-1,[4,4]],  
                           0, [[7032,[21,59,0],j]]     
                        );
                  },
                  
                  3:function(t){
                     t.newJb({
                        0:2,
                        1:[[1,0,6000],[-1,3,[7,52]],[1,0,6000],[-1,3,[7,56]],[1,0,6000],[-1,3,[7,61]]]
                     }); 
                     t.tjTj([
                          [[2],[[6,6]],0],
                          [[0],[[21,21,58,58]],1], 
                       ],{
                          
                          0:function(t){
                                 
                                   t.tyActCl(4,[21,58]);
                                   t.tjKz(0,1);
    
                          },
                          
                          1:function(t){
                              gYx.yl([21,59],[19,1,0]);
                              t.delete();
                              xhJb(7032,0,4,t);
                          }
                      })
                  },
                  
                  4:function(t){
                        var j={
                            1:[
                              [[2,0],[[7,7],[21,21,59,59]],0],
                              [[0],[[32,32,30,30]],1]  
                            ],
                            2:{
                               
                               0:function(t){
                                  gYx.yl([21,59],[19,1,0]);
                                   t.tjKz(0,1);
                                   t.tyActCl(4,[32,30]);
    
                               },
                               
                               1:function(t){
                                   gYx.yl([21,59],[21,0.7,0]);
                                    t.delete();
                                    xhJb(7032,0,5,t); 
                               }
                            }
                        };
                       gJq.ycCj([0,1],[-1,[7,7]],0,[[7032,[21,59,1],j]]);
                  },
                  
                  5:function(t){
                     
                     var j={
                         1:[
                            [[2,0],[[8,8],[32,32,30,30]],0],
                            [[0],[[21,21,58,58]],1]
                         ],
                         2:{
                            
                            0:function(t){
                                gYx.yl([32,30],[19,1,0]);
                                t.tjKz(0,1);
                                t.tyActCl(4,[21,58]);
                            },
                            1:function(t){
                                 gYx.yl([21,59],[19,1,0]);
                                 t.delete(); 
                                 xhJb(7032,0,0,t);
                            }
                         }
                     };
    
                     gJq.ycCj([0,1],[-1,[8,8]],0,[[7032,[32,30,0],j]]); 
                  }
             },
        },
        7021:{ 
            0:{
                
                 0:function(t,v){ 
                   var j={
                          1:[
                            [[0],[[38,38,16,16]],0],
                            [[0],[[20,20,41,41]],1],
                          ],
                          2:{
                             
                             0:function(t){
                              
                                 t.tjKz(0,1);
                                 xhJb(7021,0,2,t,2);
                             },
                             1:function(t){
                              
                                 xhJb(7021,0,1,t,v);
                                 xhJb(7021,0,2,t,0);
                             }
                          }
                       }; 
                        gJq.cjJm([
                           [7021,[38,16,0],j]
                        ]);
                 },
                 
                 1:function(t,v){
                     t.tjQc();
                var d=[
                        [[2],[[3,3]],0],
                        [[2],[[6,6]],1],
                        
                     ];
                    if(v===1){
                       d.splice(0,1);
                    };
                     t.tjTj(d,{
                        
                        0:function(){
                           
                              t.tjQc();
                              xhJb(7021,0,2,t,1);
                              t.tjTj([
                                 [[0],[[37,37,16,16]],0]
                              ],{
                                 
                                 0:function(t){
                                    
                                    t.delete();
                                    xhJb(7021,0,0,t,1); 
                                 },
                              })
                           },
                           1:function(t){
                              
                              t.tjQc();
                              xhJb(7021,0,2,t,1);
                              t.tjTj([
                                 [[0],[[37,37,16,16]],0]
                              ],{
                                 
                                 0:function(t){
                                    
                                    t.delete();
                                    xhJb(7021,0,0,t,0); 
                                 },
                              })
                        }
                     });
    
                 },
                 
                 2:function(t,v){
                     if(v===0){
                         t.newJb({
                              0:0,
                              1:[[1,1,1] ], 
                         });
                     }else if(v===1){
                        t.newJb({
                           0:2,
                           1:[[-1,3,[19,37]],[-1,3,[37,16]], ] 
                        });
                     }else{
                        
                        t.newJb({
                           0:2,
                           1:[[-1,3,[25,33]],[-1,3,[19,37]],[-1,3,[19,39]],[-1,3,[20,41]],] 
                        });
                     }     
    
                 },
            },
            1:{
                
                  0:function(t){
                     
                     var j={
                           1:[
                              [[2],[[6,6]],0]
                           ],
                           2:{
                              0:function(t){ 
                                    t.tjQc();
                                    
                                    xhJb(7023,0,2,t);
                              },
                           } 
                     }
                        gJq.cjJm([  
                           [7021,[28,48,0],j],  
                        ]);
                  },
                
                 1:function(t2){ 
                   var j={
                         0:{
                           0:2,
                           1:[[-1,3,[28,31]],[1,0,3000],[-1,3,[27,48]],[-1,3,[28,48]]]
                         },
                         1:[
                           [[0],[[28,28,35,35]],0], 
                           [[0],[[28,28,48,48]],1],
                         ],
                         2:{
                            
                            0:function(){
                              
                                 xhJb(7023,0,1,t2);
                            },
                            
                            1:function(t){
                                 
                                 t.tjQc();
                                 t.newJb({ 
                                    0:0,
                                    1:[[1,1,1]]
                                 });
                                 xhJb(7021,1,3,t);
                            }
                         }
                       };
                        gJq.cjJm([  
                           [7021,[36,16,0],j],  
                        ]);
                 },
                 
                 2:function(t){
                      t.newJb({
                         0:2,
                         1:[[-1,3,[27,47]],[-1,3,[27,37]],[-1,3,[28,34]],[-1,3,[35,16]]]
                      });
                      t.tjTj([
                        [[0],[[35,35,16,16]],0]
                      ],{
                        0:function(t){
                           
                            t.delete();
                        }
                      });
                 },
                 
                 3:function(t){
                     
                     t.tjTj([
                        [[2],[[6,6]],0]
                     ],{
                        0:function(){
                           xhJb(7023,0,2,t);
                        }
                     });
                 },
            },
        },
        7023:{
            0:{
                
                0:function(t){
                   t.tjTj([
                      [[2],[[3,3]],0]
                   ],{
                      0:function(){
                        
                          xhJb(7021,1,1,t);
                      }
                   });
    
                },
                
                1:function(t){
                    t.newJb({ 
                       0:2,
                       1:[[-1,3,[28,34]],[-1,3,[35,16]]]
                    });
                    t.tjTj([
                       [[0],[[35,35,16,16]],0]
                    ],{
                       0:function(t){
                           t.delete();
                       }
                    });
                },
                
                2:function(t2){
                  
                        var j={
                              0:{
                                 0:2,
                                 1:[[-1,3,[28,31]],[1,0,3000],[-1,3,[24,41]]]
                              },
                              1:[
                                 [[0],[[28,28,35,35]],0], 
                                 [[0],[[24,24,41,41]],1],
                              ],
                              2:{
                                 
                                 0:function(t){
                                    
                                       xhJb(7021,1,2,t2);
                                 },
                                 
                                 1:function(t){
                                    
                                    t.tjQc();
                                    t.newJb({ 
                                       0:0,
                                       1:[[1,1,1]]
                                    });
                                    xhJb(7023,0,0,t);
                                 }
                              }
                        };
                        gJq.cjJm([  
                           [7023,[36,16,0],j],  
                        ]);
                }
            }
        },
        7036:{
           0:{
             
              0:function(t){
                  var j={
                      1:[
                         [[0],[[36,36,4,4]],0]
                      ],
                      2:{
                         
                         0:function(t){
                            t.tjQc();
                            xhJb(7036,0,1,t); 
                         }
                      }
                  };
                  gJq.ycCj([1],[[0,0]],0,[[7036,[36,4,0],j]])
              },
              
              1:function(t){
                 t.newJb({
                    0:2,
                    1:[[-1,3,[31,8]],[1,0,18000],[-1,3,[26,12]],[1,0,18000],],
                 });
                 t.tjTj([
                      [[2],[[6,6]],0],
                      [[0],[[35,35,3,3]],1],
                 ],{
                     0:function(t){
                         t.tjKz(0,1);
                         t.tyActCl(4,[35,3]);
                     },
                     1:function(t){
                         t.delete();
                         xhJb(7036,0,0,t);
                     }
                 })
    
              }
           },
        },
        7037:{
           0:{
                
               0:function(t){
                  
                   sjWZ(t,[24,32,9,11]); 
                   t.newJb({
                     0:2,
                     1:[[1,0,8000],[2,1,2],[-1,3,[33,9]],[1,0,6000],[2,1,2],[1,0,6000],[-1,3,[24,9]],[1,0,6000],[2,1,2],[1,0,6000],[-1,3,[25,9]]]
                  });
               }
           },
        },
        7038:{
           0:{
              
              0:function(t){
                    t.newJb({
                       0:2,
                       1:[[1,0,40000],[2,1,1],[-1,3,[22,35]],[1,0,40000],[2,1,1],[-1,3,[24,35]],],
                    })
                  
              }
           }
        },
    };
    
    var xhJb=function(id,t,n,o,v0,v1){
        var d=xhCfg,
            d=d[id][t][n];
            d(o,v0,v1);
     };
     npcJb={ 
        
         7020:{
             0:{
                 0:0,
                 1:[[1,1,1]], 
             },
             2:{
                1:[
                   [[2],[[0,6]],0], 
                   [[2],[[7,11]],1],  
                ],
                2:{
                   
                   0:function(t){
                        t.tjQc();
                        xhJb(7020,0,0,t)
                   },
                   
                   1:function(t){
                      
                        t.delete();
                        xhJb(7020,0,1,t)
    
                   }
                }
             }  
         },
         7220:{
              0:{
                 0:{
                    0:0,
                    1:[[1,1,1]], 
                 },
             },
             2:{
                 0:{
                     0:0,
                     1:[[1,1,1] ], 
                 },
             }, 
         },
         7021:{
             0:{
                 0:{
                    0:0,
                    1:[ [1,0,6000 ] ], 
                 },
             },
             1:{
                 1:[
                    
                    [[2],[[3,3]],0],
                    [[2],[[6,6]],1],
                    
                    [[2],[[7,11]],1],
                    [[2],[[0,2]],1]
                 ],
                 2:{
                    
                     0:function(t){
                        xhJb(7021,0,1,t,1); 
                     },
                     
                     1:function(t){
                        xhJb(7021,0,1,t,0); 
                     },
    
                 }            
             },
             2:{
    
             } 
         },
         7022:{
              0:{
                 0:{
                    0:0,
                    1:[ [1,0,6000 ] ], 
                 },
              },
         },
         7023:{
              0:{
                 0:{
                    0:0,
                    1:[ [1,0,6000 ] ], 
                 },
              },
              1:{
                   1:[
                      [[2],[[0,2]],0],
                      [[2],[[3,6]],1],
                      [[2],[[7,11]],0], 
                   ],
                   2:{
                      
                       0:function(t){
                          
                           t.tjQc();
                           xhJb(7023,0,0,t);
                       },
                       
                       1:function(t){
                           t.delete();
                           xhJb(7021,1,0,t);
                       }
                   }
              },
         },
         7032:{
    
               0:{
                    0:{
                       0:0,
                       1:[[1,1,1]], 
                    },
    
               },
               
               2:{
                       1:[
                             [[1],[0],0],       
                             [[2],[[9,11]],0],  
                             [[2],[[0,0]],0],   
                             [[2,1],[[1,2],-1],8],   
                             [[2,1],[[3,3],-1],1], 
                             [[2,1],[[7,7],-1],2],  
                             [[2],[[8,8]],0],  
                       ],
                       2:{
                             
                             0:function(t){
                                   
                                   t.delete(); 
                                   
                                   xhJb(7032,0,0,t);
                             },
                             
                             1:function(t){
                                t.delete();
                                
                                xhJb(7032,0,2,t);
                             },
                             
                             2:function(t){
                                t.delete();
                                
                                xhJb(7032,0,5,t);
                             },
                             
                             8:function(t){ 
                                   
                                   t.tjQc();
                                   sjWZ(t,[27,40,76,80])
                                   xhJb(7032,0,1,t);
                                   
                             },
                         
                       },
    
               },
    
         },
         7024:{
              0:{
                 0:{
                    0:0,
                    1:[[1,0,6000],[2,1,1]],
                 },
              },
              1:{
                 1:[
                    [[2],[[0,11]],0],
                  ],
                  2:{
                     0:function(t){
                         t.tjQc();
                         t.newJb({
                            0:2,
                            1:[[1,0,9000],[2,1,2],[-1,3,[6,36]],[1,0,9000],[2,1,2],[-1,3,[6,39]]]
                         });
                     },   
                  } 
              },
    
         },
         7026:{
           0:{
              0:{
                 0:0,
                 1:[[1,0,6000],[2,1,1]],
              },
           },
           1:{
                 0:{
                    0:0,
                    1:[[1,0,13000],[2,1,1]],
                 },
           },
         },
         7027:{
           0:{
              0:{
                 0:0,
                 1:[[1,0,6000],[2,1,1]],
              },
           },
           1:{
                1:[
                  [[2],[[0,11]],0],
                ],
                2:{
                   0:function(t){
                       t.tjQc();
                       t.newJb({
                          0:2,
                          1:[[1,0,15000],[2,1,2],[-1,3,[7,35]],[1,0,15000],[2,1,2],[-1,3,[10,35]]]
                       });
                   },   
                } 
           },
    
         },
         7030:{
              0:{
                 0:{
                    0:0,
                    1:[[1,0,6000],[2,1,1]],
                 },
              },
              1:{
    
              },
         },
         7031:{
           0:{
              0:{
                 0:0,
                 1:[[1,0,6000],[2,1,1]],
              },
           },
           1:{
             
           },
    
         },
         7033:{
           0:{
              0:{
                 0:0, 
                 1:[[1,0,8000]],  
              },
              1:{
    
              }
           },
         },
         7034:{
           0:{
              0:{
                 0:0, 
                 1:[[1,0,8000]],  
              },
              1:{
    
              }
           },
         },
         7035:{
           0:{
              0:{
                 0:0, 
                 1:[[1,0,8000],[2,1,1] ],  
              },
           },
           1:{
    
           },
         },
         7036:{
              0:{
                 0:{
                    0:0,
                    1:[[1,0,6000]],
                 },
              },
              1:{
                 1:[
                    [[2],[[7,11]],0], 
                    [[2],[[0,6]],1]
                 ],
                 2:{
                    
                    0:function(t){
                       t.delete();
                       xhJb(7036,0,0,t);
                    },
                    1:function(t){
                       
                        t.tjQc();
                        xhJb(7036,0,1,t);
                    }
                 },
              },
         },
         7037:{
           0:{
                 0:{
                    0:0,
                    1:[[1,0,6000],[2,1,1]],
                 },
           },
           
           1:{
               1:[
                  [[2],[[0,11]],0],
               ],
               2:{
                  
                  0:function(t){
                      t.tjQc();
                      xhJb(7037,0,0,t); 
                     
                  }
               }
    
           }
    
         },
         7038:{
           0:{
                 0:{
                    0:0,
                    1:[[1,0,6000],[2,1,1]],
                 },
           },
           
           1:{
               1:[
                  [[2],[[0,11]],0],
               ],
               2:{
                  
                  0:function(t){
                      t.tjQc();
                      xhJb(7038,0,0,t);
                  }
               }
    
           }
         },
         7039:{
           0:{
               0:{
                  0:1,
                  1:[[1,1,1]]
               },
           },
         },
         
         6060:{
              0:{
                 0:{
                    0:1, 
                    1:[ [-1,4,[0]] ,[1,0,500 ],[-1,4,[0]],[2,1,1 ],[3,1,2] ], 
                 }
              },
    
         },
         
         
         6300:{
           0:{
               0:{
                 0:1,
                 1:[ [-1,2,[0,0]],[-1,4,[0]]], 
               },
           },
         },
         6301:{
           0:{
               0:{
                 0:1,
                 1:[ [-1,2,[0,0]],[-1,4,[0]]], 
               },
           },
         },
         6302:{
           0:{
               0:{
                 0:1,
                 1:[ [-1,2,[0,0]],[-1,4,[0]]], 
               },
           },
         },    
    };
    
    gJqJb={
        0:{
             0:{
                
                0:40, 
                1:[0,2,1], 
                3:40,         
                6:[
                    [[0],[[3,7,5,10]],0],
                ],
                nf:{
                     0:function(t){ 
                          var g=gCzCl,a=gJq;
                            a.sdSj(1);
                           
                           t.tjKz(0,1);
                           a.rwJq(); 
                           
                           a.cjJm([[7220,[6,17,0],2], ]); 
                           gCz.push([2,0,7220]);
                           
                           g.jtJd(a.npc[7220]);
                          
                     }, 
    
                }
             },
             1:{
               3:40,
               6:[
                 [[3],[40],0],
               ],
               nf:{
                  0:function(t){
                        
                          
                          t.tjKz(0,1);
                          gJq.rwJq(); 
    
                        var a=gJq.npc[7220];
                           a.tjTj( 
                                 [
                                   [[0],[[6,7,6,7]],0],
                                   [[0],[[6,6,17,17]],1],
                                 ],
                                 {
                                   0:function(t2){ 
                                      t2.tjKz(0,1);
                                      t2.mxGb(0);
                                      gCz.push([2,0,7220]);
                                      
                                      
                                       
                                   },
                                   1:function(t2){
                                      
                                      t2.tjKz(1,1);
                                      t2.tyActCl(4,[6,6]);
                                   }
                                 }
                           );
                           a.cfPd();
                          
                  }, 
               }
             },
             2:{
                t:1, 
                0:0,  
                1:[11,19,0], 
                3:0,          
                4:[
                   [7220,[9,19,1],2],
                ],
                6:[
                   [[3],[0],0],
                ],
                nf:{
                   0:function(t){ 
                             t.tjKz(0,1);
                             gJq.rwJq(); 
                             gCz.push([2,0,7220]);
                          var a=gJq.npc[7220];
                              gCzCl.jtJd(a); 
                   }
                }
    
             },
             3:{
                t:1,
                3:0,
                6:[
                   [[3],[0],0],
                ],
                nf:{
                   0:function(t){
                        var a=gJq.npc[7220];
                            a.tyActCl(4,[10,31]); 
                            t.tjKz(0,1);
                            gJq.rwJq(); 
                          
                            a.tjTj(
                                 [ [[0],[[10,10,31,31] ],0]] ,
                                  {
                                    0:function(t2){
                                       
                                        t2.tjQc;
                                        t2.delete();
                                        gJq.rwJq();
                                        gCz.push([2,0,7220]);
                                    }
                                 }
                            ); 
                   }
                }    
             },
             4:{
                3:0,
                6:[
                  [[3],[0],0],
                ],
                nf:{
                   0:function(t){
                        gJq.sdSj(0);
                        gJq.rwJq(); 
                        t.rePos([13,10,0]);  
                        mapBrush.gcCz(0,Mt);
                        t.tjQc();
                        gCzCl.jtJd();
                        gCz.push([2,6,[0,5]]); 
                        
                   },
                }
    
             },
             
             
             6:{
                0:11,
                1:[14,44,1,3],
                3:11,
                6:[
                   [[3],[11],0]
                ],
                nf:{
                 0:function(t){
                    var l=5,x,y,c,d=[],e=gJq;
                       t.tjQc();
                       e.sdSj(1);
                       setTimeout(function(){gCz.push([2,0,100])},1500);
                       setTimeout(function(){gCz.push([2,0,100])},3500);
                       
                       
                       while(l--){
                             x=(12+5*Math.random())<<0; 
                             y=(41+8*Math.random())<<0; 
                             c=l&1;
                             d.push(new Npc_Npc( [[x,y,c,3],null,6060]));
                       };
                       gDw.dw2=d;
                       gDw.dwF=function(){
                             
                             gJq.qtXy(10,[38,10,1,4]); 
                       };
                       e.sdSj(0);
                       gCz.push([2,6,[0,7]]); 
                 }
               }
             },
             
             
        },
    };
    
    var sjCJ=function(a,b,l){
        var x=a[0],w=a[1]-x+1,y=a[2],h=a[3]-y+1,x1,y1;
           while(l--){
              x1=x+((Math.random()*w)<<0);
              y1=y+((Math.random()*h)<<0);
              new Npc_Npc([[x1,y1,b[1],b[2]],null,b[0]] )
           };
    };
    gMapJq={ 
        
        10:{
             0:{
                 0:{
                     4:[
                        [7032,[25,78,1],2], 
                        [7020,[41,10,0,4],2], 
                     ],
                 }
             },
        },
        
        11:{
           0:{
               0:{
                  4:[
                     [7036,[31,7,0],1], 
                  ],
                  5:[
                     
                     [6060,[12,42,1],0],
                     [6060,[14,45,1],0],
                     [6060,[16,48,0],0],
                     [6060,[14,45,0],0],
                     [6060,[15,43,1],0],
                     [6060,[13,44,0],0],
                  ] 
               },
           },
        },
        12:{
           0:{
             0:{
                4:[
                  [7039,[6,30,1,3],0], 
                ],
             },
           },
        },
        14:{
           0:{
              0:{
                 5:[
                      [6300,[7,39],0],
                      [6301,[13,43],0],
                      [6302,[0,13],0],
                 ]
              },
           },
        },
        
        41:{
           0:{
              0:{
                4:[
                    [7034,[28,9,0],0],
                    [7033,[22,28,1],0],
                ] 
              },
           },
        },
        
        100:{
           0:{
               0:{
                  4:[
                     [7021,[20,41,1],1], 
                     [7037,[32,11,0],1], 
                     [7024,[6,39,0],1],
                     [7027,[10,35,1],1],
                     [7031,[16,12,0],0],
                  ],
               }
           },
        },
        
        101:{
            0:{
                0:{
                   4:[
                        [7026,[37,34,0],1],
                        [7030,[35,34,1],0],
                        [7022,[23,41,1],0], 
                        [7023,[24,41,0],1], 
                        [7038,[24,35,0],1], 
                   ]
                },
            },
        },
        110:{
         0:{
            0:{
               4:[
                  [7035,[20,31,0],0],
               ]
            },
        },
        },
        300:{
          0:{
             0:{
               6:[ 
                  
                  [[0],[[4,7,55,55]],0],  
                  [[0],[[13,13,38,46]],1],
                  [[0],[[19,19,38,46]],2],
                  [[0],[[20,22,30,30]],3],
               ],
               nf:{
                  
                  0:function(t){
                     
                      t.tjKz(0,1);
                      sjCJ([4,22,38,44],[6300,0,3],4);
                      sjCJ([4,22,38,44],[6301,0,3],4);
                      sjCJ([4,22,38,44],[6302,0,3],4);
                  },
                  
                  1:function(t){
                     
                        t.tjKz(1,1);
                        sjCJ([21,25,42,51],[6300,0,3],2);
                        sjCJ([21,25,42,51],[6301,0,3],2);
                        sjCJ([21,25,42,51],[6302,0,3],2);
                  },
                  
                  2:function(t){
                     
                        t.tjKz(2,1);
                        sjCJ([20,22,20,23],[6300,0,3],2);
                        sjCJ([20,22,20,23],[6301,0,3],2);
                        sjCJ([20,22,20,23],[6302,0,3],2);
                  },
                  
                  3:function(t){
                       
                      t.tjKz(3,1);
                      sjCJ([4,17,38,44],[6300,0,3],4);
                      sjCJ([4,17,38,44],[6301,0,3],4);
                      sjCJ([4,17,38,44],[6302,0,3],4);
                      sjCJ([21,26,48,51],[6300,0,3],4);
                      sjCJ([21,26,48,51],[6301,0,3],4);
                      sjCJ([21,26,48,51],[6302,0,3],4);
                  }
               } 
             },
          },
        },
        301:{
            0:{
               0:{
                  6:[
                     
                     [[0],[[17,21,53,53]],0],
                     [[0],[[11,11,22,31]],1],
                     [[0],[[22,24,21,21]],2],
                     [[0],[[11,11,6,15]],3], 
                     [[0],[[36,36,6,15]],4],
                     
                  ],
                  nf:{
                     0:function(t){ 
                        
                        t.tjKz(0,1);
                        sjCJ([16,23,24,34],[6300,0,3],4);
                        sjCJ([16,23,24,34],[6301,0,3],4);
                        sjCJ([16,23,24,34],[6302,0,3],4);
                     },
                     1:function(t){
                        
                        t.tjKz(1,1);
                        sjCJ([4,14,6,11],[6300,0,3],4);
                        sjCJ([4,14,6,11],[6301,0,3],4);
                        sjCJ([4,14,6,11],[6302,0,3],4);
                     },
                     2:function(t){
                        
                        t.tjKz(2,1);
                        sjCJ([28,38,7,12],[6300,0,3],4);
                        sjCJ([28,38,7,12],[6301,0,3],4);
                        sjCJ([28,38,7,12],[6302,0,3],4);
                     },
                     3:function(t){
                        
                        t.tjKz(3,1);
                        sjCJ([16,23,24,34],[6300,0,3],4);
                        sjCJ([16,23,24,34],[6301,0,3],4);
                        sjCJ([16,23,24,34],[6302,0,3],4);
                     },
                     4:function(t){
                        
                        t.tjKz(4,1);
                        sjCJ([16,23,24,34],[6300,0,3],4);
                        sjCJ([16,23,24,34],[6301,0,3],4);
                        sjCJ([16,23,24,34],[6302,0,3],4);
                     },
                  }
               },
            },
        },
    };
    
    (function(){
       var  a,b,c,d,o,i=0,l,s,e;
            d=[
               
                [10,0,0,1,18], 
                [11,0,0,1,18],
                [12,0,0,1,18],
                [14,0,0,1,18],
                [41,0,0,1,18],
                [100,0,0,1,18],
                [101,0,0,1,18],
                [110,0,0,1,18],
                [300,0,0,1,18],
                [301,0,0,1,18],
            ];
            l=d.length;
            while(i<l){
               a=d[i], s=a[3],e=a[4]+1;
               o=gMapJq[a[0]][a[1]]; 
               c=o[a[2]]; 
               while(s<e){
                  o[s]=c;
                  s++;
               };  
               i++;
            }
    
    })();
    })();
    
    var gJq;
    (function(){
        var Gjq=function(){
            var t=this;
                t.rJ=gJqJb; 
                t.mJ=gMapJq;
                t.npc={};   
                t.all=[];   
                t.id=-1; 
                t.jq=[0,0]; 
                t.G=gCzCl;   
                t.M=mapBrush;
                t.init();  
                t.ycInit(); 
                t.mxInit(); 
        }; 
        
        
        Gjq.prototype.getJq=function(d){ 
            var t=this ,a,b,c,e,f,G,u;
               
            
            
                if(d!==u){
                    t.jq[0]=d[0];
                    t.jq[1]=d[1];
                      a=t.rJ[d[0]][d[1]]; 
                      if(a!==u){
                          G=t.G;
                          if(a[0]!==u){
                             gCz.push([3,0,a[0]]); 
                             gSend2();
                             f=1;
                          };
                          
                          if(a[1]!==u){ 
                                if(f===1){
                                    G.qF=0;      
                                    G.qXy=a[1];  
                                }else{
                                    G.wjXySx(a[1]);
                                }; 
                          };
                          if(a.t===1){
                             G.lock=1;
                          };
                          t.rwJq(a);
                        
                         if(f!==1)t.jqMap(t.id); 
                        
                          
                      };
                };
        };
        
        
        Gjq.prototype.init=function(){
             var t=this,N=npcJb,z, M=t.M,R,f=0,j=t.jq,a,b,c,d,e,g,h,i,k,l,u;
                   
                 
                 t.rwJq=function(A){
                     R=A;
                     f=A===u?0:1;
                 };
                 
                 t.qcNpc=function(){
                      t.qcPd();
                      z=u;
                      t.npc={};
                      t.all.length=0;
                    
                 };
                
                 
                 t.jqMap=function(id){ 
                     if(id!==t.id){ 
                         t.qcNpc(); 
                         t.id=id;
                     };
                     if(f===1){
                        if(R[3]===id){
                            a=R;
                            
                            if(a[2]!==u){
                                
                            };
                            t.jbCL();
                            f=0; 
                            return 1; 
                        };
                     };
                     
                    
                     a=t.mJ[id];
                     if(a!==u){
                         a=a[j[0]]; 
                         if(a!==u)a=a[j[1]];
                     };
                     if(a!==u){
                        t.jbCL();
                        return 1;
                     };    
                 };
                 
                 t.jbCL=function(){
                        t.cjJm();
                        t.cjGw();
                        z=u;
                        t.cfFp();
                        t.tjGx(1,t.id);
                        t.M.jqCf(); 
                 };
                  
                 
                 t.cjJm=function(A){
                    b=A===u?a[4]:A; 
                    if(b!==u){
                        i=0,l=b.length,z=[];
                        while(i<l){
                            c=b[i];
                            k=c[1]; 
                            h=c[0]; 
                            e=new Npc_Npc( [k,null,h ]);
                            z.push(e);
                            
                            t.npc[h]=e;
                            t.all.push(e);
                            
                            if(c[2]>-1){ 
                               g=N[h][c[2]];
                            }else{
                               g=c[2]; 
                            };
                            e.newJb(g[0]);  
                            
                            if(g[1]!==u){ 
                                e.tjTj(g[1],g[2]);
                            };
                            e.cfPd();     
                            i++;
                        };
                        return z;
                    };    
                 };
                 
                 
                 t.cjGw=function(A){
                    b=A===u?a[5]:A; 
                    if(b!==u){
                        i=0,l=b.length,z=[];
                        while(i<l){
                            c=b[i];
                            k=c[1];
                            h=c[0]; 
                            e=new Npc_Npc( [k,null,h ]);
                            z.push(e);
                            t.all.push(e); 
                            
                            
                            if(c[2]>-1){ 
                              g=N[h][c[2]];
                            }else{
                              g=c[2];  
                            };
                            e.newJb(g[0]);  
                            if(g[1]!==u){ 
                                e.tjTj(g[1],g[2]);
                            };
                            e.cfPd();     
                            i++;
                        };
                        return z;
                    };  
                 };
        
                 
                 t.cfFp=function(){
                     if(a[6]!==u){
                        
                         leader.tjQc();
                         leader.tjTj(a[6],a.nf);
                         leader.cfPd(); 
                     }
                 }; 
        
        };
         
        
        Gjq.prototype.tjGx=function(n,s,j){
            var t=this,a=t.all,l,o,u;
                if(n===0)t.ycPd(s,j); 
                l=a.length; 
                while(l--){
                     o=a[l]; 
                     if(o!==u){
                        if(n===0){
                            o.tsGx(s,j);
                        }else{
                            o.mapGx(s); 
                        };
                        o.cfPd(); 
                    }; 
                }; 
                
                 o=leader;
                 if(n===0){
                      o.tsGx(s,j);
                 }else{
                      o.mapGx(s); 
                 }; 
                 o.cfPd();  
        };
        
        
        Gjq.prototype.ycInit=function(){
             var t=this,a,b,c,s,e,g,h,i,j,k, d=[],f=0,l,z,u;
                  
                  t.ycCj=function(n,m,p,q){
                   
                        f=1; 
                        d.push([n,m,p,q] );
                  };
                 
                  t.ycPd=function(n,m){
                    
                        if(f===1){ 
                             l=d.length;
                             j=0;
                             while(l--){
                                 a=d[l];
                                 b=a[0]; 
                                 c=a[1];
                                 e=b.length;
                                 g=e;
                                 while(e--){
                                     s=b[e];
                                     if(s===0){
                                         if(c[e]===n)g--;
                                     };
                                     if(s===1){
                                          h=c[e]; 
                                         if(m>=h[0]&&m<=h[1])g--;
                                     };
                                     if(g===0){
                                         if(a[2]===0){
                                             t.cjJm(a[3]);
                                         }else{ 
                                             t.cjGw(a[3]); 
                                         };  
                                         d.splice(l,1);
                                         j=1;
                                     };
                                 }
                             };
                             if(j===1){
                                if(d.length===0)f=0; 
                                 t.M.jqCf();    
                             };
        
                        };
        
        
        
                  };
                  
                  t.qcPd=function(){
                       d=[],f=0;  
                  };
        
        };
        
        
        Gjq.prototype.mxInit=function(){
          var  t=this,a,b,c,d=t.all,e,f,m=t.M,g=t.G,u;
               
               t.mxQh=function(A,B){
                   if(B.xwN>0)return; 
                    a=B.ntX; 
                    
        
                    b=B; 
                    b.dhF=1;
                    e=a;
                    if(a===A){
                        b.ntX=a?0:1; 
                        b.cfgQh();
                    }else if(A===-1){
                        B.ntX=a?0:1; 
                        B.cfgQh();
                        b=u;
                    };
                    m.sjKz(1);
               };
               
               t.mxQc=function(){
                    if(b!==u){
                        c=d.indexOf(b);
                        if(c>-1){ 
                            gCz.push([2,1]);
                            b.ntX=e;
                            b.dhF=0; 
                            b.cfgQh();
                        };
                        b=u; 
                        m.sjKz(2);
                    }; 
               };
               
               t.sdSj=function(v){ 
                    m.sjKz(v?3:4); 
               };
               
               t.qcDh=function(){
                    m.gcCz(0,Mt);
               };
               
               t.qtXy=function(v0,v1){
                    g.qF=0;      
                    g.qXy=v1;  
                    gCz.push([3,0,v0]); 
                    gSend2();
               };
        };
        
       gJq=new Gjq();
    
    })();
    
    
    var pMsg=function(){};
    G.onMessage=function(cb){
          pMsg=cb;
    };
    
    G.postMessage=function(s){
        onMsg(s);
    };
})();